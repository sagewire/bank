<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">
        <link rel="shortcut icon" href="../img/favicon.ico">
        <script src="/js/jquery.min.js"></script>
        <title>jsPlumb Toolkit - documentation</title>
        <link href="//fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet">
<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<link href="../css/main.css" rel="stylesheet">



        <link rel="stylesheet" href="../css/jsplumb-doc.css">
        <script src="/js/docs.js"></script>
    </head>

    <body>

        <!-- Fixed navbar -->
<div class="navbar navbar-top navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle Navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a class="navbar-brand" href="../index.html"><img src="../img/logo-medium-jsplumb.png"></a>

        </div>

        <div class="navbar-collapse collapse nav-wrapper">
            <ul class="nav navbar-nav">
                <li><a href="../index.html#demos">DEMOS</a></li>
<li><a href="../doc/home.html">DOCS</a></li>
<li><a href="../apidocs/index.html">APIDOCS</a></li>

            </ul>

            <div class="social-nav hidden-xs">
                <!--a href="#" class="link"><span class="icon-facebook"></span></a-->
<a href="http://twitter.com/jsplumblib" class="link"><span class="icon-twitter"></span></a>
<a href="http://github.com/sporritt/jsplumb/" class="link"><span class="icon-github"></span></a>
<a href="http://www.linkedin.com/company/jsplumb" class="link"><span class="icon-linkedin"></span></a>

            </div>
        </div><!--/.nav-collapse -->
    </div>
</div>


        <div class="container padding-top">
            <div class="row" id="docs">
                <div class="docs-nav col-xs-3" tabindex="0">
                    <ul>
<li><a href="home.html">Home</a></li>
<li><a href="getting-started.html">Getting Started</a></li>
<li><a href="basic-concepts.html">Basic Concepts</a>
    <ul>
        <li><a href="basic-concepts.html#instantiating">Instantiating the Toolkit</a></li>
        <li><a href="basic-concepts.html#basicloading">Loading Data</a></li>
        <li><a href="basic-concepts.html#rendering">Rendering</a></li>
    </ul>
</li>  
<li><a href="data-model.html">Data Model</a>
    <ul>
        <li><a href="data-model.html#format">Data Format</a></li>
        <li><a href="data-model.html#node-edge-port-id">Node, Edge and Port IDs</a></li>
        <li><a href="data-model.html#node-edge-port-type">Node, Edge and Port Type</a></li>
        <li><a href="data-model.html#datafactories">Data Factories</a></li>
    </ul>
</li>  
<li><a href="rendering.html">Rendering</a>
<ul>
    <li><a href="models-and-views.html">Models and Views</a></li>
    <li><a href="templating.html">Templating</a></li>
    <li><a href="layouts.html">Layouts</a></li>
    <li><a href="ui-states.html">UI States</a></li>
    <li><a href="path-tracing.html">Path Tracing</a></li>
    <li><a href="rendering.html#dragpalette">Drag & Drop Nodes</a></li>
    <li><a href="navigation.html">Navigating your Dataset</a></li>
</ul>
</li>
<li>
Data Management
    <ul>
        <li><a href="loading-and-saving-data.html">Loading & Saving Data</a></li>
        <li><a href="loading-and-saving-data.html#loading">Loading</a></li>
        <li><a href="updating-data.html">Updating Data</a></li>
    </ul>
</li>
    
<li><a href="css.html">CSS</a>
    <ul>
        <li><a href="css.html#defaultcss">Default CSS Stylesheet</a></li>
        <li><a href="css.html#ref">Class Reference</a></li>
    </ul>
</li>
  
<li><a href="events.html">Events</a>
    <ul>
        <li><a href="events.html#toolkit">Toolkit Events</a></li>
        <li><a href="events.html#surface">Rendering Events</a></li>
    </ul>
</li>
  
<li>Selecting Content
    <ul>
      <li><a href="selections.html">Selections</a></li>
      <li><a href="paths.html">Paths</a></li>
      <li><a href="filters.html">Filters</a></li>
    </ul>
</li>

<li><a href="angular-integration.html">Angular Integration</a></li>
<li>Demonstrations
    <ul>
      <li><a href="demo-hierarchical.html">Hierarchical Layout</a></li>
      <li><a href="demo-spring.html">Spring Layout</a></li>
      <li><a href="demo-imageWidget.html">Image Widget</a></li>
      <li><a href="demo-circular.html">Circular Layout</a></li>
      <li><a href="demo-multiple.html">Multiple Renderers</a></li>
      <li><a href="demo-paths.html">Path Tracing</a></li>
      <li><a href="demo-absolute.html">Absolute Layout</a></li>
      <li><a href="demo-database-visualizer.html">Database Visualizer</a></li>
      <li><a href="demo-flowchart-builder.html">Flowchart Builder</a></li>
      <li><a href="demo-angular.html">Angular Integration</a></li>
      <li><a href="demo-hello-world.html">Hello World</a></li>
    </ul>
</li>
    
<li><a href="UtilityFunctions.html">Utilities</a></li>
<li><a href="dialogs.html">Dialogs</a></li>
<li><a href="drawing.html">Drawing</a></li>
</ul>
                </div>
                <div class="markdown-body col-xs-9">
                    <h2>UI States</h2>

<p>A common use case is the requirement to temporarily paint a set of Nodes and/or Edges with some set of styles.  The 
Surface supports this through the concept of <strong>UI States</strong>. </p>

<p>First, an example. This is a snippet from the <code>view</code> parameter passed to a <code>render</code> call:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">toolkitInstance</span><span class="p">.</span><span class="nx">render</span><span class="p">({</span>

  <span class="nx">container</span><span class="o">:</span><span class="s2">&quot;someElementId&quot;</span><span class="p">,</span>  
  <span class="nx">view</span><span class="o">:</span><span class="p">{</span>

    <span class="p">...</span> <span class="nx">other</span> <span class="nx">view</span> <span class="nx">content</span><span class="p">...</span>

    <span class="s2">&quot;states&quot;</span><span class="o">:</span><span class="p">{</span>
      <span class="s2">&quot;mintyGreenState&quot;</span><span class="o">:</span><span class="p">{</span>
        <span class="s2">&quot;default&quot;</span><span class="o">:</span><span class="p">{</span>
          <span class="nx">cssClass</span><span class="o">:</span><span class="s2">&quot;mintyGreen&quot;</span><span class="p">,</span>      
          <span class="nx">paintStyle</span><span class="o">:</span><span class="p">{</span> <span class="s2">&quot;strokeStyle&quot;</span><span class="o">:</span><span class="s2">&quot;#00FF00&quot;</span> <span class="p">},</span>
          <span class="nx">endpointStyle</span><span class="o">:</span> <span class="p">{</span> <span class="nx">fillStyle</span><span class="o">:</span><span class="s2">&quot;#00EE00&quot;</span> <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>Here we have declared a state called <strong>mintyGreenState</strong>. When this state is active, all Nodes of type <code>default</code> to 
which it applies will have a CSS class of <code>mintyGreen</code> added, and all Edges of type <code>default</code> will be painted with a 
stroke style of <code>#00FF00</code> (for the eagle-eyed, not quite minty green, it&#39;s true). All Ports - which are represented 
via jsPlumb Endpoints - will have a fill style of <code>#00EE00</code>.</p>

<p>Note also that Edges and Ports - represented by jsPlumb Connections and Endpoints respectively - will be assigned the 
CSS class of <code>mintyGreen</code>. So you need to ensure that any CSS rules related to UI states are specific enough that you 
do not accidentally apply Node styles to a Connection.</p>

<h3>Applying UI States</h3>

<p>You can apply a state to any of the following:</p>

<ul>
<li>The entire dataset</li>
<li>The <a href="selections-and-paths.html#currentSelection">current Selection</a></li>
<li>A <a href="selections-and-paths.html#paths">Path</a></li>
</ul>

<p>Using the <code>activateState</code> method. </p>

<h3>Methods available</h3>

<ul>
<li><code>activateState(stateId, [target])</code></li>
</ul>

<p>Activate the given state, optionally on the given target. If target is not supplied then the state will be applied to 
the entire dataset.</p>

<ul>
<li><code>deactivateState(stateId, [target])</code></li>
</ul>

<p>Deactivate the given state, optionally on the given target. If target is not supplied then the state deactivation will 
be applied to the entire dataset.</p>

<ul>
<li><code>resetState()</code></li>
</ul>

<p>Deactivates all states across the entire dataset.</p>

<p>A typical use case for this functionality is when you want to select a Path and highlight it:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">surface</span><span class="p">.</span><span class="nx">activateState</span><span class="p">(</span><span class="s2">&quot;mintyGreenState&quot;</span><span class="p">,</span> <span class="nx">toolkit</span><span class="p">.</span><span class="nx">getPath</span><span class="p">({</span><span class="nx">source</span><span class="o">:</span><span class="s2">&quot;node1&quot;</span><span class="p">,</span> <span class="nx">target</span><span class="o">:</span><span class="s2">&quot;node2&quot;</span><span class="p">}));</span>
</code></pre></div>
<h3>Wildcard states</h3>

<p>In the above example, the state specification applied to all Nodes, Edges and Ports that have a type of <code>default</code>.<br>
Should you wish to indicate that a state can be applied to any object, you can use a wildcard:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="s2">&quot;states&quot;</span><span class="o">:</span><span class="p">{</span>
    <span class="s2">&quot;mintyGreenState&quot;</span><span class="o">:</span><span class="p">{</span>
      <span class="s2">&quot;*&quot;</span><span class="o">:</span><span class="p">{</span>
        <span class="nx">cssClass</span><span class="o">:</span><span class="s2">&quot;mintyGreen&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;aSpecificType&quot;</span><span class="o">:</span><span class="p">{</span>
        <span class="nx">cssClass</span><span class="o">:</span><span class="s2">&quot;FOO&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
</code></pre></div>
<p>In this example, which contains only <code>cssClass</code> directives (remember that the <code>cssClass</code> will be added to all Nodes, 
Edges and Ports), when <code>mintyGreenState</code> is activated, all objects will get the <code>mintyGreen</code> CSS class. But objects of 
type <code>aSpecificType</code> will get the <code>FOO</code> CSS class <em>also</em>.  </p>

<h3>Note on <code>updateEdge</code> and <code>updateNode</code></h3>

<p>When you call <code>updateEdge</code> or <code>updateNode</code> on a Toolkit instance, any edge or node states that are active for the given 
object will be cancelled and it will revert to its default state (albeit with the new data you provided). </p>

                </div>
            </div>
        </div>

    </body>

</html>
