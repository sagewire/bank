<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">
        <link rel="shortcut icon" href="../img/favicon.ico">
        <script src="/js/jquery.min.js"></script>
        <title>jsPlumb Toolkit - documentation</title>
        <link href="//fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet">
<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<link href="../css/main.css" rel="stylesheet">



        <link rel="stylesheet" href="../css/jsplumb-doc.css">
        <script src="/js/docs.js"></script>
    </head>

    <body>

        <!-- Fixed navbar -->
<div class="navbar navbar-top navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle Navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a class="navbar-brand" href="../index.html"><img src="../img/logo-medium-jsplumb.png"></a>

        </div>

        <div class="navbar-collapse collapse nav-wrapper">
            <ul class="nav navbar-nav">
                <li><a href="../index.html#demos">DEMOS</a></li>
<li><a href="../doc/home.html">DOCS</a></li>
<li><a href="../apidocs/index.html">APIDOCS</a></li>

            </ul>

            <div class="social-nav hidden-xs">
                <!--a href="#" class="link"><span class="icon-facebook"></span></a-->
<a href="http://twitter.com/jsplumblib" class="link"><span class="icon-twitter"></span></a>
<a href="http://github.com/sporritt/jsplumb/" class="link"><span class="icon-github"></span></a>
<a href="http://www.linkedin.com/company/jsplumb" class="link"><span class="icon-linkedin"></span></a>

            </div>
        </div><!--/.nav-collapse -->
    </div>
</div>


        <div class="container padding-top">
            <div class="row" id="docs">
                <div class="docs-nav col-xs-3" tabindex="0">
                    <ul>
<li><a href="home.html">Home</a></li>
<li><a href="getting-started.html">Getting Started</a></li>
<li><a href="basic-concepts.html">Basic Concepts</a>
    <ul>
        <li><a href="basic-concepts.html#instantiating">Instantiating the Toolkit</a></li>
        <li><a href="basic-concepts.html#basicloading">Loading Data</a></li>
        <li><a href="basic-concepts.html#rendering">Rendering</a></li>
    </ul>
</li>  
<li><a href="data-model.html">Data Model</a>
    <ul>
        <li><a href="data-model.html#format">Data Format</a></li>
        <li><a href="data-model.html#node-edge-port-id">Node, Edge and Port IDs</a></li>
        <li><a href="data-model.html#node-edge-port-type">Node, Edge and Port Type</a></li>
        <li><a href="data-model.html#datafactories">Data Factories</a></li>
    </ul>
</li>  
<li><a href="rendering.html">Rendering</a>
<ul>
    <li><a href="models-and-views.html">Models and Views</a></li>
    <li><a href="templating.html">Templating</a></li>
    <li><a href="layouts.html">Layouts</a></li>
    <li><a href="ui-states.html">UI States</a></li>
    <li><a href="path-tracing.html">Path Tracing</a></li>
    <li><a href="rendering.html#dragpalette">Drag & Drop Nodes</a></li>
    <li><a href="navigation.html">Navigating your Dataset</a></li>
</ul>
</li>
<li>
Data Management
    <ul>
        <li><a href="loading-and-saving-data.html">Loading & Saving Data</a></li>
        <li><a href="loading-and-saving-data.html#loading">Loading</a></li>
        <li><a href="updating-data.html">Updating Data</a></li>
    </ul>
</li>
    
<li><a href="css.html">CSS</a>
    <ul>
        <li><a href="css.html#defaultcss">Default CSS Stylesheet</a></li>
        <li><a href="css.html#ref">Class Reference</a></li>
    </ul>
</li>
  
<li><a href="events.html">Events</a>
    <ul>
        <li><a href="events.html#toolkit">Toolkit Events</a></li>
        <li><a href="events.html#surface">Rendering Events</a></li>
    </ul>
</li>
  
<li>Selecting Content
    <ul>
      <li><a href="selections.html">Selections</a></li>
      <li><a href="paths.html">Paths</a></li>
      <li><a href="filters.html">Filters</a></li>
    </ul>
</li>

<li><a href="angular-integration.html">Angular Integration</a></li>
<li>Demonstrations
    <ul>
      <li><a href="demo-hierarchical.html">Hierarchical Layout</a></li>
      <li><a href="demo-spring.html">Spring Layout</a></li>
      <li><a href="demo-imageWidget.html">Image Widget</a></li>
      <li><a href="demo-circular.html">Circular Layout</a></li>
      <li><a href="demo-multiple.html">Multiple Renderers</a></li>
      <li><a href="demo-paths.html">Path Tracing</a></li>
      <li><a href="demo-absolute.html">Absolute Layout</a></li>
      <li><a href="demo-database-visualizer.html">Database Visualizer</a></li>
      <li><a href="demo-flowchart-builder.html">Flowchart Builder</a></li>
      <li><a href="demo-angular.html">Angular Integration</a></li>
      <li><a href="demo-hello-world.html">Hello World</a></li>
    </ul>
</li>
    
<li><a href="UtilityFunctions.html">Utilities</a></li>
<li><a href="dialogs.html">Dialogs</a></li>
<li><a href="drawing.html">Drawing</a></li>
</ul>
                </div>
                <div class="markdown-body col-xs-9">
                    <p><a name="top"></a></p>

<h2>Navigating your dataset</h2>

<p>The Surface widget exposes a host of useful methods for navigating your dataset. This page gives you a summary of each;
if you want to know more, check out <a href="apidocs/toolkit/classes/Surface.html">the API docs for the Surface widget</a>.</p>

<ul>
<li><a href="#canvas-positioning">Positioning the Canvas</a></li>
<li><a href="#canvas-zooming">Zooming the Canvas</a></li>
<li><a href="#node-navigation">Navigating to Nodes</a></li>
<li><a href="#external-element-positioning">Positioning Elements Over the Canvas</a></li>
<li><a href="#inspecting">Inspecting the Canvas state</a></li>
<li><a href="#utils">Utility Methods</a></li>
</ul>

<p><a name="canvas-positioning"></a></p>

<h3>Positioning the canvas</h3>

<h4>centerContent</h4>

<p>Pans the canvas, without changing the zoom, so that the content is centered both horizontally and vertically. Since zoom
does not change, this method can result in content being outside the viewport.</p>

<hr>

<h4>centerContentHorizontally</h4>

<p>Pans the canvas, without changing the zoom, so that the content is centered horizontally. Since zoom
does not change, this method can result in content being outside the viewport.</p>

<hr>

<h4>centerContentVertically</h4>

<p>Pans the canvas, without changing the zoom, so that the content is centered vertically. Since zoom
does not change, this method can result in content being outside the viewport.</p>

<hr>

<h4>setPan(x, y)</h4>

<p>Sets the current location of the canvas.</p>

<hr>

<h4>pan(dx, dy)</h4>

<p>Pans the canvas by the given amounts in the x and y axes.</p>

<hr>

<h4>setViewportCenter(xy[])</h4>

<p>Sets the location of the canvas such that the given point appears at the center of the viewport. The coordinates given
are relative to the canvas (ie. independent of zoom).</p>

<p><a href="#top">TOP</a></p>

<hr>

<p><a name="canvas-zooming"></a></p>

<h3>Zooming the Canvas</h3>

<h4>zoomToFit</h4>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">surface</span><span class="p">.</span><span class="nx">zoomToFit</span><span class="p">();</span>
</code></pre></div>
<p>Zooms the canvas so that all of the content fits inside the viewport, and ensures that the content is centered. By
default, this method zooms to the point that the content fills 90% of the viewport, which makes for a more readable
 UI for users. This value can be changed by passing in a <code>fill</code> parameter:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"> <span class="nx">surface</span><span class="p">.</span><span class="nx">zoomToFit</span><span class="p">({</span><span class="nx">fill</span><span class="o">:</span><span class="mf">0.75</span><span class="p">});</span>
</code></pre></div>
<p>Here we&#39;ve said we want the content to fill 75% of the viewport (the Surface will apply this to the smaller of the
 two axes).</p>

<hr>

<h4>zoomToFitIfNecessary</h4>

<p>Checks to see if all of the content is currently visible in the viewport.  If not, zooms the canvas so that all of the 
content fits inside the viewport, and ensures that the content is centered. If all content is already visible, no
 action is taken.</p>

<p>This method also supports the <code>fill</code> parameter supported by <code>zoomToFit</code>.</p>

<hr>

<h4>zoomToBackground</h4>

<p>Zooms the canvas so that the entire background is visible. The Toolkit ships with two background types - <code>Image</code> and
<code>TiledImage</code>, but you can also write your own.</p>

<hr>

<h4>zoomToSelection</h4>

<p>Zooms the canvas so that the currently selected elements are all visible and centered. </p>

<hr>

<h4>setZoom(zoom)</h4>

<p>Clamps the given zoom value to the current zoom range and then changes the widget zoom accordingly.</p>

<hr>

<h4>setZoomRange(bounds)</h4>

<p>Sets the current zoom range as an array of [lower, upper] bounds.</p>

<hr>

<h4>nudgeZoom(amount)</h4>

<p>Nudges the zoom by the given amount. A value of 1 indicates 100%. You can pass in negative values. The zoom value
resulting from this operation will be clamped to the current zoom range.</p>

<p><a href="#top">TOP</a></p>

<hr>

<p><a name="node-navigation"></a></p>

<h3>Navigating to Nodes</h3>

<p>In all of these methods, <code>node</code> can refer to a DOM element, a Node object, or a Node ID (String).</p>

<h4>centerOn(node)</h4>

<p>Pans the canvas so that the given node is centered both horizontally and vertically.</p>

<hr>

<h4>centerOnHorizontally(node)</h4>

<p>Pans the canvas so that the given node is centered horizontally.</p>

<hr>

<h4>centerOnVertically(node)</h4>

<p>Pans the canvas so that the given node is centered vertically.</p>

<hr>

<h4>centerOnAndZoom(node, ratio)</h4>

<p>Pans and zooms the canvas so that the given node is centered, and fills the viewport (within the constraints of the
current zoom range) to a given ratio. Ratio is applied by first calculating which axis is the short edge of the viewport.
Call this <code>viewportLength</code>. The corresponding edge of the focus node is then measured; call this <code>nodeLength</code>. Zoom is 
then calculated such that <code>nodeLength = viewportLength * ratio</code>. The default value for <code>ratio</code> is 0.6. But note again:
the current zoom range will constrain the result of this calculation.</p>

<p><a href="#top">TOP</a></p>

<hr>

<p><a name="external-element-positioning"></a></p>

<h3>Positioning Elements Over the Canvas</h3>

<h4>positionElementAt(element, x, y</h4>

<p>Places (using <code>style.left</code> and <code>style.top</code>) the given element at the given x,y, which is taken to mean an [x,y] value 
on the canvas.</p>

<hr>

<h4>positionElementAtEventLocation(element, event)</h4>

<p>Places (using <code>style.left</code> and <code>style.top</code>) the given element at the page x,y corresponding to the given event.  It 
is assumed, just because of what this method does, that the given element will be positioned <code>absolute</code>, but this 
method does nothing to ensure that.</p>

<hr>

<h4>positionElementAtPageLocation(element, x, y)</h4>

<p>Places (using <code>style.left</code> and <code>style.top</code>) the given element at the given page x,y.  It is assumed, just because of 
what this method does, that the given element will be positioned <code>absolute</code>, but this method does nothing to ensure that.</p>

<hr>

<h4>floatElement(element, xy[])</h4>

<p>Appends an element to the viewport so that it floats above the content that is being zoomed and panned. The element 
will have <code>position:absolute</code> set on it. You can float any element you like, but note that the responsibility for 
setting an appropriate z index is yours.</p>

<hr>

<h4>fixElement(element, constraints)</h4>

<p>Appends an element to the content such that it is zoomed with everything else, but constrains pan in one or both axes 
so that the element remains fixed with respect to the viewport origin.</p>

<p><a href="#top">TOP</a></p>

<hr>

<p><a name="inspecting"></a></p>

<h3>Inspecting the canvas state</h3>

<h4>getPan</h4>

<p>Gets the current pan in each axis as an array of [x,y] values.</p>

<hr>

<h4>getZoom</h4>

<p>Gets the current zoom. A value of 1 mean 100%.</p>

<hr>

<h4>getZoomRange</h4>

<p>Gets the current zoom range as an array of [lower, upper] bounds.</p>

<hr>

<h4>getViewportCenter</h4>

<p>Gets the canvas location that corresponds to the center of the viewport.  Note that this may describe a point 
outside of the content bounds.</p>

<hr>

<h4>getApparentCanvasLocation</h4>

<p>Returns the apparent [left,top] of the canvas inside the viewport - the coordinates, in real pixel values, of where 
the origin of the canvas appears to be. This apparent origin is not necessarily the same as the [left,top] values of 
the canvas, because the transform origin and zoom values change things.  This function is used in conjunction with 
the content bounds by widgets such as the miniview, to calculate what is actually visible in the viewport at some 
point in time.</p>

<p><a href="#top">TOP</a></p>

<hr>

<p><a name="utils"></a></p>

<h3>Utility Methods</h3>

<h4>pageLocation(event)</h4>

<p>Decodes the page location from the given event, taking touch devices into account.</p>

<hr>

<h4>mapLocation(x, y)</h4>

<p>Maps the given page location to an [x,y] location in the Surface&#39;s canvas.</p>

<hr>

<h4>mapEventLocation(event)</h4>

<p>Maps the page location of the given event to an [x,y] location in the Surface&#39;s canvas.</p>

<hr>

<h4>findNearbyNodes(xy[], radius)</h4>

<p>Finds all nodes whose centers are within a rectangle with <code>origin</code> as its center, and a width and height of <code>radius / 2</code>.</p>

<hr>

<h4>findIntersectingNodes(xy[], wh[])</h4>

<p>Finds all nodes that intersect to any extent the rectangle defined by the given origin and dimensions. This 
rectangle is taken to be in the coordinate space of the document, ie. a value of [0,0] for the origin means the 
document&#39;s top/left corner.</p>

<hr>

<h4>isInViewport(x, y)</h4>

<p>Returns whether or not the given point (relative to page origin) is within the viewport for the widget.</p>

<p><a href="#top">TOP</a></p>

                </div>
            </div>
        </div>

    </body>

</html>
