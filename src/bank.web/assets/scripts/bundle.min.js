/*!
 * jQuery Typeahead
 * Copyright (C) 2016 RunningCoder.org
 * Licensed under the MIT license
 *
 * @author Tom Bertrand
 * @version 2.7.6 (2016-12-23)
 * @link http://www.runningcoder.org/jquerytypeahead/
 */
function openSidenav(n){(console.log(n),isSidenavOpen())||(sidenavTimer=setTimeout(function(){var n=$("#global-sidenav"),t=$("#sidenav-toggler");(console.log(t.is(":visible")),n.is(":hover")||t.is(":visible"))&&(n.addClass("open"),$(".darken").fadeIn(),$(".top-nav").addClass("sidenav-open"))},n),sidenavCloseTimer=setTimeout(function(){var n=$("#global-sidenav"),t=$("#sidenav-toggler");n.is(":hover")||t.is(":visible")||closeSidenav()},1e3))}function closeSidenav(){var n=$("#global-sidenav");isSidenavOpen()&&(clearTimeout(sidenavTimer),n=$("#global-sidenav"),n.removeClass("open"),$(".darken").fadeOut(),$(".account").hide(),$(".top-nav").removeClass("sidenav-open"))}function isSidenavOpen(){return $("#global-sidenav").width()>75}function toggleSidenav(n){isSidenavOpen()?closeSidenav():openSidenav(n)}function restoreBody(){window.scrollTo(0,lastScrollPosition);$("body").removeClass("modal-open");$("#modal").fadeOut("slow",function(){$("#modal").remove()});$("#main-body").fadeIn("slow");mainBodyHtml=null}function is_touch_device(){return"ontouchstart"in window||navigator.maxTouchPoints}function renderCharts(){console.log("rendering charts...");$("[data-chart-type='sankey']").each(function(n,t){google.charts.load("current",{packages:["sankey"]});google.charts.setOnLoadCallback(function(){drawSankeyChart(t)})});$("[data-chart-type='combo']").each(function(){$(this).highcharts("Combo",{plotOptions:{series:{stacking:"normal"}}})});$("[data-chart-type='key-ratio']").each(function(){$(this).highcharts("Combo",{chart:{marginBottom:75,spacingBottom:0},plotOptions:{areaspline:{lineWidth:0}},legend:{enabled:!0,layout:"vertical"},tooltip:{formatter:function(){var t=this.series.name,n=this.key;return($.isNumeric(n)||t===n)&&(n=""),"<b>"+t+"<\/b><br/><i>"+n+"<\/i><br/>"+Highcharts.dateFormat("%e-%b-%Y",new Date(this.x))+"<br/> Value: "+Highcharts.numberFormat(this.y,2,".",",")+" "}},series:[{},{lineWidth:0}]})});$("[data-chart-type='fixed-placement']").each(function(){$(this).highcharts("Combo",{plotOptions:{bar:{grouping:!0,borderWidth:0,groupPadding:0,pointPadding:0}},yAxis:{max:100},series:[{color:"rgba(165,170,217,.5)",pointPadding:.1,zIndex:100},{color:"rgba(126,86,134,.9)",pointPadding:.2},{color:"rgba(186,60,61,.9)",pointPadding:.3}]})});$("[data-chart-type='primary']").each(function(){$(this).highcharts("Combo",{chart:{marginBottom:85,spacingBottom:0},plotOptions:{areaspline:{lineWidth:0}},lang:{thousandsSep:","},legend:{enabled:!0,layout:"horizontal"},tooltip:{shared:!0,borderWidth:0,shadow:!1,useHTML:!0,valueDecimals:0,headerFormat:"<table class='primary-tooltip table table-sm table-striped'><tr><th colspan='2'>{point.x:%b %e %Y}<\/th><\/th>",pointFormat:"<tr><td style='border-left: 10px solid {point.series.color}'>{point.series.name}<\/td><td style='text-align: right;'>{point.y}<\/td><\/tr>",footerFormat:"<\/table>",formatter:null,positioner:function(){return{x:0,y:0}}},xAxis:{gridLineWidth:1,tickPositions:null,labels:{enabled:!0}},series:[{fillColor:{linearGradient:{x1:.2,x2:0,y1:0,y2:.75},stops:[[0,Highcharts.Color("#2E96EA").setOpacity(.7).get("rgba")],[1,Highcharts.Color("#30C8CA").setOpacity(.7).get("rgba")]]}}]})})}function drawSankeyChart(n){var i=$(n).data("series");console.log(i);var u=google.visualization.arrayToDataTable(i[0].data),t=new google.visualization.DataView(u),f=google.visualization.data.max(t.getDistinctValues(2)),e=t.getFilteredRows([{column:2,minValue:f*.008}]);t.setRows(e);var r=["#a6cee3","#b2df8a","#fb9a99","#fdbf6f","#cab2d6","#ffff99","#1f78b4","#33a02c"],o={tooltip:{isHtml:!0},sankey:{iterations:128,node:{interactivity:!0,nodePadding:15,width:15,colors:r,label:{fontSize:12}},link:{colorMode:"source",colors:r}}},s=new google.visualization.Sankey(n);s.draw(t,o)}function tooltip(n,t,i){return"<div style='background-color:red'>"+i+"<\/div>"}function DefaultChart(n,t,i,r){var s=typeof n=="string"||n.nodeName,u=arguments[s?1:0],u=Highcharts.merge(r,u),h=$(n).data("series"),o=$(n).data("annotations"),c=0,f,e;return $.each(h,function(n,t){var i=u.series[c++];$.extend(!0,t,i)}),u.series=h,o!==undefined&&o.length>0&&$.each(o,function(n,t){var i={name:t.Name,type:"scatter",dashStyle:"Dot",lineWidth:0,yAxis:"annotations",visible:t.Visible,data:[]};$.each(t.Items,function(n,t){var r={x:t.value,y:1,name:t.text};i.data.push(r)});u.series.push(i);console.log(i)}),f=s?new Highcharts.Chart(n,u,i):new Highcharts.Chart(u,t),e=[],$.each(f.series,function(n,t){var u=t.options.focus,i,r;u==="last"&&(i=t.points,r=i[i.length-1],e.push(r))}),e.length>0&&f.tooltip.refresh(e),f.reflow(),f}(function(n){typeof define=="function"&&define.amd?define("jquery-typeahead",["jquery"],function(t){return n(t)}):typeof module=="object"&&module.exports?module.exports=function(t,i){return t===undefined&&(t=typeof window!="undefined"?require("jquery"):require("jquery")(i)),n(t)}():n(jQuery)})(function(n){"use strict";var f,t;window.Typeahead={version:"2.7.6"};var e={input:null,minLength:2,maxItem:8,dynamic:!1,delay:300,order:null,offset:!1,hint:!1,accent:!1,highlight:!0,group:!1,groupOrder:null,maxItemPerGroup:null,dropdownFilter:!1,dynamicFilter:null,backdrop:!1,backdropOnFocus:!1,cache:!1,ttl:36e5,compression:!1,suggestion:!1,searchOnFocus:!1,resultContainer:null,generateOnLoad:null,mustSelectItem:!1,href:null,display:["display"],template:null,groupTemplate:null,correlativeTemplate:!1,emptyTemplate:!1,cancelButton:!0,loadingAnimation:!0,filter:!0,matcher:null,source:null,callback:{onInit:null,onReady:null,onShowLayout:null,onHideLayout:null,onSearch:null,onResult:null,onLayoutBuiltBefore:null,onLayoutBuiltAfter:null,onNavigateBefore:null,onNavigateAfter:null,onMouseEnter:null,onMouseLeave:null,onClickBefore:null,onClickAfter:null,onDropdownFilter:null,onSendRequest:null,onReceiveRequest:null,onPopulateSource:null,onCacheSave:null,onSubmit:null,onCancel:null},selector:{container:"typeahead__container",result:"typeahead__result",list:"typeahead__list",group:"typeahead__group",item:"typeahead__item",empty:"typeahead__empty",display:"typeahead__display",query:"typeahead__query",filter:"typeahead__filter",filterButton:"typeahead__filter-button",dropdown:"typeahead__dropdown",dropdownItem:"typeahead__dropdown-item",button:"typeahead__button",backdrop:"typeahead__backdrop",hint:"typeahead__hint",cancelButton:"typeahead__cancel-button"},debug:!1},r=".typeahead",u={from:"ãàáäâẽèéëêìíïîõòóöôùúüûñç",to:"aaaaaeeeeeiiiiooooouuuunc"},o=~window.navigator.appVersion.indexOf("MSIE 9."),s=~window.navigator.appVersion.indexOf("MSIE 10"),h=~window.navigator.userAgent.indexOf("Trident")&&~window.navigator.userAgent.indexOf("rv:11"),i=function(n,t){this.rawQuery=n.val()||"";this.query=n.val()||"";this.namespace="."+r;this.tmpSource={};this.source={};this.isGenerated=null;this.generatedGroupCount=0;this.groupCount=0;this.groupBy="group";this.groups=[];this.result={};this.groupTemplate="";this.resultHtml=null;this.resultCount=0;this.resultCountPerGroup={};this.options=t;this.node=n;this.namespace="."+this.helper.slugify.call(this,n.selector)+r;this.container=null;this.resultContainer=null;this.item=null;this.xhr={};this.hintIndex=null;this.filters={dropdown:{},dynamic:{}};this.dropdownFilter={"static":[],dynamic:[]};this.dropdownFilterAll=null;this.isDropdownEvent=!1;this.requests={};this.backdrop={};this.hint={};this.hasDragged=!1;this.focusOnly=!1;this.__construct()};return i.prototype={extendOptions:function(){var r,i,f;if(this.options.dynamic&&(this.options.cache=!1,this.options.compression=!1),r=this,this.options.cache&&(this.options.cache=function(n){var i;if(n===!0)n="localStorage";else if(typeof n=="string"&&!~["localStorage","sessionStorage"].indexOf(n))return r.options.debug&&(t.log({node:r.node.selector,"function":"extendOptions()",message:'Invalid options.cache, possible options are "localStorage" or "sessionStorage"'}),t.print()),!1;i=typeof window[n]!="undefined";try{window[n].setItem("typeahead","typeahead");window[n].removeItem("typeahead")}catch(u){i=!1}return i&&n||!1}.call(this,this.options.cache)),this.options.compression&&(typeof LZString=="object"&&this.options.cache||(this.options.debug&&(t.log({node:this.node.selector,"function":"extendOptions()",message:"Missing LZString Library or options.cache, no compression will occur."}),t.print()),this.options.compression=!1)),typeof this.options.maxItem=="undefined"||/^\d+$/.test(this.options.maxItem)&&this.options.maxItem!==0||(this.options.maxItem=Infinity),this.options.maxItemPerGroup&&!/^\d+$/.test(this.options.maxItemPerGroup)&&(this.options.maxItemPerGroup=null),this.options.display&&!Array.isArray(this.options.display)&&(this.options.display=[this.options.display]),this.options.group&&(Array.isArray(this.options.group)?this.options.debug&&(t.log({node:this.node.selector,"function":"extendOptions()",message:"options.group must be a boolean|string|object as of 2.5.0"}),t.print()):(typeof this.options.group=="string"?this.options.group={key:this.options.group}:typeof this.options.group=="boolean"&&(this.options.group={key:"group"}),this.options.group.key=this.options.group.key||"group")),this.options.highlight&&!~["any",!0].indexOf(this.options.highlight)&&(this.options.highlight=!1),this.options.dropdownFilter&&this.options.dropdownFilter instanceof Object)for(Array.isArray(this.options.dropdownFilter)||(this.options.dropdownFilter=[this.options.dropdownFilter]),i=0,f=this.options.dropdownFilter.length;i<f;++i)this.dropdownFilter[this.options.dropdownFilter[i].value?"static":"dynamic"].push(this.options.dropdownFilter[i]);this.options.dynamicFilter&&!Array.isArray(this.options.dynamicFilter)&&(this.options.dynamicFilter=[this.options.dynamicFilter]);this.options.accent&&(typeof this.options.accent=="object"?this.options.accent.from&&this.options.accent.to&&this.options.accent.from.length===this.options.accent.to.length||this.options.debug&&(t.log({node:this.node.selector,"function":"extendOptions()",message:'Invalid "options.accent", from and to must be defined and same length.'}),t.print()):this.options.accent=u);this.options.groupTemplate&&(this.groupTemplate=this.options.groupTemplate);this.options.resultContainer&&(typeof this.options.resultContainer=="string"&&(this.options.resultContainer=n(this.options.resultContainer)),this.options.resultContainer instanceof n&&this.options.resultContainer[0]?this.resultContainer=this.options.resultContainer:this.options.debug&&(t.log({node:this.node.selector,"function":"extendOptions()",message:'Invalid jQuery selector or jQuery Object for "options.resultContainer".'}),t.print()));this.options.maxItemPerGroup&&this.options.group&&this.options.group.key&&(this.groupBy=this.options.group.key);this.options.callback&&this.options.callback.onClick&&(this.options.callback.onClickBefore=this.options.callback.onClick,delete this.options.callback.onClick);this.options.callback&&this.options.callback.onNavigate&&(this.options.callback.onNavigateBefore=this.options.callback.onNavigate,delete this.options.callback.onNavigate);this.options=n.extend(!0,{},e,this.options)},unifySourceFormat:function(){if(this.groupCount=0,Array.isArray(this.options.source))return this.options.source={group:{data:this.options.source}},this.groupCount=1,!0;typeof this.options.source=="string"&&(this.options.source={group:{ajax:{url:this.options.source}}});this.options.source.ajax&&(this.options.source={group:{ajax:this.options.source.ajax}});(this.options.source.url||this.options.source.data)&&(this.options.source={group:this.options.source});var r,n,i;for(r in this.options.source)if(this.options.source.hasOwnProperty(r)){if(n=this.options.source[r],typeof n=="string"&&(n={ajax:{url:n}}),i=n.url||n.ajax,Array.isArray(i)?(n.ajax=typeof i[0]=="string"?{url:i[0]}:i[0],n.ajax.path=n.ajax.path||i[1]||null,delete n.url):(typeof n.url=="object"?n.ajax=n.url:typeof n.url=="string"&&(n.ajax={url:n.url}),delete n.url),!n.data&&!n.ajax)return this.options.debug&&(t.log({node:this.node.selector,"function":"unifySourceFormat()",arguments:JSON.stringify(this.options.source),message:'Undefined "options.source.'+r+'.[data|ajax]" is Missing - Typeahead dropped'}),t.print()),!1;n.display&&!Array.isArray(n.display)&&(n.display=[n.display]);this.options.source[r]=n;this.groupCount++}return!0},init:function(){this.helper.executeCallback.call(this,this.options.callback.onInit,[this.node]);this.container=this.node.closest("."+this.options.selector.container);this.options.debug&&(t.log({node:this.node.selector,"function":"init()",message:"OK - Typeahead activated on "+this.node.selector}),t.print())},delegateEvents:function(){var t=this,u=["focus"+this.namespace,"input"+this.namespace,"propertychange"+this.namespace,"keydown"+this.namespace,"keyup"+this.namespace,"dynamic"+this.namespace,"generate"+this.namespace],i,r;n("html").on("touchmove",function(){t.hasDragged=!0}).on("touchstart",function(){t.hasDragged=!1});this.node.closest("form").on("submit",function(n){if(t.options.mustSelectItem&&t.helper.isEmpty(t.item)){n.preventDefault();return}return t.options.backdropOnFocus||t.hideLayout(),t.options.callback.onSubmit?t.helper.executeCallback.call(t,t.options.callback.onSubmit,[t.node,this,t.item,n]):void 0}).on("reset",function(){setTimeout(function(){t.node.trigger("input"+t.namespace);t.hideLayout()})});if(i=!1,this.node.attr("placeholder")&&(s||h)){r=!0;this.node.on("focusin focusout",function(){r=!!(!this.value&&this.placeholder)});this.node.on("input",function(n){r&&(n.stopImmediatePropagation(),r=!1)})}this.node.off(this.namespace).on(u.join(" "),function(n,r){switch(n.type){case"generate":t.isGenerated=null;t.generateSource();break;case"focus":if(t.focusOnly){t.focusOnly=!1;break}t.options.backdropOnFocus&&(t.buildBackdropLayout(),t.showLayout());t.options.searchOnFocus&&t.query.length>=t.options.minLength&&(t.isGenerated?t.showLayout():t.isGenerated===null&&t.generateSource());break;case"keydown":n.keyCode&&~[9,13,27,38,39,40].indexOf(n.keyCode)&&(i=!0,t.navigate(n));break;case"keyup":t.isGenerated!==null||t.options.dynamic||t.generateSource();o&&t.node[0].value.replace(/^\s+/,"").toString().length<t.query.length&&t.node.trigger("input"+t.namespace);break;case"propertychange":if(i){i=!1;break}case"input":if(t.rawQuery=t.node[0].value.toString(),t.rawQuery===""&&t.query!==""&&(n.originalEvent=r||{},t.helper.executeCallback.call(t,t.options.callback.onCancel,[t.node,n])),t.query=t.rawQuery.replace(/^\s+/,""),t.options.cancelButton&&t.toggleCancelButton(),t.options.hint&&t.hint.container&&t.hint.container.val()!==""&&t.hint.container.val().indexOf(t.rawQuery)!==0&&t.hint.container.val(""),t.options.dynamic){t.isGenerated=null;t.helper.typeWatch(function(){t.query.length>=t.options.minLength?t.generateSource():t.hideLayout()},t.options.delay);return}case"dynamic":if(!t.isGenerated)break;t.searchResult();t.buildLayout();(t.result.length>0||t.options.emptyTemplate&&t.query!=="")&&t.query.length>=t.options.minLength?t.showLayout():t.hideLayout()}});this.options.generateOnLoad&&this.node.trigger("generate"+this.namespace)},generateSource:function(){var e,o,i,f,u,r,s;if(!this.isGenerated||this.options.dynamic){if(this.generatedGroupCount=0,this.isGenerated=!1,this.options.loadingAnimation&&this.container.addClass("loading"),!this.helper.isEmpty(this.xhr)){for(e in this.xhr)this.xhr.hasOwnProperty(e)&&this.xhr[e].abort();this.xhr={}}o=this;for(i in this.options.source)if(this.options.source.hasOwnProperty(i)){if(u=this.options.source[i],this.options.cache&&(r=window[this.options.cache].getItem("TYPEAHEAD_"+this.node.selector+":"+i),r)){this.options.compression&&(r=LZString.decompressFromUTF16(r));s=!1;try{r=JSON.parse(r+"");r.data&&r.ttl>(new Date).getTime()?(this.populateSource(r.data,i),s=!0,this.options.debug&&(t.log({node:this.node.selector,"function":"generateSource()",message:'Source for group "'+i+'" found in '+this.options.cache}),t.print())):window[this.options.cache].removeItem("TYPEAHEAD_"+this.node.selector+":"+i)}catch(h){}if(s)continue}if(u.data&&!u.ajax){typeof u.data=="function"?(f=u.data.call(this),Array.isArray(f)?o.populateSource(f,i):typeof f.promise=="function"&&function(t){n.when(f).then(function(n){n&&Array.isArray(n)&&o.populateSource(n,t)})}(i)):this.populateSource(n.extend(!0,[],u.data),i);continue}u.ajax&&(this.requests[i]||(this.requests[i]=this.generateRequestObject(i)))}this.handleRequests()}},generateRequestObject:function(n){var u=this,i=this.options.source[n],t={request:{url:i.ajax.url||null,dataType:"json",beforeSend:function(t){u.xhr[n]=t;var r=u.requests[n].callback.beforeSend||i.ajax.beforeSend;typeof r=="function"&&r.apply(null,arguments)}},callback:{beforeSend:null,done:null,fail:null,then:null,always:null},extra:{path:i.ajax.path||null,group:n},validForGroup:[n]},r;if(typeof i.ajax!="function"&&(i.ajax instanceof Object&&(t=this.extendXhrObject(t,i.ajax)),Object.keys(this.options.source).length>1))for(r in this.requests)this.requests.hasOwnProperty(r)&&(this.requests[r].isDuplicated||t.request.url&&t.request.url===this.requests[r].request.url&&(this.requests[r].validForGroup.push(n),t.isDuplicated=!0,delete t.validForGroup));return t},extendXhrObject:function(t,i){return typeof i.callback=="object"&&(t.callback=i.callback,delete i.callback),typeof i.beforeSend=="function"&&(t.callback.beforeSend=i.beforeSend,delete i.beforeSend),t.request=n.extend(!0,t.request,i),t.request.dataType.toLowerCase()!=="jsonp"||t.request.jsonpCallback||(t.request.jsonpCallback="callback_"+t.extra.group),t},handleRequests:function(){var i=this,u=Object.keys(this.requests).length,r;if(this.helper.executeCallback.call(this,this.options.callback.onSendRequest,[this.node,this.query])===!1){this.isGenerated=null;return}for(r in this.requests)this.requests.hasOwnProperty(r)&&(this.requests[r].isDuplicated||function(r,f){var c,e,o,s,h;if(typeof i.options.source[r].ajax=="function"){if(c=i.options.source[r].ajax.call(i,i.query),f=i.extendXhrObject(i.generateRequestObject(r),typeof c=="object"?c:{}),typeof f.request!="object"||!f.request.url){i.options.debug&&(t.log({node:i.node.selector,"function":"handleRequests",message:'Source function must return an object containing ".url" key for group "'+r+'"'}),t.print());i.populateSource([],r);return}i.requests[r]=f}if(o=!1,~f.request.url.indexOf("{{query}}")&&(o||(f=n.extend(!0,{},f),o=!0),f.request.url=f.request.url.replace("{{query}}",encodeURIComponent(i.query))),f.request.data)for(h in f.request.data)if(f.request.data.hasOwnProperty(h)&&~String(f.request.data[h]).indexOf("{{query}}")){o||(f=n.extend(!0,{},f),o=!0);f.request.data[h]=f.request.data[h].replace("{{query}}",i.query);break}n.ajax(f.request).done(function(n,r,u){s=null;for(var o=0,h=f.validForGroup.length;o<h;o++)e=i.requests[f.validForGroup[o]],e.callback.done instanceof Function&&(s=e.callback.done(n,r,u),Array.isArray(s)&&typeof s=="object"||i.options.debug&&(t.log({node:i.node.selector,"function":"Ajax.callback.done()",message:"Invalid returned data has to be an Array"}),t.print()))}).fail(function(n,r,u){for(var o=0,s=f.validForGroup.length;o<s;o++)e=i.requests[f.validForGroup[o]],e.callback.fail instanceof Function&&e.callback.fail(n,r,u);i.options.debug&&(t.log({node:i.node.selector,"function":"Ajax.callback.fail()",arguments:JSON.stringify(f.request),message:r}),console.log(u),t.print())}).always(function(n,t,r){for(var o=0,h=f.validForGroup.length;o<h;o++)e=i.requests[f.validForGroup[o]],e.callback.always instanceof Function&&e.callback.always(n,t,r),i.populateSource(typeof n.promise=="function"&&[]||s||n,e.extra.group,e.extra.path||e.request.path),u-=1,u===0&&i.helper.executeCallback.call(i,i.options.callback.onReceiveRequest,[i.node,i.query])}).then(function(n,t){for(var r=0,u=f.validForGroup.length;r<u;r++)e=i.requests[f.validForGroup[r]],e.callback.then instanceof Function&&e.callback.then(n,t)})}(r,this.requests[r]))},populateSource:function(n,i,r){var k=this,f=this.options.source[i],o=f.ajax&&f.data,p,w,h,l,a,s,b,c,v,u,e,y;for(n=typeof r=="string"?this.helper.namespace(r,n):n,typeof n=="undefined"&&this.options.debug&&(t.log({node:this.node.selector,"function":"populateSource()",arguments:r,message:"Invalid data path."}),t.print()),Array.isArray(n)||(this.options.debug&&(t.log({node:this.node.selector,"function":"populateSource()",arguments:JSON.stringify({group:i}),message:"Invalid data type, must be Array type."}),t.print()),n=[]),o&&(typeof o=="function"&&(o=o()),Array.isArray(o)?n=n.concat(o):this.options.debug&&(t.log({node:this.node.selector,"function":"populateSource()",arguments:JSON.stringify(o),message:"WARNING - this.options.source."+i+".data Must be an Array or a function that returns an Array."}),t.print())),w=f.display?f.display[0]==="compiled"?f.display[1]:f.display[0]:this.options.display[0]==="compiled"?this.options.display[1]:this.options.display[0],u=0,e=n.length;u<e;u++){if(n[u]===null||typeof n[u]=="boolean"){this.options.debug&&(t.log({node:this.node.selector,"function":"populateSource()",message:"WARNING - NULL/BOOLEAN value inside "+i+"! The data was skipped."}),t.print());continue}typeof n[u]=="string"&&(p={},p[w]=n[u],n[u]=p);n[u].group=i}if(!this.options.dynamic&&this.dropdownFilter.dynamic.length)for(a={},u=0,e=n.length;u<e;u++)for(s=0,b=this.dropdownFilter.dynamic.length;s<b;s++)(h=this.dropdownFilter.dynamic[s].key,l=n[u][h],l)&&(this.dropdownFilter.dynamic[s].value||(this.dropdownFilter.dynamic[s].value=[]),a[h]||(a[h]=[]),~a[h].indexOf(l.toLowerCase())||(a[h].push(l.toLowerCase()),this.dropdownFilter.dynamic[s].value.push(l)));if(this.options.correlativeTemplate)if(c=f.template||this.options.template,v="",typeof c=="function"&&(c=c.call(this,"",{})),c){if(Array.isArray(this.options.correlativeTemplate))for(u=0,e=this.options.correlativeTemplate.length;u<e;u++)v+="{{"+this.options.correlativeTemplate[u]+"}} ";else v=c.replace(/<.+?>/g,"");for(u=0,e=n.length;u<e;u++)n[u].compiled=v.replace(/\{\{([\w\-\.]+)(?:\|(\w+))?}}/g,function(t,i){return k.helper.namespace(i,n[u],"get","")}).trim();f.display?~f.display.indexOf("compiled")||f.display.unshift("compiled"):~this.options.display.indexOf("compiled")||this.options.display.unshift("compiled")}else this.options.debug&&(t.log({node:this.node.selector,"function":"populateSource()",arguments:JSON.stringify(i),message:"WARNING - this.options.correlativeTemplate is enabled but no template was found."}),t.print());this.options.callback.onPopulateSource&&(n=this.helper.executeCallback.call(this,this.options.callback.onPopulateSource,[this.node,n,i,r]),this.options.debug&&(n&&Array.isArray(n)||(t.log({node:this.node.selector,"function":"callback.populateSource()",message:'callback.onPopulateSource must return the "data" parameter'}),t.print())));this.tmpSource[i]=n;this.options.cache&&!window[this.options.cache].getItem("TYPEAHEAD_"+this.node.selector+":"+i)&&(this.options.callback.onCacheSave&&(n=this.helper.executeCallback.call(this,this.options.callback.onCacheSave,[this.node,n,i,r]),this.options.debug&&(n&&Array.isArray(n)||(t.log({node:this.node.selector,"function":"callback.populateSource()",message:'callback.onCacheSave must return the "data" parameter'}),t.print()))),y=JSON.stringify({data:n,ttl:(new Date).getTime()+this.options.ttl}),this.options.compression&&(y=LZString.compressToUTF16(y)),window[this.options.cache].setItem("TYPEAHEAD_"+this.node.selector+":"+i,y));this.incrementGeneratedGroup()},incrementGeneratedGroup:function(){var t,n,i;if(this.generatedGroupCount++,this.groupCount===this.generatedGroupCount){for(this.isGenerated=!0,this.xhr={},t=Object.keys(this.options.source),n=0,i=t.length;n<i;n++)this.source[t[n]]=this.tmpSource[t[n]];this.tmpSource={};this.options.dynamic||this.buildDropdownItemLayout("dynamic");this.options.loadingAnimation&&this.container.removeClass("loading");this.node.trigger("dynamic"+this.namespace)}},navigate:function(n){if(this.helper.executeCallback.call(this,this.options.callback.onNavigateBefore,[this.node,this.query,n]),n.keyCode===27){n.preventDefault();this.query.length?(this.resetInput(),this.node.trigger("input"+this.namespace,[n])):(this.node.blur(),this.hideLayout());return}if(this.isGenerated&&this.result.length){var i=this.resultContainer.find("."+this.options.selector.item),r=i.filter(".active"),u=r[0]&&i.index(r)||null,t=null;if(n.keyCode===13){r.length>0&&(n.preventDefault(),r.find("a:first").trigger("click",n));return}if(n.keyCode===39){u?i.eq(u).find("a:first")[0].click():this.options.hint&&this.hint.container.val()!==""&&this.helper.getCaret(this.node[0])>=this.query.length&&i.find('a[data-index="'+this.hintIndex+'"]')[0].click();return}i.length>0&&r.removeClass("active");n.keyCode===38?(n.preventDefault(),r.length>0?u-1>=0&&(t=u-1,i.eq(t).addClass("active")):(t=i.length-1,i.last().addClass("active"))):n.keyCode===40&&(n.preventDefault(),r.length>0?u+1<i.length&&(t=u+1,i.eq(t).addClass("active")):(t=0,i.first().addClass("active")));n.preventInputChange&&~[38,40].indexOf(n.keyCode)&&this.buildHintLayout(t!==null&&t<this.result.length?[this.result[t]]:null);this.options.hint&&this.hint.container&&this.hint.container.css("color",n.preventInputChange?this.hint.css.color:t===null&&this.hint.css.color||this.hint.container.css("background-color")||"fff");this.node.val(t!==null&&!n.preventInputChange?this.result[t][this.result[t].matchedKey]:this.rawQuery);this.helper.executeCallback.call(this,this.options.callback.onNavigateAfter,[this.node,i,t!==null&&i.eq(t).find("a:first")||undefined,t!==null&&this.result[t]||undefined,this.query,n])}},searchResult:function(n){(n||(this.item={}),this.resetLayout(),this.helper.executeCallback.call(this,this.options.callback.onSearch,[this.node,this.query])!==!1)&&(this.query.length>=this.options.minLength&&this.searchResultData(),this.helper.executeCallback.call(this,this.options.callback.onResult,[this.node,this.query,this.result,this.resultCount,this.resultCountPerGroup]),this.isDropdownEvent&&(this.helper.executeCallback.call(this,this.options.callback.onDropdownFilter,[this.node,this.query,this.filters.dropdown,this.result]),this.isDropdownEvent=!1))},searchResultData:function(){var w=this,b=this.groupBy,f=null,r,k,o,l=this.query.toLowerCase(),s=this.options.maxItemPerGroup,st=this.filters.dynamic&&!this.helper.isEmpty(this.filters.dynamic),e,it={},d,a,rt,v,ht=typeof this.options.matcher=="function"&&this.options.matcher,ut,y,g,p,et,c,ot,u,ft,i,nt,tt,n,h;this.options.accent&&(l=this.helper.removeAccent.call(this,l));for(i in this.source)if(this.source.hasOwnProperty(i)&&(!this.filters.dropdown||this.filters.dropdown.key!=="group"||this.filters.dropdown.value===i))for(d=typeof this.options.source[i].filter!="undefined"?this.options.source[i].filter:this.options.filter,rt=typeof this.options.source[i].matcher=="function"&&this.options.source[i].matcher||ht,p=0,et=this.source[i].length;p<et;p++){if(this.result.length>=this.options.maxItem&&!this.options.callback.onResult)break;if((!st||this.dynamicFilter.validate.apply(this,[this.source[i][p]]))&&(r=this.source[i][p],r!==null&&typeof r!="boolean")&&(!this.filters.dropdown||(r[this.filters.dropdown.key]||"").toLowerCase()===(this.filters.dropdown.value||"").toLowerCase())){if(f=b==="group"?i:r[b],f&&!this.result[f]&&(this.result[f]=[],this.resultCountPerGroup[f]=0),s&&b==="group"&&this.result[f].length>=s&&!this.options.callback.onResult)break;for(u=this.options.source[i].display||this.options.display,n=0,h=u.length;n<h;n++){if(e=/\./.test(u[n])?this.helper.namespace(u[n],r):r[u[n]],typeof e=="undefined"||e===""){this.options.debug&&(it[n]={display:u[n],data:r});continue}if(e=this.helper.cleanStringFromScript(e),typeof d=="function"){if(a=d.call(this,r,e),a===undefined)break;if(!a)continue;typeof a=="object"&&(r=a)}if(~[undefined,!0].indexOf(d)){if(o=e,o=o.toString().toLowerCase(),this.options.accent&&(o=this.helper.removeAccent.call(this,o)),k=o.indexOf(l),this.options.correlativeTemplate&&u[n]==="compiled"&&k<0&&/\s/.test(l))for(ut=!0,y=l.split(" "),g=o,c=0,ot=y.length;c<ot;c++)if(y[c]!==""){if(!~g.indexOf(y[c])){ut=!1;break}g=g.replace(y[c],"")}if(k<0&&!ut)continue;if(this.options.offset&&k!==0)continue;if(rt){if(v=rt.call(this,r,e),v===undefined)break;if(!v)continue;typeof v=="object"&&(r=v)}}if(this.resultCount++,this.resultCountPerGroup[f]++,this.resultItemCount<this.options.maxItem){if(s&&this.result[f].length>=s)break;r.matchedKey=u[n];this.result[f].push(r);this.resultItemCount++}break}if(!this.options.callback.onResult){if(this.resultItemCount>=this.options.maxItem)break;if(s&&this.result[f].length>=s&&b==="group")break}}}if(this.options.debug&&(this.helper.isEmpty(it)||(t.log({node:this.node.selector,"function":"searchResult()",arguments:JSON.stringify(it),message:"Missing keys for display, make sure options.display is set properly."}),t.print())),this.options.order){u=[];for(i in this.result)if(this.result.hasOwnProperty(i)){for(n=0,h=this.result[i].length;n<h;n++)ft=this.options.source[this.result[i][n].group].display||this.options.display,~u.indexOf(ft[0])||u.push(ft[0]);this.result[i].sort(w.helper.sort(u,w.options.order==="asc",function(n){return n.toString().toUpperCase()}))}}for(nt=[],tt=typeof this.options.groupOrder=="function"?this.options.groupOrder.apply(this,[this.node,this.query,this.result,this.resultCount,this.resultCountPerGroup]):Array.isArray(this.options.groupOrder)?this.options.groupOrder:typeof this.options.groupOrder=="string"&&~["asc","desc"].indexOf(this.options.groupOrder)?Object.keys(this.result).sort(w.helper.sort([],w.options.groupOrder==="asc",function(n){return n.toString().toUpperCase()})):Object.keys(this.result),this.groups=tt,n=0,h=tt.length;n<h;n++)nt=nt.concat(this.result[tt[n]]||[]);this.result=nt},buildLayout:function(){if(this.buildHtmlLayout(),this.buildBackdropLayout(),this.buildHintLayout(),this.options.callback.onLayoutBuiltBefore){var i=this.helper.executeCallback.call(this,this.options.callback.onLayoutBuiltBefore,[this.node,this.query,this.result,this.resultHtml]);i instanceof n?this.resultHtml=i:this.options.debug&&(t.log({node:this.node.selector,"function":"callback.onLayoutBuiltBefore()",message:"Invalid returned value - You must return resultHtmlList jQuery Object"}),t.print())}this.resultHtml&&this.resultContainer.html(this.resultHtml);this.options.callback.onLayoutBuiltAfter&&this.helper.executeCallback.call(this,this.options.callback.onLayoutBuiltAfter,[this.node,this.query,this.result])},buildHtmlLayout:function(){var l,o,u,p,i,f,w,s,a,b,c,v,h,k,e,y;if(this.options.resultContainer!==!1){if(this.resultContainer||(this.resultContainer=n("<div/>",{"class":this.options.selector.result}),this.container.append(this.resultContainer)),!this.result.length)if(this.options.emptyTemplate&&this.query!=="")l=typeof this.options.emptyTemplate=="function"?this.options.emptyTemplate.call(this,this.query):this.options.emptyTemplate.replace(/\{\{query}}/gi,this.helper.cleanStringFromScript(this.query));else return;o=this.query.toLowerCase();this.options.accent&&(o=this.helper.removeAccent.call(this,o));var t=this,r=this.groupTemplate||"<ul><\/ul>",d=!1;for(this.groupTemplate?r=n(r.replace(/<([^>]+)>\{\{(.+?)}}<\/[^>]+>/g,function(n,i,r){var f="",e=r==="group"?t.groups:[r],u,o;if(!t.result.length)return d===!0?"":(d=!0,"<"+i+' class="'+t.options.selector.empty+'"><a href="javascript:;">'+l+"<\/a><\/"+i+">");for(u=0,o=e.length;u<o;++u)f+="<"+i+' data-group-template="'+e[u]+'"><ul><\/ul><\/'+i+">";return f})):(r=n(r),this.result.length||r.append(l instanceof n?l:'<li class="'+t.options.selector.empty+'"><a href="javascript:;">'+l+"<\/a><\/li>")),r.addClass(this.options.selector.list+(this.helper.isEmpty(this.result)?" empty":"")),h=this.groupTemplate&&this.result.length&&t.groups||[],e=0,y=this.result.length;e<y;++e)i=this.result[e],u=i.group,f=this.options.source[i.group].href||this.options.href,b=[],c=this.options.source[i.group].display||this.options.display,this.options.group&&(u=i[this.options.group.key],this.options.group.template&&(typeof this.options.group.template=="function"?p=this.options.group.template(i):typeof this.options.template=="string"&&(p=this.options.group.template.replace(/\{\{([\w\-\.]+)}}/gi,function(n,r){return t.helper.namespace(r,i,"get","")}))),r.find('[data-search-group="'+u+'"]')[0]||(this.groupTemplate?r.find('[data-group-template="'+u+'"] ul'):r).append(n("<li/>",{"class":t.options.selector.group,html:n("<a/>",{href:"javascript:;",html:p||u,tabindex:-1}),"data-search-group":u}))),this.groupTemplate&&h.length&&(k=h.indexOf(u||i.group),~k&&h.splice(k,1)),w=n("<li/>",{"class":t.options.selector.item+" "+t.options.selector.group+"-"+this.helper.slugify.call(this,u),html:n("<a/>",{href:function(){return f&&(typeof f=="string"?f=f.replace(/\{\{([^\|}]+)(?:\|([^}]+))*}}/gi,function(n,r,u){var f=t.helper.namespace(r,i,"get","");return u=u&&u.split("|")||[],~u.indexOf("slugify")&&(f=t.helper.slugify.call(t,f)),f}):typeof f=="function"&&(f=f(i)),i.href=f),f||"javascript:;"}(),"data-group":u,"data-index":e,html:function(){if(s=i.group&&t.options.source[i.group].template||t.options.template,s)typeof s=="function"&&(s=s.call(t,t.query,i)),a=s.replace(/\{\{([^\|}]+)(?:\|([^}]+))*}}/gi,function(n,r,u){var f=t.helper.cleanStringFromScript(String(t.helper.namespace(r,i,"get","")));return u=u&&u.split("|")||[],~u.indexOf("slugify")&&(f=t.helper.slugify.call(t,f)),~u.indexOf("raw")||t.options.highlight===!0&&o&&~c.indexOf(r)&&(f=t.helper.highlight.call(t,f,o.split(" "),t.options.accent)),f});else{for(var r=0,u=c.length;r<u;r++)(v=/\./.test(c[r])?t.helper.namespace(c[r],i):i[c[r]],typeof v!="undefined"&&v!=="")&&b.push(v);a='<span class="'+t.options.selector.display+'">'+t.helper.cleanStringFromScript(String(b.join(" ")))+"<\/span>"}(t.options.highlight===!0&&o&&!s||t.options.highlight==="any")&&(a=t.helper.highlight.call(t,a,o.split(" "),t.options.accent));n(this).append(a)}})}),function(i,r,u){u.on("click",function(i,u){if(u&&typeof u=="object"&&(i.originalEvent=u),t.options.mustSelectItem&&t.helper.isEmpty(r)){i.preventDefault();return}(t.item=r,t.helper.executeCallback.call(t,t.options.callback.onClickBefore,[t.node,n(this),r,i])!==!1)&&(i.originalEvent&&i.originalEvent.defaultPrevented||i.isDefaultPrevented()||(t.query=t.rawQuery=r[r.matchedKey].toString(),t.focusOnly=!0,t.node.val(t.query).focus(),t.searchResult(!0),t.buildLayout(),t.hideLayout(),t.helper.executeCallback.call(t,t.options.callback.onClickAfter,[t.node,n(this),r,i])))});u.on("mouseenter",function(i){t.helper.executeCallback.call(t,t.options.callback.onMouseEnter,[t.node,n(this),r,i])});u.on("mouseleave",function(i){t.helper.executeCallback.call(t,t.options.callback.onMouseLeave,[t.node,n(this),r,i])})}(e,i,w),(this.groupTemplate?r.find('[data-group-template="'+u+'"] ul'):r).append(w);if(this.result.length&&h.length)for(e=0,y=h.length;e<y;++e)r.find('[data-group-template="'+h[e]+'"]').remove();this.resultHtml=r}},buildBackdropLayout:function(){this.options.backdrop&&(this.backdrop.container||(this.backdrop.css=n.extend({opacity:.6,filter:"alpha(opacity=60)",position:"fixed",top:0,right:0,bottom:0,left:0,"z-index":1040,"background-color":"#000"},this.options.backdrop),this.backdrop.container=n("<div/>",{"class":this.options.selector.backdrop,css:this.backdrop.css}).insertAfter(this.container)),this.container.addClass("backdrop").css({"z-index":this.backdrop.css["z-index"]+1,position:"relative"}))},buildHintLayout:function(t){var f,s,e,i,h,r,c;if(this.options.hint){if(this.node[0].scrollWidth>Math.ceil(this.node.innerWidth())){this.hint.container&&this.hint.container.val("");return}var l=this,o="",t=t||this.result,u=this.query.toLowerCase();if(this.options.accent&&(u=this.helper.removeAccent.call(this,u)),this.hintIndex=null,this.query.length>=this.options.minLength){if(this.hint.container||(this.hint.css=n.extend({"border-color":"transparent",position:"absolute",top:0,display:"inline","z-index":-1,float:"none",color:"silver","box-shadow":"none",cursor:"default","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"},this.options.hint),this.hint.container=n("<input/>",{type:this.node.attr("type"),"class":this.node.attr("class"),readonly:!0,unselectable:"on","aria-hidden":"true",tabindex:-1,click:function(){l.node.focus()}}).addClass(this.options.selector.hint).css(this.hint.css).insertAfter(this.node),this.node.parent().css({position:"relative"})),this.hint.container.css("color",this.hint.css.color),u)for(i=0,h=t.length;i<h;i++){for(s=t[i].group,f=this.options.source[s].display||this.options.display,r=0,c=f.length;r<c;r++)if(e=String(t[i][f[r]]).toLowerCase(),this.options.accent&&(e=this.helper.removeAccent.call(this,e)),e.indexOf(u)===0){o=String(t[i][f[r]]);this.hintIndex=i;break}if(this.hintIndex!==null)break}this.hint.container.val(o.length>0&&this.rawQuery+o.substring(this.query.length)||"")}}},buildDropdownLayout:function(){if(this.options.dropdownFilter){var t=this;n("<span/>",{"class":this.options.selector.filter,html:function(){n(this).append(n("<button/>",{type:"button","class":t.options.selector.filterButton,style:"display: none;",click:function(i){i.stopPropagation();t.container.toggleClass("filter");var r=t.namespace+"-dropdown-filter";if(n("html").off(r),t.container.hasClass("filter"))n("html").on("click"+r+" touchend"+r,function(i){n(i.target).closest("."+t.options.selector.filter)[0]||t.hasDragged||t.container.removeClass("filter")})}}));n(this).append(n("<ul/>",{"class":t.options.selector.dropdown}))}}).insertAfter(t.container.find("."+t.options.selector.query))}},buildDropdownItemLayout:function(t){function l(n){n.value==="*"?delete this.filters.dropdown:this.filters.dropdown=n;this.container.removeClass("filter").find("."+this.options.selector.filterButton).html(n.template);this.isDropdownEvent=!0;this.node.trigger("dynamic"+this.namespace);this.node.focus()}var u=this,e,h=typeof this.options.dropdownFilter=="string"&&this.options.dropdownFilter||"All",c=this.container.find("."+this.options.selector.dropdown),i,f,o,r,s;for((t==="static"&&this.options.dropdownFilter===!0||typeof this.options.dropdownFilter=="string")&&this.dropdownFilter.static.push({key:"group",template:"{{group}}",all:h,value:Object.keys(this.options.source)}),f=0,o=this.dropdownFilter[t].length;f<o;f++)for(i=this.dropdownFilter[t][f],Array.isArray(i.value)||(i.value=[i.value]),i.all&&(this.dropdownFilterAll=i.all),r=0,s=i.value.length;r<=s;r++){if(r===s&&f!==o-1)continue;else if(r===s&&f===o-1&&t==="static"&&this.dropdownFilter.dynamic.length)continue;e=this.dropdownFilterAll||h;i.value[r]?e=i.template?i.template.replace(new RegExp("{{"+i.key+"}}","gi"),i.value[r]):i.value[r]:this.container.find("."+u.options.selector.filterButton).html(e),function(t,i,r){c.append(n("<li/>",{"class":u.options.selector.dropdownItem+" "+u.helper.slugify.call(u,i.key+"-"+(i.value[t]||h)),html:n("<a/>",{href:"javascript:;",html:r,click:function(n){n.preventDefault();l.call(u,{key:i.key,value:i.value[t]||"*",template:r})}})}))}(r,i,e)}this.dropdownFilter[t].length&&this.container.find("."+u.options.selector.filterButton).removeAttr("style")},dynamicFilter:{isEnabled:!1,init:function(){this.options.dynamicFilter&&(this.dynamicFilter.bind.call(this),this.dynamicFilter.isEnabled=!0)},validate:function(n){var u,i=null,r=null,f;for(var t in this.filters.dynamic)if(this.filters.dynamic.hasOwnProperty(t)&&(f=~t.indexOf(".")?this.helper.namespace(t,n,"get"):n[t],this.filters.dynamic[t].modifier!=="|"||i||(i=f==this.filters.dynamic[t].value||!1),this.filters.dynamic[t].modifier==="&"))if(f==this.filters.dynamic[t].value)r=!0;else{r=!1;break}return u=i,r!==null&&(u=r,r===!0&&i!==null&&(u=i)),!!u},set:function(n,t){var i=n.match(/^([|&])?(.+)/);t?this.filters.dynamic[i[2]]={modifier:i[1]||"|",value:t}:delete this.filters.dynamic[i[2]];this.dynamicFilter.isEnabled&&(this.searchResult(),this.buildLayout())},bind:function(){for(var r=this,i,u=0,f=this.options.dynamicFilter.length;u<f;u++){if(i=this.options.dynamicFilter[u],typeof i.selector=="string"&&(i.selector=n(i.selector)),!(i.selector instanceof n)||!i.selector[0]||!i.key){this.options.debug&&(t.log({node:this.node.selector,"function":"buildDynamicLayout()",message:'Invalid jQuery selector or jQuery Object for "filter.selector" or missing filter.key'}),t.print());continue}(function(n){n.selector.off(r.namespace).on("change"+r.namespace,function(){r.dynamicFilter.set.apply(r,[n.key,r.dynamicFilter.getValue(this)])}).trigger("change"+r.namespace)})(i)}},getValue:function(n){var t;return n.tagName==="SELECT"?t=n.value:n.tagName==="INPUT"&&(n.type==="checkbox"?t=n.checked&&n.getAttribute("value")||n.checked||null:n.type==="radio"&&n.checked&&(t=n.value)),t}},showLayout:function(){if(!this.container.hasClass("result")&&(this.result.length||this.options.emptyTemplate||this.options.backdropOnFocus)){var t=this;n("html").off(this.namespace).on("click"+this.namespace+" touchend"+this.namespace,function(i){n(i.target).closest(t.container)[0]||t.hasDragged||t.hideLayout()});this.container.addClass([this.result.length||this.options.emptyTemplate&&this.query.length>=this.options.minLength?"result ":"",this.options.hint&&this.query.length>=this.options.minLength?"hint":"",this.options.backdrop||this.options.backdropOnFocus?"backdrop":""].join(" "));this.helper.executeCallback.call(this,this.options.callback.onShowLayout,[this.node,this.query])}},hideLayout:function(){(this.container.hasClass("result")||this.container.hasClass("backdrop"))&&((this.container.removeClass("result hint filter"+(this.options.backdropOnFocus&&n(this.node).is(":focus")?"":" backdrop")),this.options.backdropOnFocus&&this.container.hasClass("backdrop"))||(n("html").off(this.namespace),this.helper.executeCallback.call(this,this.options.callback.onHideLayout,[this.node,this.query])))},resetLayout:function(){this.result={};this.resultCount=0;this.resultCountPerGroup={};this.resultItemCount=0;this.resultHtml=null;this.options.hint&&this.hint.container&&this.hint.container.val("")},resetInput:function(){this.node.val("");this.item=null;this.query="";this.rawQuery=""},buildCancelButtonLayout:function(){if(this.options.cancelButton){var t=this;n("<span/>",{"class":this.options.selector.cancelButton,mousedown:function(n){n.stopImmediatePropagation();n.preventDefault();t.resetInput();t.node.trigger("input"+t.namespace,[n])}}).insertBefore(this.node)}},toggleCancelButton:function(){this.container.toggleClass("cancel",!!this.query.length)},__construct:function(){(this.extendOptions(),this.unifySourceFormat())&&(this.dynamicFilter.init.apply(this),this.init(),this.delegateEvents(),this.buildCancelButtonLayout(),this.buildDropdownLayout(),this.buildDropdownItemLayout("static"),this.helper.executeCallback.call(this,this.options.callback.onReady,[this.node]))},helper:{isEmpty:function(n){for(var t in n)if(n.hasOwnProperty(t))return!1;return!0},removeAccent:function(n){if(typeof n=="string"){var t=u;return typeof this.options.accent=="object"&&(t=this.options.accent),n.toLowerCase().replace(new RegExp("["+t.from+"]","g"),function(n){return t.to[t.from.indexOf(n)]})}},slugify:function(n){return n=String(n),n!==""&&(n=this.helper.removeAccent.call(this,n),n=n.replace(/[^-a-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")),n},sort:function(n,t,i){var r=function(t){for(var r=0,u=n.length;r<u;r++)if(typeof t[n[r]]!="undefined")return i(t[n[r]]);return t};return t=[-1,1][+!!t],function(n,i){return n=r(n),i=r(i),t*((n>i)-(i>n))}},replaceAt:function(n,t,i,r){return n.substring(0,t)+r+n.substring(t+i)},highlight:function(n,t,i){var f,u,r;for(n=String(n),f=i&&this.helper.removeAccent.call(this,n)||n,u=[],Array.isArray(t)||(t=[t]),t.sort(function(n,t){return t.length-n.length}),r=t.length-1;r>=0;r--){if(t[r].trim()===""){t.splice(r,1);continue}t[r]=t[r].replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}for(f.replace(new RegExp("(?:"+t.join("|")+")(?!([^<]+)?>)","gi"),function(n,t,i){u.push({offset:i,length:n.length})}),r=u.length-1;r>=0;r--)n=this.helper.replaceAt(n,u[r].offset,u[r].length,"<strong>"+n.substr(u[r].offset,u[r].length)+"<\/strong>");return n},getCaret:function(n){var i,t,r;return n.selectionStart?n.selectionStart:document.selection?(n.focus(),i=document.selection.createRange(),i===null)?0:(t=n.createTextRange(),r=t.duplicate(),t.moveToBookmark(i.getBookmark()),r.setEndPoint("EndToStart",t),r.text.length):0},cleanStringFromScript:function(n){return typeof n=="string"&&n.replace(/<\/?(?:script|iframe)\b[^>]*>/gm,"")||n},executeCallback:function(n,i){if(n){var r;if(typeof n=="function")r=n;else if((typeof n=="string"||Array.isArray(n))&&(typeof n=="string"&&(n=[n,[]]),r=this.helper.namespace(n[0],window),typeof r!="function")){this.options.debug&&(t.log({node:this.selector,"function":"executeCallback()",arguments:JSON.stringify(n),message:'WARNING - Invalid callback function"'}),t.print());return}return r.apply(this,(n[1]||[]).concat(i?i:[]))}},namespace:function(n,i,r,u){var o,s;if(typeof n!="string"||n==="")return this.options.debug&&(t.log({node:_node.selector,"function":"namespace()",arguments:n,message:'ERROR - Missing namespaceString"'}),t.print()),!1;var h=n.split("."),f=i||window,r=r||"get",c=u||{},e="";for(o=0,s=h.length;o<s;o++){if(e=h[o],typeof f[e]=="undefined"){if(~["get","delete"].indexOf(r))return typeof u!="undefined"?u:undefined;f[e]={}}if(~["set","create","delete"].indexOf(r)&&o===s-1)if(r==="set"||r==="create")f[e]=c;else return delete f[e],!0;f=f[e]}return f},typeWatch:function(){var n=0;return function(t,i){clearTimeout(n);n=setTimeout(t,i)}}()}},n.fn.typeahead=n.typeahead=function(n){return f.typeahead(this,n)},f={typeahead:function(r,u){if(!u||!u.source||typeof u.source!="object"){t.log({node:r.selector||u&&u.input,"function":"$.typeahead()",arguments:JSON.stringify(u&&u.source||""),message:'Undefined "options" or "options.source" or invalid source type - Typeahead dropped'});t.print();return}if(typeof r=="function"){if(!u.input){t.log({node:r.selector,"function":"$.typeahead()",message:'Undefined "options.input" - Typeahead dropped'});t.print();return}r=n(u.input)}if(!r.length||r[0].nodeName!=="INPUT"){t.log({node:r.selector,"function":"$.typeahead()",arguments:JSON.stringify(u.input),message:"Unable to find jQuery input element - Typeahead dropped"});t.print();return}return u.input&&!r.selector&&(r.selector=u.input),window.Typeahead[u.input||r.selector]=new i(r,u)}},t={table:{},log:function(t){t.message&&typeof t.message=="string"&&(this.table[t.message]=n.extend({node:"","function":"",arguments:""},t))},print:function(){!i.prototype.helper.isEmpty(this.table)&&console&&console.table&&((console.group!==undefined||console.table!==undefined)&&(console.groupCollapsed("--- jQuery Typeahead Debug ---"),console.table(this.table),console.groupEnd()),this.table={})}},t.log({message:"WARNING - You are using the DEBUG version. Use /dist/jquery.typeahead.min.js in production."}),t.print(),window.console=window.console||{log:function(){}},Array.isArray||(Array.isArray=function(n){return Object.prototype.toString.call(n)==="[object Array]"}),"trim"in String.prototype||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),"indexOf"in Array.prototype||(Array.prototype.indexOf=function(n,t){t===undefined&&(t=0);t<0&&(t+=this.length);t<0&&(t=0);for(var i=this.length;t<i;t++)if(t in this&&this[t]===n)return t;return-1}),Object.keys||(Object.keys=function(n){var t=[];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.push(i);return t}),i}),function(){"use strict";function t(r){return typeof this=="undefined"||Object.getPrototypeOf(this)!==t.prototype?new t(r):(n=this,n.version="3.3.2",n.tools=new i,n.isSupported()?(n.tools.extend(n.defaults,r||{}),n.defaults.container=e(n.defaults),n.store={elements:{},containers:[]},n.sequences={},n.history=[],n.uid=0,n.initialized=!1):typeof console!="undefined"&&console!==null&&console.log("ScrollReveal is not supported in this browser."),n)}function e(t){if(t&&t.container){if(typeof t.container=="string")return window.document.documentElement.querySelector(t.container);if(n.tools.isNode(t.container))return t.container;console.log('ScrollReveal: invalid container "'+t.container+'" provided.');console.log("ScrollReveal: falling back to default container.")}return n.defaults.container}function y(t,i){return typeof t=="string"?Array.prototype.slice.call(i.querySelectorAll(t)):n.tools.isNode(t)?[t]:n.tools.isNodeList(t)?Array.prototype.slice.call(t):[]}function o(){return++n.uid}function p(t,i,r){i.container&&(i.container=r);t.config=t.config?n.tools.extendClone(t.config,i):n.tools.extendClone(n.defaults,i);t.config.axis=t.config.origin==="top"||t.config.origin==="bottom"?"Y":"X"}function w(n){var t=window.getComputedStyle(n.domEl);n.styles||(n.styles={transition:{},transform:{},computed:{}},n.styles.inline=n.domEl.getAttribute("style")||"",n.styles.inline+="; visibility: visible; ",n.styles.computed.opacity=t.opacity,n.styles.computed.transition=t.transition&&t.transition!=="all 0s ease 0s"?t.transition+", ":"");n.styles.transition.instant=s(n,0);n.styles.transition.delayed=s(n,n.config.delay);n.styles.transform.initial=" -webkit-transform:";n.styles.transform.target=" -webkit-transform:";h(n);n.styles.transform.initial+="transform:";n.styles.transform.target+="transform:";h(n)}function s(n,t){var i=n.config;return"-webkit-transition: "+n.styles.computed.transition+"-webkit-transform "+i.duration/1e3+"s "+i.easing+" "+t/1e3+"s, opacity "+i.duration/1e3+"s "+i.easing+" "+t/1e3+"s; transition: "+n.styles.computed.transition+"transform "+i.duration/1e3+"s "+i.easing+" "+t/1e3+"s, opacity "+i.duration/1e3+"s "+i.easing+" "+t/1e3+"s; "}function h(n){var t=n.config,r,i=n.styles.transform;r=t.origin==="top"||t.origin==="left"?/^-/.test(t.distance)?t.distance.substr(1):"-"+t.distance:t.distance;parseInt(t.distance)&&(i.initial+=" translate"+t.axis+"("+r+")",i.target+=" translate"+t.axis+"(0)");t.scale&&(i.initial+=" scale("+t.scale+")",i.target+=" scale(1)");t.rotate.x&&(i.initial+=" rotateX("+t.rotate.x+"deg)",i.target+=" rotateX(0)");t.rotate.y&&(i.initial+=" rotateY("+t.rotate.y+"deg)",i.target+=" rotateY(0)");t.rotate.z&&(i.initial+=" rotateZ("+t.rotate.z+"deg)",i.target+=" rotateZ(0)");i.initial+="; opacity: "+t.opacity+";";i.target+="; opacity: "+n.styles.computed.opacity+";"}function b(t){var i=t.config.container;i&&n.store.containers.indexOf(i)===-1&&n.store.containers.push(t.config.container);n.store.elements[t.id]=t}function k(t,i,r){var u={target:t,config:i,interval:r};n.history.push(u)}function c(){if(n.isSupported()){l();for(var t=0;t<n.store.containers.length;t++)n.store.containers[t].addEventListener("scroll",r),n.store.containers[t].addEventListener("resize",r);n.initialized||(window.addEventListener("scroll",r),window.addEventListener("resize",r),n.initialized=!0)}return n}function r(){f(l)}function d(){var t,r,f,i;n.tools.forOwn(n.sequences,function(e){i=n.sequences[e];t=!1;for(var o=0;o<i.elemIds.length;o++)f=i.elemIds[o],r=n.store.elements[f],u(r)&&!t&&(t=!0);i.active=t})}function l(){var i,t;d();n.tools.forOwn(n.store.elements,function(r){t=n.store.elements[r];i=tt(t);nt(t)?(t.config.beforeReveal(t.domEl),i?t.domEl.setAttribute("style",t.styles.inline+t.styles.transform.target+t.styles.transition.delayed):t.domEl.setAttribute("style",t.styles.inline+t.styles.transform.target+t.styles.transition.instant),a("reveal",t,i),t.revealing=!0,t.seen=!0,t.sequence&&g(t,i)):it(t)&&(t.config.beforeReset(t.domEl),t.domEl.setAttribute("style",t.styles.inline+t.styles.transform.initial+t.styles.transition.instant),a("reset",t),t.revealing=!1)})}function g(t,i){var f=0,e=0,u=n.sequences[t.sequence.id];u.blocked=!0;i&&t.config.useDelay==="onload"&&(e=t.config.delay);t.sequence.timer&&(f=Math.abs(t.sequence.timer.started-new Date),window.clearTimeout(t.sequence.timer));t.sequence.timer={started:new Date};t.sequence.timer.clock=window.setTimeout(function(){u.blocked=!1;t.sequence.timer=null;r()},Math.abs(u.interval)+e-f)}function a(n,t,i){var f=0,r=0,u="after";switch(n){case"reveal":r=t.config.duration;i&&(r+=t.config.delay);u+="Reveal";break;case"reset":r=t.config.duration;u+="Reset"}t.timer&&(f=Math.abs(t.timer.started-new Date),window.clearTimeout(t.timer.clock));t.timer={started:new Date};t.timer.clock=window.setTimeout(function(){t.config[u](t.domEl);t.timer=null},r-f)}function nt(t){if(t.sequence){var i=n.sequences[t.sequence.id];return i.active&&!i.blocked&&!t.revealing&&!t.disabled}return u(t)&&!t.revealing&&!t.disabled}function tt(t){var i=t.config.useDelay;return i==="always"||i==="onload"&&!n.initialized||i==="once"&&!t.seen}function it(t){if(t.sequence){var i=n.sequences[t.sequence.id];return!i.active&&t.config.reset&&t.revealing&&!t.disabled}return!u(t)&&t.config.reset&&t.revealing&&!t.disabled}function rt(n){return{width:n.clientWidth,height:n.clientHeight}}function ut(n){if(n&&n!==window.document.documentElement){var t=v(n);return{x:n.scrollLeft+t.left,y:n.scrollTop+t.top}}return{x:window.pageXOffset,y:window.pageYOffset}}function v(n){var t=0,i=0,r=n.offsetHeight,u=n.offsetWidth;do isNaN(n.offsetTop)||(t+=n.offsetTop),isNaN(n.offsetLeft)||(i+=n.offsetLeft),n=n.offsetParent;while(n);return{top:t,left:i,height:r,width:u}}function u(n){function l(){var t=o+u*r,l=s+f*r,a=h-u*r,v=c-f*r,y=i.y+n.config.viewOffset.top,p=i.x+n.config.viewOffset.left,w=i.y-n.config.viewOffset.bottom+e.height,b=i.x-n.config.viewOffset.right+e.width;return t<w&&a>y&&l>p&&v<b}function a(){return window.getComputedStyle(n.domEl).position==="fixed"}var t=v(n.domEl),e=rt(n.config.container),i=ut(n.config.container),r=n.config.viewFactor,u=t.height,f=t.width,o=t.top,s=t.left,h=o+u,c=s+f;return l()||a()}function i(){}var n,f;t.prototype.defaults={origin:"bottom",distance:"20px",duration:500,delay:0,rotate:{x:0,y:0,z:0},opacity:0,scale:.9,easing:"cubic-bezier(0.6, 0.2, 0.1, 1)",container:window.document.documentElement,mobile:!0,reset:!1,useDelay:"always",viewFactor:.2,viewOffset:{top:0,right:0,bottom:0,left:0},beforeReveal:function(){},beforeReset:function(){},afterReveal:function(){},afterReset:function(){}};t.prototype.isSupported=function(){var n=document.documentElement.style;return"WebkitTransition"in n&&"WebkitTransform"in n||"transition"in n&&"transform"in n};t.prototype.reveal=function(t,i,r,u){var a,s,f,v,h,d,l;if(i!==undefined&&typeof i=="number"?(r=i,i={}):(i===undefined||i===null)&&(i={}),a=e(i),s=y(t,a),!s.length)return console.log('ScrollReveal: reveal on "'+t+'" failed, no elements found.'),n;for(r&&typeof r=="number"&&(d=o(),h=n.sequences[d]={id:d,interval:r,elemIds:[],active:!1}),l=0;l<s.length;l++)v=s[l].getAttribute("data-sr-id"),v?f=n.store.elements[v]:(f={id:o(),domEl:s[l],seen:!1,revealing:!1},f.domEl.setAttribute("data-sr-id",f.id)),h&&(f.sequence={id:h.id,index:h.elemIds.length},h.elemIds.push(f.id)),p(f,i,a),w(f),b(f),(!n.tools.isMobile()||f.config.mobile)&&n.isSupported()?f.revealing||f.domEl.setAttribute("style",f.styles.inline+f.styles.transform.initial):(f.domEl.setAttribute("style",f.styles.inline),f.disabled=!0);return!u&&n.isSupported()&&(k(t,i,r),n.initTimeout&&window.clearTimeout(n.initTimeout),n.initTimeout=window.setTimeout(c,0)),n};t.prototype.sync=function(){var t,i;if(n.history.length&&n.isSupported()){for(t=0;t<n.history.length;t++)i=n.history[t],n.reveal(i.target,i.config,i.interval,!0);c()}else console.log("ScrollReveal: sync failed, no reveals found.");return n};i.prototype.isObject=function(n){return n!==null&&typeof n=="object"&&n.constructor===Object};i.prototype.isNode=function(n){return typeof Node=="object"?n instanceof window.Node:n&&typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.nodeName=="string"};i.prototype.isNodeList=function(n){var t=Object.prototype.toString.call(n);return typeof NodeList=="object"?n instanceof window.NodeList:n&&typeof n=="object"&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(t)&&typeof n.length=="number"&&(n.length===0||this.isNode(n[0]))};i.prototype.forOwn=function(n,t){if(this.isObject(n))for(var i in n)n.hasOwnProperty(i)&&t(i);else throw new TypeError('Expected "object", but received "'+typeof n+'".');};i.prototype.extend=function(n,t){return this.forOwn(t,function(i){this.isObject(t[i])?(n[i]&&this.isObject(n[i])||(n[i]={}),this.extend(n[i],t[i])):n[i]=t[i]}.bind(this)),n};i.prototype.extendClone=function(n,t){return this.extend(this.extend({},n),t)};i.prototype.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)};f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)};typeof define=="function"&&typeof define.amd=="object"&&define.amd?define(function(){return t}):typeof module!="undefined"&&module.exports?module.exports=t:window.ScrollReveal=t}(),function(n,t){"use strict";function f(f,e){var o=this;o.$el=n(f);o.el=f;o.id=r++;o.$el.bind("destroyed",n.proxy(o.teardown,o));o.$clonedHeader=null;o.$originalHeader=null;o.cachedHeaderHeight=null;o.isSticky=!1;o.hasBeenSticky=!1;o.leftOffset=null;o.topOffset=null;o.init=function(){o.setOptions(e);o.$el.each(function(){var t=n(this);t.css("padding",0);o.$originalHeader=n("thead:first",this);o.$clonedHeader=o.$originalHeader.clone();t.trigger("clonedHeader."+i,[o.$clonedHeader]);o.$clonedHeader.addClass("tableFloatingHeader");o.$clonedHeader.css({display:"none",opacity:0});o.$originalHeader.addClass("tableFloatingHeaderOriginal");o.$originalHeader.after(o.$clonedHeader);o.$printStyle=n('<style type="text/css" media="print">.tableFloatingHeader{display:none !important;}.tableFloatingHeaderOriginal{position:static !important;}<\/style>');o.$head.append(o.$printStyle)});o.updateWidth();o.toggleHeaders();o.bind()};o.destroy=function(){o.$el.unbind("destroyed",o.teardown);o.teardown()};o.teardown=function(){o.isSticky&&o.$originalHeader.css("position","static");n.removeData(o.el,"plugin_"+i);o.unbind();o.$clonedHeader.remove();o.$originalHeader.removeClass("tableFloatingHeaderOriginal");o.$originalHeader.css("visibility","visible");o.$printStyle.remove();o.el=null;o.$el=null};o.bind=function(){o.$scrollableArea.on("scroll."+i,o.toggleHeaders);if(!o.isWindowScrolling){o.$window.on("scroll."+i+o.id,o.setPositionValues);o.$window.on("resize."+i+o.id,o.toggleHeaders)}o.$scrollableArea.on("resize."+i,o.toggleHeaders);o.$scrollableArea.on("resize."+i,o.updateWidth)};o.unbind=function(){o.$scrollableArea.off("."+i,o.toggleHeaders);o.isWindowScrolling||(o.$window.off("."+i+o.id,o.setPositionValues),o.$window.off("."+i+o.id,o.toggleHeaders));o.$scrollableArea.off("."+i,o.updateWidth)};o.debounce=function(n,t){var i=null;return function(){var r=this,u=arguments;clearTimeout(i);i=setTimeout(function(){n.apply(r,u)},t)}};o.toggleHeaders=o.debounce(function(){o.$el&&o.$el.each(function(){var t=n(this),f,r=o.isWindowScrolling?isNaN(o.options.fixedOffset)?o.options.fixedOffset.outerHeight():o.options.fixedOffset:o.$scrollableArea.offset().top+(isNaN(o.options.fixedOffset)?0:o.options.fixedOffset),u=t.offset(),e=o.$scrollableArea.scrollTop()+r,s=o.$scrollableArea.scrollLeft(),h=o.options.cacheHeaderHeight?o.cachedHeaderHeight:o.$clonedHeader.height(),c=o.isWindowScrolling?e>u.top:r>u.top,l=(o.isWindowScrolling?e:0)<u.top+t.height()-h-(o.isWindowScrolling?0:r);c&&l?(f=u.left-s+o.options.leftOffset,o.$originalHeader.css({position:"fixed","margin-top":o.options.marginTop,left:f,"z-index":3}),o.leftOffset=f,o.topOffset=r,o.$clonedHeader.css("display",""),o.isSticky||(o.isSticky=!0,o.updateWidth(),t.trigger("enabledStickiness."+i)),o.setPositionValues()):o.isSticky&&(o.$originalHeader.css("position","static"),o.$clonedHeader.css("display","none"),o.isSticky=!1,o.resetWidth(n("td,th",o.$clonedHeader),n("td,th",o.$originalHeader)),t.trigger("disabledStickiness."+i))})},0);o.setPositionValues=o.debounce(function(){var n=o.$window.scrollTop(),t=o.$window.scrollLeft();!o.isSticky||n<0||n+o.$window.height()>o.$document.height()||t<0||t+o.$window.width()>o.$document.width()||o.$originalHeader.css({top:o.topOffset-(o.isWindowScrolling?0:n),left:o.leftOffset-(o.isWindowScrolling?0:t)})},0);o.updateWidth=o.debounce(function(){if(o.isSticky){o.$originalHeaderCells||(o.$originalHeaderCells=n("th,td",o.$originalHeader));o.$clonedHeaderCells||(o.$clonedHeaderCells=n("th,td",o.$clonedHeader));var t=o.getWidth(o.$clonedHeaderCells);o.setWidth(t,o.$clonedHeaderCells,o.$originalHeaderCells);o.$originalHeader.css("width",o.$el.width());o.options.cacheHeaderHeight&&(o.cachedHeaderHeight=o.$clonedHeader.height())}},0);o.getWidth=function(i){var r=[];return i.each(function(i){var f,u=n(this),e,s;if(u.css("box-sizing")==="border-box")e=u[0].getBoundingClientRect(),f=e.width?e.width:e.right-e.left;else if(s=n("th",o.$originalHeader),s.css("border-collapse")==="collapse")if(t.getComputedStyle)f=parseFloat(t.getComputedStyle(this,null).width);else{var h=parseFloat(u.css("padding-left")),c=parseFloat(u.css("padding-right")),l=parseFloat(u.css("border-width"));f=u.outerWidth()-h-c-l}else f=u.width();r[i]=f}),r};o.setWidth=function(n,t,i){t.each(function(t){var r=n[t];i.eq(t).css({"min-width":r,"max-width":r})})};o.resetWidth=function(t,i){t.each(function(t){var r=n(this);i.eq(t).css({"min-width":r.css("min-width"),"max-width":r.css("max-width")})})};o.setOptions=function(t){o.options=n.extend({},u,t);o.$window=n(o.options.objWindow);o.$head=n(o.options.objHead);o.$document=n(o.options.objDocument);o.$scrollableArea=n(o.options.scrollableArea);o.isWindowScrolling=o.$scrollableArea[0]===o.$window[0]};o.updateOptions=function(n){o.setOptions(n);o.unbind();o.bind();o.updateWidth();o.toggleHeaders()};o.init()}var i="stickyTableHeaders",r=0,u={fixedOffset:0,leftOffset:0,marginTop:0,objDocument:document,objHead:"head",objWindow:t,scrollableArea:t,cacheHeaderHeight:!1};n.fn[i]=function(t){return this.each(function(){var r=n.data(this,"plugin_"+i);r?typeof t=="string"?r[t].apply(r):r.updateOptions(t):t!=="destroy"&&n.data(this,"plugin_"+i,new f(this,t))})}}(jQuery,window);
/*! tether 1.3.3 */
(function(n,t){typeof define=="function"&&define.amd?define(t):typeof exports=="object"?module.exports=t(require,exports,module):n.Tether=t()})(this,function(){"use strict";function rt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function c(n){var f=n.getBoundingClientRect(),t={},r,u,i;for(r in f)t[r]=f[r];return n.ownerDocument!==document&&(u=n.ownerDocument.defaultView.frameElement,u&&(i=c(u),t.top+=i.top,t.bottom+=i.top,t.left+=i.left,t.right+=i.left)),t}function ut(n){var e=getComputedStyle(n)||{},f=e.position,i=[],t,r;if(f==="fixed")return[n];for(t=n;(t=t.parentNode)&&t&&t.nodeType===1;){r=undefined;try{r=getComputedStyle(t)}catch(c){}if(typeof r=="undefined"||r===null)return i.push(t),i;var u=r,o=u.overflow,s=u.overflowX,h=u.overflowY;/(auto|scroll)/.test(o+h+s)&&(f!=="absolute"||["relative","absolute","fixed"].indexOf(r.position)>=0)&&i.push(t)}return i.push(n.ownerDocument.body),n.ownerDocument!==document&&i.push(n.ownerDocument.defaultView),i}function et(){e&&document.body.removeChild(e);e=null}function i(n){var i=undefined;n===document?(i=document,n=document.documentElement):i=n.ownerDocument;var r=i.documentElement,t=c(n),u=wt();return t.top-=u.top,t.left-=u.left,typeof t.width=="undefined"&&(t.width=document.body.scrollWidth-t.left-t.right),typeof t.height=="undefined"&&(t.height=document.body.scrollHeight-t.top-t.bottom),t.top=t.top-r.clientTop,t.left=t.left-r.clientLeft,t.right=i.body.clientWidth-t.width-t.left,t.bottom=i.body.clientHeight-t.height-t.top,t}function a(n){return n.offsetParent||document.documentElement}function w(){var t=document.createElement("div"),n,u,i,f;return t.style.width="100%",t.style.height="200px",n=document.createElement("div"),r(n.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),n.appendChild(t),document.body.appendChild(n),u=t.offsetWidth,n.style.overflow="scroll",i=t.offsetWidth,u===i&&(i=n.clientWidth),document.body.removeChild(n),f=u-i,{width:f,height:f}}function r(){var n=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],t=[];return Array.prototype.push.apply(t,arguments),t.slice(1).forEach(function(t){if(t)for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}),n}function s(n,t){if(typeof n.classList!="undefined")t.split(" ").forEach(function(t){t.trim()&&n.classList.remove(t)});else{var i=new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi"),r=k(n).replace(i," ");ot(n,r)}}function o(n,t){if(typeof n.classList!="undefined")t.split(" ").forEach(function(t){t.trim()&&n.classList.add(t)});else{s(n,t);var i=k(n)+(" "+t);ot(n,i)}}function b(n,t){if(typeof n.classList!="undefined")return n.classList.contains(t);var i=k(n);return new RegExp("(^| )"+t+"( |$)","gi").test(i)}function k(n){return n.className instanceof n.ownerDocument.defaultView.SVGAnimatedString?n.className.baseVal:n.className}function ot(n,t){n.setAttribute("class",t)}function u(n,t,i){i.forEach(function(i){t.indexOf(i)===-1&&b(n,i)&&s(n,i)});t.forEach(function(t){b(n,t)||o(n,t)})}function rt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function kt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function dt(n,t){var i=arguments.length<=2||arguments[2]===undefined?1:arguments[2];return n+i>=t&&t>=n-i}function nt(){return typeof performance!="undefined"&&typeof performance.now!="undefined"?performance.now():+new Date}function at(){for(var t={top:0,left:0},i=arguments.length,r=Array(i),n=0;n<i;n++)r[n]=arguments[n];return r.forEach(function(n){var i=n.top,r=n.left;typeof i=="string"&&(i=parseFloat(i,10));typeof r=="string"&&(r=parseFloat(r,10));t.top+=i;t.left+=r}),t}function p(n,t){return typeof n.left=="string"&&n.left.indexOf("%")!==-1&&(n.left=parseFloat(n.left,10)/100*t.width),typeof n.top=="string"&&n.top.indexOf("%")!==-1&&(n.top=parseFloat(n.top,10)/100*t.height),n}function ri(n,t){return t==="scrollParent"?t=n.scrollParents[0]:t==="window"&&(t=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),t===document&&(t=t.documentElement),typeof t.nodeType!="undefined"&&function(){var f=t,u=i(t),r=u,e=getComputedStyle(t),n;t=[r.left,r.top,u.width+r.left,u.height+r.top];f.ownerDocument!==document&&(n=f.ownerDocument.defaultView,t[0]+=n.pageXOffset,t[1]+=n.pageYOffset,t[2]+=n.pageXOffset,t[3]+=n.pageYOffset);ii.forEach(function(n,i){n=n[0].toUpperCase()+n.substr(1);n==="Top"||n==="Left"?t[i]+=parseFloat(e["border"+n+"Width"]):t[i]-=parseFloat(e["border"+n+"Width"])})}(),t}var it=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),t=undefined,e,pt,v;typeof t=="undefined"&&(t={modules:[]});e=null;var ft=function(){var n=0;return function(){return++n}}(),l={},wt=function(){var n=e,t;return n||(n=document.createElement("div"),n.setAttribute("data-tether-id",ft()),r(n.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(n),e=n),t=n.getAttribute("data-tether-id"),typeof l[t]=="undefined"&&(l[t]=c(n),f(function(){delete l[t]})),l[t]};var st=[],f=function(n){st.push(n)},d=function(){for(var n=undefined;n=st.pop();)n()},ht=function(){function n(){rt(this,n)}return it(n,[{key:"on",value:function(n,t,i){var r=arguments.length<=3||arguments[3]===undefined?!1:arguments[3];typeof this.bindings=="undefined"&&(this.bindings={});typeof this.bindings[n]=="undefined"&&(this.bindings[n]=[]);this.bindings[n].push({handler:t,ctx:i,once:r})}},{key:"once",value:function(n,t,i){this.on(n,t,i,!0)}},{key:"off",value:function(n,t){if(typeof this.bindings!="undefined"&&typeof this.bindings[n]!="undefined")if(typeof t=="undefined")delete this.bindings[n];else for(var i=0;i<this.bindings[n].length;)this.bindings[n][i].handler===t?this.bindings[n].splice(i,1):++i}},{key:"trigger",value:function(n){var t;if(typeof this.bindings!="undefined"&&this.bindings[n]){t=0;for(var r=arguments.length,e=Array(r>1?r-1:0),i=1;i<r;i++)e[i-1]=arguments[i];while(t<this.bindings[n].length){var u=this.bindings[n][t],o=u.handler,s=u.ctx,h=u.once,f=s;typeof f=="undefined"&&(f=this);o.apply(f,e);h?this.bindings[n].splice(t,1):++t}}}}]),n}();t.Utils={getActualBoundingClientRect:c,getScrollParents:ut,getBounds:i,getOffsetParent:a,extend:r,addClass:o,removeClass:s,hasClass:b,updateClasses:u,defer:f,flush:d,uniqueId:ft,Evented:ht,getScrollBarSize:w,removeUtilElements:et};"use strict";var v=function(){function n(n,t){var r=[],u=!0,f=!1,e=undefined,i,o;try{for(i=n[Symbol.iterator]();!(u=(o=i.next()).done);u=!0)if(r.push(o.value),t&&r.length===t)break}catch(s){f=!0;e=s}finally{try{!u&&i["return"]&&i["return"]()}finally{if(f)throw e;}}return r}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),it=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),bt=function(n,t,i){var e=!0,r,f,o;n:while(e){var u=n,s=t,h=i;if(e=!1,u===null&&(u=Function.prototype),r=Object.getOwnPropertyDescriptor(u,s),r===undefined){if(f=Object.getPrototypeOf(u),f===null)return undefined;n=f;t=s;i=h;e=!0;r=f=undefined;continue n}else return"value"in r?r.value:(o=r.get,o===undefined)?undefined:o.call(h)}};if(typeof t=="undefined")throw new Error("You must include the utils.js file before tether.js");var n=t.Utils,ut=n.getScrollParents,i=n.getBounds,a=n.getOffsetParent,r=n.extend,o=n.addClass,s=n.removeClass,u=n.updateClasses,f=n.defer,d=n.flush,w=n.getScrollBarSize,et=n.removeUtilElements;var g=function(){var r,t,n,i;if(typeof document=="undefined")return"";for(r=document.createElement("div"),t=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<t.length;++n)if(i=t[n],r.style[i]!==undefined)return i}(),h=[],ct=function(){h.forEach(function(n){n.position(!1)});d()};(function(){var t=null,n=null,i=null,r=function r(){if(typeof n!="undefined"&&n>16){n=Math.min(n-16,250);i=setTimeout(r,250);return}typeof t!="undefined"&&nt()-t<10||(i!=null&&(clearTimeout(i),i=null),t=nt(),ct(),n=nt()-t)};typeof window!="undefined"&&typeof addEventListener!="undefined"&&["resize","scroll","touchmove"].forEach(function(n){window.addEventListener(n,r)})})();var gt={center:"center",left:"right",right:"left"},ni={middle:"middle",top:"bottom",bottom:"top"},y={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},ti=function(n,t){var i=n.left,r=n.top;return i==="auto"&&(i=gt[t.left]),r==="auto"&&(r=ni[t.top]),{left:i,top:r}},lt=function(n){var t=n.left,i=n.top;return typeof y[n.left]!="undefined"&&(t=y[n.left]),typeof y[n.top]!="undefined"&&(i=y[n.top]),{left:t,top:i}};var tt=function(n){var i=n.split(" "),t=v(i,2),r=t[0],u=t[1];return{top:r,left:u}},vt=tt,yt=function(n){function e(n){var i=this;rt(this,e);bt(Object.getPrototypeOf(e.prototype),"constructor",this).call(this);this.position=this.position.bind(this);h.push(this);this.history=[];this.setOptions(n,!1);t.modules.forEach(function(n){typeof n.initialize!="undefined"&&n.initialize.call(i)});this.position()}return kt(e,n),it(e,[{key:"getClass",value:function(){var n=arguments.length<=0||arguments[0]===undefined?"":arguments[0],t=this.options.classes;return typeof t!="undefined"&&t[n]?this.options.classes[n]:this.options.classPrefix?this.options.classPrefix+"-"+n:n}},{key:"setOptions",value:function(n){var t=this,u=arguments.length<=1||arguments[1]===undefined?!0:arguments[1];this.options=r({offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},n);var i=this.options,f=i.element,e=i.target,s=i.targetModifier;if(this.element=f,this.target=e,this.targetModifier=s,this.target==="viewport"?(this.target=document.body,this.targetModifier="visible"):this.target==="scroll-handle"&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(n){if(typeof t[n]=="undefined")throw new Error("Tether Error: Both element and target must be defined");typeof t[n].jquery!="undefined"?t[n]=t[n][0]:typeof t[n]=="string"&&(t[n]=document.querySelector(t[n]))}),o(this.element,this.getClass("element")),this.options.addTargetClasses===!1||o(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=vt(this.options.targetAttachment);this.attachment=vt(this.options.attachment);this.offset=tt(this.options.offset);this.targetOffset=tt(this.options.targetOffset);typeof this.scrollParents!="undefined"&&this.disable();this.scrollParents=this.targetModifier==="scroll-handle"?[this.target]:ut(this.target);this.options.enabled===!1||this.enable(u)}},{key:"getTargetBounds",value:function(){var n,t,r,s;if(typeof this.targetModifier!="undefined"){if(this.targetModifier==="visible")return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:(t=i(this.target),n={height:t.height,width:t.width,top:t.top,left:t.left},n.height=Math.min(n.height,t.height-(pageYOffset-t.top)),n.height=Math.min(n.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),n.height=Math.min(innerHeight,n.height),n.height-=2,n.width=Math.min(n.width,t.width-(pageXOffset-t.left)),n.width=Math.min(n.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),n.width=Math.min(innerWidth,n.width),n.width-=2,n.top<pageYOffset&&(n.top=pageYOffset),n.left<pageXOffset&&(n.left=pageXOffset),n);if(this.targetModifier==="scroll-handle"){t=undefined;r=this.target;r===document.body?(r=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=i(r);var f=getComputedStyle(r),h=r.scrollWidth>r.clientWidth||[f.overflow,f.overflowX].indexOf("scroll")>=0||this.target!==document.body,e=0;h&&(e=15);var u=t.height-parseFloat(f.borderTopWidth)-parseFloat(f.borderBottomWidth)-e,n={width:15,height:u*.975*(u/r.scrollHeight),left:t.left+t.width-parseFloat(f.borderLeftWidth)-15},o=0;return u<408&&this.target===document.body&&(o=-.00011*Math.pow(u,2)-.00727*u+22.58),this.target!==document.body&&(n.height=Math.max(n.height,24)),s=this.target.scrollTop/(r.scrollHeight-u),n.top=s*(u-n.height-o)+t.top+parseFloat(f.borderTopWidth),this.target===document.body&&(n.height=Math.max(n.height,24)),n}}else return i(this.target)}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(n,t){return typeof this._cache=="undefined"&&(this._cache={}),typeof this._cache[n]=="undefined"&&(this._cache[n]=t.call(this)),this._cache[n]}},{key:"enable",value:function(){var n=this,t=arguments.length<=0||arguments[0]===undefined?!0:arguments[0];this.options.addTargetClasses===!1||o(this.target,this.getClass("enabled"));o(this.element,this.getClass("enabled"));this.enabled=!0;this.scrollParents.forEach(function(t){t!==n.target.ownerDocument&&t.addEventListener("scroll",n.position)});t&&this.position()}},{key:"disable",value:function(){var n=this;s(this.target,this.getClass("enabled"));s(this.element,this.getClass("enabled"));this.enabled=!1;typeof this.scrollParents!="undefined"&&this.scrollParents.forEach(function(t){t.removeEventListener("scroll",n.position)})}},{key:"destroy",value:function(){var n=this;this.disable();h.forEach(function(t,i){t===n&&h.splice(i,1)});h.length===0&&et()}},{key:"updateAttachClasses",value:function(n,t){var i=this,o,r,e;n=n||this.attachment;t=t||this.targetAttachment;o=["left","top","bottom","right","middle","center"];typeof this._addAttachClasses!="undefined"&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length);typeof this._addAttachClasses=="undefined"&&(this._addAttachClasses=[]);r=this._addAttachClasses;n.top&&r.push(this.getClass("element-attached")+"-"+n.top);n.left&&r.push(this.getClass("element-attached")+"-"+n.left);t.top&&r.push(this.getClass("target-attached")+"-"+t.top);t.left&&r.push(this.getClass("target-attached")+"-"+t.left);e=[];o.forEach(function(n){e.push(i.getClass("element-attached")+"-"+n);e.push(i.getClass("target-attached")+"-"+n)});f(function(){typeof i._addAttachClasses!="undefined"&&(u(i.element,i._addAttachClasses,e),i.options.addTargetClasses===!1||u(i.target,i._addAttachClasses,e),delete i._addAttachClasses)})}},{key:"position",value:function(){var h=this,et=arguments.length<=0||arguments[0]===undefined?!0:arguments[0],y,nt,e,o,k,ut,s;if(this.enabled){this.clearCache();y=ti(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,y);var g=this.cache("element-bounds",function(){return i(h.element)}),u=g.width,f=g.height;u===0&&f===0&&typeof this.lastSize!="undefined"?(nt=this.lastSize,u=nt.width,f=nt.height):this.lastSize={width:u,height:f};var b=this.cache("target-bounds",function(){return h.getTargetBounds()}),tt=b,c=p(lt(this.attachment),{width:u,height:f}),l=p(lt(y),tt),it=p(this.offset,{width:u,height:f}),rt=p(this.targetOffset,tt);for(c=at(c,it),l=at(l,rt),e=b.left+l.left-c.left,o=b.top+l.top-c.top,k=0;k<t.modules.length;++k){if(ut=t.modules[k],s=ut.position.call(this,{left:e,top:o,targetAttachment:y,targetPos:b,elementPos:g,offset:c,targetOffset:l,manualOffset:it,manualTargetOffset:rt,scrollbarSize:v,attachment:this.attachment}),s===!1)return!1;if(typeof s=="undefined"||typeof s!="object")continue;else o=s.top,e=s.left}var n={page:{top:o,left:e},viewport:{top:o-pageYOffset,bottom:pageYOffset-o-f+innerHeight,left:e-pageXOffset,right:pageXOffset-e-u+innerWidth}},r=this.target.ownerDocument,ft=r.defaultView,v=undefined;return r.body.scrollWidth>ft.innerWidth&&(v=this.cache("scrollbar-size",w),n.viewport.bottom-=v.height),r.body.scrollHeight>ft.innerHeight&&(v=this.cache("scrollbar-size",w),n.viewport.right-=v.width),(["","static"].indexOf(r.body.style.position)===-1||["","static"].indexOf(r.body.parentElement.style.position)===-1)&&(n.page.bottom=r.body.scrollHeight-o-f,n.page.right=r.body.scrollWidth-e-u),typeof this.options.optimizations=="undefined"||this.options.optimizations.moveElement===!1||typeof this.targetModifier!="undefined"||function(){var f=h.cache("target-offsetparent",function(){return a(h.target)}),t=h.cache("target-offsetparent-bounds",function(){return i(f)}),c=getComputedStyle(f),e=t,u={},o,s;["Top","Left","Bottom","Right"].forEach(function(n){u[n.toLowerCase()]=parseFloat(c["border"+n+"Width"])});t.right=r.body.scrollWidth-t.left-e.width+u.right;t.bottom=r.body.scrollHeight-t.top-e.height+u.bottom;n.page.top>=t.top+u.top&&n.page.bottom>=t.bottom&&n.page.left>=t.left+u.left&&n.page.right>=t.right&&(o=f.scrollTop,s=f.scrollLeft,n.offset={top:n.page.top-t.top+o-u.top,left:n.page.left-t.left+s-u.left})}(),this.move(n),this.history.unshift(n),this.history.length>3&&this.history.pop(),et&&d(),!0}}},{key:"move",value:function(n){var u=this,t,o,l,h,v,y,s,p,w,e,b,d;if(typeof this.element.parentNode!="undefined"){t={};for(o in n){t[o]={};for(e in n[o]){for(l=!1,h=0;h<this.history.length;++h)if(v=this.history[h],typeof v[o]!="undefined"&&!dt(v[o][e],n[o][e])){l=!0;break}l||(t[o][e]=!0)}}var i={top:"",left:"",right:"",bottom:""},c=function(n,t){var e=typeof u.options.optimizations!="undefined",o=e?u.options.optimizations.gpu:null,r,f;o!==!1?(r=undefined,f=undefined,n.top?(i.top=0,r=t.top):(i.bottom=0,r=-t.bottom),n.left?(i.left=0,f=t.left):(i.right=0,f=-t.right),i[g]="translateX("+Math.round(f)+"px) translateY("+Math.round(r)+"px)",g!=="msTransform"&&(i[g]+=" translateZ(0)")):(n.top?i.top=t.top+"px":i.bottom=t.bottom+"px",n.left?i.left=t.left+"px":i.right=t.right+"px")},k=!1;if((t.page.top||t.page.bottom)&&(t.page.left||t.page.right)?(i.position="absolute",c(t.page,n.page)):(t.viewport.top||t.viewport.bottom)&&(t.viewport.left||t.viewport.right)?(i.position="fixed",c(t.viewport,n.viewport)):typeof t.offset!="undefined"&&t.offset.top&&t.offset.left?function(){i.position="absolute";var r=u.cache("target-offsetparent",function(){return a(u.target)});a(u.element)!==r&&f(function(){u.element.parentNode.removeChild(u.element);r.appendChild(u.element)});c(t.offset,n.offset);k=!0}():(i.position="absolute",c({top:!0,left:!0},n.page)),!k){for(y=!0,s=this.element.parentNode;s&&s.nodeType===1&&s.tagName!=="BODY";){if(getComputedStyle(s).position!=="static"){y=!1;break}s=s.parentNode}y||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}p={};w=!1;for(e in i)b=i[e],d=this.element.style[e],d!==b&&(w=!0,p[e]=b);w&&f(function(){r(u.element.style,p)})}}}]),e}(ht);yt.modules=[];t.position=ct;pt=r(yt,t);"use strict";var v=function(){function n(n,t){var r=[],u=!0,f=!1,e=undefined,i,o;try{for(i=n[Symbol.iterator]();!(u=(o=i.next()).done);u=!0)if(r.push(o.value),t&&r.length===t)break}catch(s){f=!0;e=s}finally{try{!u&&i["return"]&&i["return"]()}finally{if(f)throw e;}}return r}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),n=t.Utils,i=n.getBounds,r=n.extend,u=n.updateClasses,f=n.defer,ii=["left","top","right","bottom"];t.modules.push({position:function(n){var l=this,e=n.top,o=n.left,b=n.targetAttachment,k;if(!this.options.constraints)return!0;var d=this.cache("element-bounds",function(){return i(l.element)}),h=d.height,c=d.width;c===0&&h===0&&typeof this.lastSize!="undefined"&&(k=this.lastSize,c=k.width,h=k.height);var g=this.cache("target-bounds",function(){return l.getTargetBounds()}),a=g.height,y=g.width,p=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(n){var t=n.outOfBoundsClass,i=n.pinnedClass;t&&p.push(t);i&&p.push(i)});p.forEach(function(n){["left","top","right","bottom"].forEach(function(t){p.push(n+"-"+t)})});var w=[],s=r({},b),t=r({},this.attachment);return this.options.constraints.forEach(function(n){var tt=n.to,d=n.attachment,r=n.pin,f,p,nt,g,i,u,k;typeof d=="undefined"&&(d="");f=undefined;p=undefined;d.indexOf(" ")>=0?(nt=d.split(" "),g=v(nt,2),p=g[0],f=g[1]):f=p=d;i=ri(l,tt);(p==="target"||p==="both")&&(e<i[1]&&s.top==="top"&&(e+=a,s.top="bottom"),e+h>i[3]&&s.top==="bottom"&&(e-=a,s.top="top"));p==="together"&&(s.top==="top"&&(t.top==="bottom"&&e<i[1]?(e+=a,s.top="bottom",e+=h,t.top="top"):t.top==="top"&&e+h>i[3]&&e-(h-a)>=i[1]&&(e-=h-a,s.top="bottom",t.top="bottom")),s.top==="bottom"&&(t.top==="top"&&e+h>i[3]?(e-=a,s.top="top",e-=h,t.top="bottom"):t.top==="bottom"&&e<i[1]&&e+(h*2-a)<=i[3]&&(e+=h-a,s.top="top",t.top="top")),s.top==="middle"&&(e+h>i[3]&&t.top==="top"?(e-=h,t.top="bottom"):e<i[1]&&t.top==="bottom"&&(e+=h,t.top="top")));(f==="target"||f==="both")&&(o<i[0]&&s.left==="left"&&(o+=y,s.left="right"),o+c>i[2]&&s.left==="right"&&(o-=y,s.left="left"));f==="together"&&(o<i[0]&&s.left==="left"?t.left==="right"?(o+=y,s.left="right",o+=c,t.left="left"):t.left==="left"&&(o+=y,s.left="right",o-=c,t.left="right"):o+c>i[2]&&s.left==="right"?t.left==="left"?(o-=y,s.left="left",o-=c,t.left="right"):t.left==="right"&&(o-=y,s.left="left",o+=c,t.left="left"):s.left==="center"&&(o+c>i[2]&&t.left==="left"?(o-=c,t.left="right"):o<i[0]&&t.left==="right"&&(o+=c,t.left="left")));(p==="element"||p==="both")&&(e<i[1]&&t.top==="bottom"&&(e+=h,t.top="top"),e+h>i[3]&&t.top==="top"&&(e-=h,t.top="bottom"));(f==="element"||f==="both")&&(o<i[0]&&(t.left==="right"?(o+=c,t.left="left"):t.left==="center"&&(o+=c/2,t.left="left")),o+c>i[2]&&(t.left==="left"?(o-=c,t.left="right"):t.left==="center"&&(o-=c/2,t.left="right")));typeof r=="string"?r=r.split(",").map(function(n){return n.trim()}):r===!0&&(r=["top","left","right","bottom"]);r=r||[];u=[];k=[];e<i[1]&&(r.indexOf("top")>=0?(e=i[1],u.push("top")):k.push("top"));e+h>i[3]&&(r.indexOf("bottom")>=0?(e=i[3]-h,u.push("bottom")):k.push("bottom"));o<i[0]&&(r.indexOf("left")>=0?(o=i[0],u.push("left")):k.push("left"));o+c>i[2]&&(r.indexOf("right")>=0?(o=i[2]-c,u.push("right")):k.push("right"));u.length&&function(){var n=undefined;n=typeof l.options.pinnedClass!="undefined"?l.options.pinnedClass:l.getClass("pinned");w.push(n);u.forEach(function(t){w.push(n+"-"+t)})}();k.length&&function(){var n=undefined;n=typeof l.options.outOfBoundsClass!="undefined"?l.options.outOfBoundsClass:l.getClass("out-of-bounds");w.push(n);k.forEach(function(t){w.push(n+"-"+t)})}();(u.indexOf("left")>=0||u.indexOf("right")>=0)&&(t.left=s.left=!1);(u.indexOf("top")>=0||u.indexOf("bottom")>=0)&&(t.top=s.top=!1);(s.top!==b.top||s.left!==b.left||t.top!==l.attachment.top||t.left!==l.attachment.left)&&(l.updateAttachClasses(t,s),l.trigger("update",{attachment:t,targetAttachment:s}))}),f(function(){l.options.addTargetClasses===!1||u(l.target,w,p);u(l.element,w,p)}),{top:e,left:o}}});"use strict";var n=t.Utils,i=n.getBounds,u=n.updateClasses,f=n.defer;return t.modules.push({position:function(n){var t=this,h=n.top,c=n.left,l=this.cache("element-bounds",function(){return i(t.element)}),y=l.height,p=l.width,r=this.getTargetBounds(),a=h+y,v=c+p,e=[];h<=r.bottom&&a>=r.top&&["left","right"].forEach(function(n){var t=r[n];(t===c||t===v)&&e.push(n)});c<=r.right&&v>=r.left&&["top","bottom"].forEach(function(n){var t=r[n];(t===h||t===a)&&e.push(n)});var o=[],s=[];return o.push(this.getClass("abutted")),["left","top","right","bottom"].forEach(function(n){o.push(t.getClass("abutted")+"-"+n)}),e.length&&s.push(this.getClass("abutted")),e.forEach(function(n){s.push(t.getClass("abutted")+"-"+n)}),f(function(){t.options.addTargetClasses===!1||u(t.target,s,o);u(t.element,s,o)}),!0}}),v=function(){function n(n,t){var r=[],u=!0,f=!1,e=undefined,i,o;try{for(i=n[Symbol.iterator]();!(u=(o=i.next()).done);u=!0)if(r.push(o.value),t&&r.length===t)break}catch(s){f=!0;e=s}finally{try{!u&&i["return"]&&i["return"]()}finally{if(f)throw e;}}return r}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),t.modules.push({position:function(n){var u=n.top,f=n.left,t,i,r,o,e;if(this.options.shift)return t=this.options.shift,typeof this.options.shift=="function"&&(t=this.options.shift.call(this,{top:u,left:f})),i=undefined,r=undefined,typeof t=="string"?(t=t.split(" "),t[1]=t[1]||t[0],o=t,e=v(o,2),i=e[0],r=e[1],i=parseFloat(i,10),r=parseFloat(r,10)):(i=t.top,r=t.left),u+=i,f+=r,{top:u,left:f}}}),pt}),function(n,t){"object"==typeof module&&module.exports?module.exports=n.document?t(n):t:n.Highcharts=t(n)}("undefined"!=typeof window?window:this,function(n){return n=function(){var n=window,t=n.document,i=n.navigator&&n.navigator.userAgent||"",r=t&&t.createElementNS&&!!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,f=/(edge|msie|trident)/i.test(i)&&!window.opera,e=!r,u=/Firefox/.test(i),o=u&&4>parseInt(i.split("Firefox/")[1],10);return n.Highcharts?n.Highcharts.error(16,!0):{product:"Highcharts",version:"5.0.7",deg2rad:Math.PI/180,doc:t,hasBidiBug:o,hasTouch:t&&void 0!==t.documentElement.ontouchstart,isMS:f,isWebKit:/AppleWebKit/.test(i),isFirefox:u,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(i),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:r,vml:e,win:n,charts:[],marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){}}}(),function(n){var t=[],u=n.charts,r=n.doc,i=n.win;n.error=function(t,r){if(t=n.isNumber(t)?"Highcharts error #"+t+": www.highcharts.com/errors/"+t:t,r)throw Error(t);i.console&&console.log(t)};n.Fx=function(n,t,i){this.options=t;this.elem=n;this.prop=i};n.Fx.prototype={dSetter:function(){var r=this.paths[0],u=this.paths[1],t=[],f=this.now,n=r.length,i;if(1===f)t=this.toD;else if(n===u.length&&1>f)for(;n--;)i=parseFloat(r[n]),t[n]=isNaN(i)?r[n]:f*parseFloat(u[n]-i)+i;else t=u;this.elem.attr("d",t,null,!0)},update:function(){var n=this.elem,t=this.prop,i=this.now,r=this.options.step;this[t+"Setter"]?this[t+"Setter"]():n.attr?n.element&&n.attr(t,i,null,!0):n.style[t]=i+this.unit;r&&r.call(n,i,this)},run:function(n,i,r){var e=this,u=function(n){return u.stopped?!1:e.step(n)},f;this.startTime=+new Date;this.start=n;this.end=i;this.unit=r;this.now=this.start;this.pos=0;u.elem=this.elem;u.prop=this.prop;u()&&1===t.push(u)&&(u.timerId=setInterval(function(){for(f=0;f<t.length;f++)t[f]()||t.splice(f--,1);t.length||clearInterval(u.timerId)},13))},step:function(n){var u=+new Date,t,i=this.options;t=this.elem;var f=i.complete,e=i.duration,r=i.curAnim,o;if(t.attr&&!t.element)t=!1;else if(n||u>=e+this.startTime){this.now=this.end;this.pos=1;this.update();n=r[this.prop]=!0;for(o in r)!0!==r[o]&&(n=!1);n&&f&&f.call(t);t=!1}else this.pos=i.easing((u-this.startTime)/e),this.now=this.start+(this.end-this.start)*this.pos,this.update(),t=!0;return t},initPath:function(t,i,r){function y(n){var t,i;for(u=n.length;u--;)t="M"===n[u]||"L"===n[u],i=/[a-zA-Z]/.test(n[u+3]),t&&i&&n.splice(u+1,0,n[u+1],n[u+2],n[u+1],n[u+2])}function p(n,t){for(;n.length<h;){n[0]=t[h-n.length];var i=n.slice(0,f);[].splice.apply(n,[0,0].concat(i));a&&(i=n.slice(n.length-f),[].splice.apply(n,[n.length,0].concat(i)),u--)}n[0]="M"}function w(n,t){for(var i=(h-n.length)/f;0<i&&i--;)e=n.slice().splice(n.length/c-f,f*c),e[0]=t[h-f-i*f],v&&(e[f-6]=e[f-2],e[f-5]=e[f-1]),[].splice.apply(n,[n.length/c,0].concat(e)),a&&i--}var a,c,b;i=i||"";var o,s=t.startX,l=t.endX,v=-1<i.indexOf("C"),f=v?7:3,h,e,u;if(i=i.split(" "),r=r.slice(),a=t.isArea,c=a?2:1,v&&(y(i),y(r)),s&&l){for(u=0;u<s.length;u++)if(s[u]===l[0]){o=u;break}else if(s[0]===l[l.length-s.length+u]){o=u;b=!0;break}void 0===o&&(i=[])}return i.length&&n.isNumber(o)&&(h=r.length+o*c*f,b?(p(i,r),w(r,i)):(p(r,i),w(i,r))),[i,r]}};n.extend=function(n,t){var i;n||(n={});for(i in t)n[i]=t[i];return n};n.merge=function(){var i,t=arguments,u,r={},f=function(t,i){var u,r;"object"!=typeof t&&(t={});for(r in i)i.hasOwnProperty(r)&&(u=i[r],t[r]=n.isObject(u,!0)&&"renderTo"!==r&&"number"!=typeof u.nodeType?f(t[r]||{},u):i[r]);return t};for(!0===t[0]&&(r=t[1],t=Array.prototype.slice.call(t,2)),u=t.length,i=0;i<u;i++)r=f(r,t[i]);return r};n.pInt=function(n,t){return parseInt(n,t||10)};n.isString=function(n){return"string"==typeof n};n.isArray=function(n){return n=Object.prototype.toString.call(n),"[object Array]"===n||"[object Array Iterator]"===n};n.isObject=function(t,i){return t&&"object"==typeof t&&(!i||!n.isArray(t))};n.isNumber=function(n){return"number"==typeof n&&!isNaN(n)};n.erase=function(n,t){for(var i=n.length;i--;)if(n[i]===t){n.splice(i,1);break}};n.defined=function(n){return void 0!==n&&null!==n};n.attr=function(t,i,r){var u,f;if(n.isString(i))n.defined(r)?t.setAttribute(i,r):t&&t.getAttribute&&(f=t.getAttribute(i));else if(n.defined(i)&&n.isObject(i))for(u in i)t.setAttribute(u,i[u]);return f};n.splat=function(t){return n.isArray(t)?t:[t]};n.syncTimeout=function(n,t,i){if(t)return setTimeout(n,t,i);n.call(0,i)};n.pick=function(){for(var i=arguments,t,r=i.length,n=0;n<r;n++)if(t=i[n],void 0!==t&&null!==t)return t};n.css=function(t,i){n.isMS&&!n.svg&&i&&void 0!==i.opacity&&(i.filter="alpha(opacity="+100*i.opacity+")");n.extend(t.style,i)};n.createElement=function(t,i,u,f,e){t=r.createElement(t);var o=n.css;return i&&n.extend(t,i),e&&o(t,{padding:0,border:"none",margin:0}),u&&o(t,u),f&&f.appendChild(t),t};n.extendClass=function(t,i){var r=function(){};return r.prototype=new t,n.extend(r.prototype,i),r};n.pad=function(n,t,i){return Array((t||2)+1-String(n).length).join(i||0)+n};n.relativeLength=function(n,t){return/%$/.test(n)?t*parseFloat(n)/100:parseFloat(n)};n.wrap=function(n,t,i){var r=n[t];n[t]=function(){var n=Array.prototype.slice.call(arguments),u=arguments,t=this;return t.proceed=function(){r.apply(t,arguments.length?arguments:u)},n.unshift(r),n=i.apply(this,n),t.proceed=null,n}};n.getTZOffset=function(t){var i=n.Date;return 6e4*(i.hcGetTimezoneOffset&&i.hcGetTimezoneOffset(t)||i.hcTimezoneOffset||0)};n.dateFormat=function(t,i,r){if(!n.defined(i)||isNaN(i))return n.defaultOptions.lang.invalidDate||"";t=n.pick(t,"%Y-%m-%d %H:%M:%S");var u=n.Date,e=new u(i-n.getTZOffset(i)),o,s=e[u.hcGetHours](),h=e[u.hcGetDay](),a=e[u.hcGetDate](),l=e[u.hcGetMonth](),v=e[u.hcGetFullYear](),c=n.defaultOptions.lang,y=c.weekdays,p=c.shortWeekdays,f=n.pad,u=n.extend({a:p?p[h]:y[h].substr(0,3),A:y[h],d:f(a),e:f(a,2," "),w:h,b:c.shortMonths[l],B:c.months[l],m:f(l+1),y:v.toString().substr(2,2),Y:v,H:f(s),k:s,I:f(s%12||12),l:s%12||12,M:f(e[u.hcGetMinutes]()),p:12>s?"AM":"PM",P:12>s?"am":"pm",S:f(e.getSeconds()),L:f(Math.round(i%1e3),3)},n.dateFormats);for(o in u)for(;-1!==t.indexOf("%"+o);)t=t.replace("%"+o,"function"==typeof u[o]?u[o](i):u[o]);return r?t.substr(0,1).toUpperCase()+t.substr(1):t};n.formatSingle=function(t,i){var r=/\.([0-9])/,u=n.defaultOptions.lang;return/f$/.test(t)?(r=(r=t.match(r))?r[1]:-1,null!==i&&(i=n.numberFormat(i,r,u.decimalPoint,-1<t.indexOf(",")?u.thousandsSep:""))):i=n.dateFormat(t,i),i};n.format=function(t,i){for(var u="{",s=!1,r,h,e,c,o=[],f;t;){if(u=t.indexOf(u),-1===u)break;if(r=t.slice(0,u),s){for(r=r.split(":"),h=r.shift().split("."),c=h.length,f=i,e=0;e<c;e++)f=f[h[e]];r.length&&(f=n.formatSingle(r.join(":"),f));o.push(f)}else o.push(r);t=t.slice(u+1);u=(s=!s)?"}":"{"}return o.push(t),o.join("")};n.getMagnitude=function(n){return Math.pow(10,Math.floor(Math.log(n)/Math.LN10))};n.normalizeTickInterval=function(t,i,r,u,f){var o,e=t;for(r=n.pick(r,1),o=t/r,i||(i=f?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===u&&(1===r?i=n.grep(i,function(n){return 0==n%1}):.1>=r&&(i=[1/r]))),u=0;u<i.length&&!(e=i[u],f&&e*r>=t||!f&&o<=(i[u]+(i[u+1]||i[u]))/2);u++);return n.correctFloat(e*r,-Math.round(Math.log(.001)/Math.LN10))};n.stableSort=function(n,t){for(var u=n.length,r,i=0;i<u;i++)n[i].safeI=i;for(n.sort(function(n,i){return r=t(n,i),0===r?n.safeI-i.safeI:r}),i=0;i<u;i++)delete n[i].safeI};n.arrayMin=function(n){for(var t=n.length,i=n[0];t--;)n[t]<i&&(i=n[t]);return i};n.arrayMax=function(n){for(var t=n.length,i=n[0];t--;)n[t]>i&&(i=n[t]);return i};n.destroyObjectProperties=function(n,t){for(var i in n)n[i]&&n[i]!==t&&n[i].destroy&&n[i].destroy(),delete n[i]};n.discardElement=function(t){var i=n.garbageBin;i||(i=n.createElement("div"));t&&i.appendChild(t);i.innerHTML=""};n.correctFloat=function(n,t){return parseFloat(n.toPrecision(t||14))};n.setAnimation=function(t,i){i.renderer.globalAnimation=n.pick(t,i.options.chart.animation,!0)};n.animObject=function(t){return n.isObject(t)?n.merge(t):{duration:t?500:0}};n.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5};n.numberFormat=function(t,i,r,u){t=+t||0;i=+i;var s=n.defaultOptions.lang,f=(t.toString().split(".")[1]||"").length,e,o;return-1===i?i=Math.min(f,20):n.isNumber(i)||(i=2),o=(Math.abs(t)+Math.pow(10,-Math.max(i,f)-1)).toFixed(i),f=String(n.pInt(o)),e=3<f.length?f.length%3:0,r=n.pick(r,s.decimalPoint),u=n.pick(u,s.thousandsSep),t=(0>t?"-":"")+(e?f.substr(0,e)+u:""),t+=f.substr(e).replace(/(\d{3})(?=\d)/g,"$1"+u),i&&(t+=r+o.slice(-i)),t};Math.easeInOutSine=function(n){return-.5*(Math.cos(Math.PI*n)-1)};n.getStyle=function(t,r){return"width"===r?Math.min(t.offsetWidth,t.scrollWidth)-n.getStyle(t,"padding-left")-n.getStyle(t,"padding-right"):"height"===r?Math.min(t.offsetHeight,t.scrollHeight)-n.getStyle(t,"padding-top")-n.getStyle(t,"padding-bottom"):(t=i.getComputedStyle(t,void 0))&&n.pInt(t.getPropertyValue(r))};n.inArray=function(n,t){return t.indexOf?t.indexOf(n):[].indexOf.call(t,n)};n.grep=function(n,t){return[].filter.call(n,t)};n.find=function(n,t){return[].find.call(n,t)};n.map=function(n,t){for(var r=[],i=0,u=n.length;i<u;i++)r[i]=t.call(n[i],n[i],i,n);return r};n.offset=function(n){var t=r.documentElement;return n=n.getBoundingClientRect(),{top:n.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}};n.stop=function(n,i){for(var r=t.length;r--;)t[r].elem!==n||i&&i!==t[r].prop||(t[r].stopped=!0)};n.each=function(n,t,i){return Array.prototype.forEach.call(n,t,i)};n.addEvent=function(t,r,u){function e(n){n.target=n.srcElement||i;u.call(t,n)}var f=t.hcEvents=t.hcEvents||{};return t.addEventListener?t.addEventListener(r,u,!1):t.attachEvent&&(t.hcEventsIE||(t.hcEventsIE={}),t.hcEventsIE[u.toString()]=e,t.attachEvent("on"+r,e)),f[r]||(f[r]=[]),f[r].push(u),function(){n.removeEvent(t,r,u)}};n.removeEvent=function(t,i,r){function o(n,i){t.removeEventListener?t.removeEventListener(n,i,!1):t.attachEvent&&(i=t.hcEventsIE[i.toString()],t.detachEvent("on"+n,i))}function s(){var n,r;if(t.nodeName)for(r in i?(n={},n[i]=!0):n=u,n)if(u[r])for(n=u[r].length;n--;)o(r,u[r][n])}var f,u=t.hcEvents,e;u&&(i?(f=u[i]||[],r?(e=n.inArray(r,f),-1<e&&(f.splice(e,1),u[i]=f),o(i,r)):(s(),u[i]=[])):(s(),t.hcEvents={}))};n.fireEvent=function(t,i,u,f){var e,o,s;if(e=t.hcEvents,u=u||{},r.createEvent&&(t.dispatchEvent||t.fireEvent))e=r.createEvent("Events"),e.initEvent(i,!0,!0),n.extend(e,u),t.dispatchEvent?t.dispatchEvent(e):t.fireEvent(i,e);else if(e)for(e=e[i]||[],o=e.length,u.target||n.extend(u,{preventDefault:function(){u.defaultPrevented=!0},target:t,type:i}),i=0;i<o;i++)(s=e[i])&&!1===s.call(t,u)&&u.preventDefault();f&&!u.defaultPrevented&&f(u)};n.animate=function(t,i,r){var f,s="",u,o,e;n.isObject(r)||(f=arguments,r={duration:f[2],easing:f[3],complete:f[4]});n.isNumber(r.duration)||(r.duration=400);r.easing="function"==typeof r.easing?r.easing:Math[r.easing]||Math.easeInOutSine;r.curAnim=n.merge(i);for(e in i)n.stop(t,e),o=new n.Fx(t,r,e),u=null,"d"===e?(o.paths=o.initPath(t,t.d,i.d),o.toD=i.d,f=0,u=1):t.attr?f=t.attr(e):(f=parseFloat(n.getStyle(t,e))||0,"opacity"!==e&&(s="px")),u||(u=i[e]),u.match&&u.match("px")&&(u=u.replace(/px/g,"")),o.run(f,u,s)};n.seriesType=function(t,i,r,u,f){var o=n.getOptions(),e=n.seriesTypes;return o.plotOptions[t]=n.merge(o.plotOptions[i],r),e[t]=n.extendClass(e[i]||function(){},u),e[t].prototype.type=t,f&&(e[t].prototype.pointClass=n.extendClass(n.Point,f)),e[t]};n.uniqueKey=function(){var n=Math.random().toString(36).substring(2,9),t=0;return function(){return"highcharts-"+n+"-"+t++}}();i.jQuery&&(i.jQuery.fn.highcharts=function(){var t=[].slice.call(arguments);if(this[0])return t[0]?(new n[n.isString(t[0])?t.shift():"Chart"](this[0],t[0],t[1]),this):u[n.attr(this[0],"data-highcharts-chart")]});r&&!r.defaultView&&(n.getStyle=function(t,i){var r={width:"clientWidth",height:"clientHeight"}[i];return t.style[i]?n.pInt(t.style[i]):("opacity"===i&&(i="filter"),r)?(t.style.zoom=1,Math.max(t[r]-2*n.getStyle(t,"padding"),0)):(t=t.currentStyle[i.replace(/\-(\w)/g,function(n,t){return t.toUpperCase()})],"filter"===i&&(t=t.replace(/alpha\(opacity=([0-9]+)\)/,function(n,t){return t/100})),""===t?1:n.pInt(t))});Array.prototype.forEach||(n.each=function(n,t,i){for(var r=0,u=n.length;r<u;r++)if(!1===t.call(i,n[r],r,n))return r});Array.prototype.indexOf||(n.inArray=function(n,t){var r,i=0;if(t)for(r=t.length;i<r;i++)if(t[i]===n)return i;return-1});Array.prototype.filter||(n.grep=function(n,t){for(var r=[],i=0,u=n.length;i<u;i++)t(n[i],i)&&r.push(n[i]);return r});Array.prototype.find||(n.find=function(n,t){for(var r=n.length,i=0;i<r;i++)if(t(n[i],i))return n[i]})}(n),function(n){var i=n.each,r=n.isNumber,u=n.map,f=n.merge,t=n.pInt;n.Color=function(t){if(!(this instanceof n.Color))return new n.Color(t);this.init(t)};n.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(n){return[t(n[1]),t(n[2]),t(n[3]),parseFloat(n[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(n){return[t(n[1],16),t(n[2],16),t(n[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(n){return[t(n[1]),t(n[2]),t(n[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(t){var e,i,r,f;if((this.input=t=this.names[t]||t)&&t.stops)this.stops=u(t.stops,function(t){return new n.Color(t[1])});else for(r=this.parsers.length;r--&&!i;)f=this.parsers[r],(e=f.regex.exec(t))&&(i=f.parse(e));this.rgba=i||[]},get:function(n){var e=this.input,t=this.rgba,u;return this.stops?(u=f(e),u.stops=[].concat(u.stops),i(this.stops,function(t,i){u.stops[i]=[u.stops[i][0],t.get(n)]})):u=t&&r(t[0])?"rgb"===n||!n&&1===t[3]?"rgb("+t[0]+","+t[1]+","+t[2]+")":"a"===n?t[3]:"rgba("+t.join(",")+")":e,u},brighten:function(n){var u,f=this.rgba;if(this.stops)i(this.stops,function(t){t.brighten(n)});else if(r(n)&&0!==n)for(u=0;3>u;u++)f[u]+=t(255*n),0>f[u]&&(f[u]=0),255<f[u]&&(f[u]=255);return this},setOpacity:function(n){return this.rgba[3]=n,this}};n.color=function(t){return new n.Color(t)}}(n),function(n){var r,y,p=n.addEvent,ft=n.animate,i=n.attr,et=n.charts,ot=n.color,h=n.css,nt=n.createElement,t=n.defined,w=n.deg2rad,st=n.destroyObjectProperties,f=n.doc,e=n.each,o=n.extend,b=n.erase,ht=n.grep,ct=n.hasTouch,lt=n.inArray,tt=n.isArray,it=n.isFirefox,k=n.isMS,c=n.isObject,at=n.isString,vt=n.isWebKit,s=n.merge,yt=n.noop,u=n.pick,l=n.pInt,rt=n.removeEvent,ut=n.stop,a=n.svg,d=n.SVG_NS,v=n.symbolSizes,g=n.win;r=n.SVGElement=function(){return this};r.prototype={opacity:1,SVG_NS:d,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textDecoration textOverflow textOutline".split(" "),init:function(n,t){this.element="span"===t?nt(t):f.createElementNS(this.SVG_NS,t);this.renderer=n},animate:function(t,i,r){return i=n.animObject(u(i,this.renderer.globalAnimation,!0)),0!==i.duration?(r&&(i.complete=r),ft(this,t,i)):this.attr(t,null,r),this},colorGradient:function(i,r,u){var c=this.renderer,w,h,f,b,y,v,p,k,d,l,a,o=[],g;if(i.linearGradient?h="linearGradient":i.radialGradient&&(h="radialGradient"),h){f=i[h];y=c.gradients;p=i.stops;l=u.radialReference;tt(f)&&(i[h]=f={x1:f[0],y1:f[1],x2:f[2],y2:f[3],gradientUnits:"userSpaceOnUse"});"radialGradient"===h&&l&&!t(f.gradientUnits)&&(b=f,f=s(f,c.getRadialAttr(l,b),{gradientUnits:"userSpaceOnUse"}));for(a in f)"id"!==a&&o.push(a,f[a]);for(a in p)o.push(p[a]);o=o.join(",");y[o]?l=y[o].attr("id"):(f.id=l=n.uniqueKey(),y[o]=v=c.createElement(h).attr(f).add(c.defs),v.radAttr=b,v.stops=[],e(p,function(t){0===t[1].indexOf("rgba")?(w=n.color(t[1]),k=w.get("rgb"),d=w.get("a")):(k=t[1],d=1);t=c.createElement("stop").attr({offset:t[0],"stop-color":k,"stop-opacity":d}).add(v);v.stops.push(t)}));g="url("+c.url+"#"+l+")";u.setAttribute(r,g);u.gradient=o;i.toString=function(){return g}}},applyTextOutline:function(n){var t=this.element,u,f,r,o;-1!==n.indexOf("contrast")&&(n=n.replace(/contrast/g,this.renderer.getContrast(t.style.fill)));this.fakeTS=!0;this.ySetter=this.xSetter;u=[].slice.call(t.getElementsByTagName("tspan"));n=n.split(" ");f=n[n.length-1];(r=n[0])&&"none"!==r&&(r=r.replace(/(^[\d\.]+)(.*?)$/g,function(n,t,i){return 2*t+i}),e(u,function(n){"highcharts-text-outline"===n.getAttribute("class")&&b(u,t.removeChild(n))}),o=t.firstChild,e(u,function(n,u){0===u&&(n.setAttribute("x",t.getAttribute("x")),u=t.getAttribute("y"),n.setAttribute("y",u||0),null===u&&t.setAttribute("y",0));n=n.cloneNode(1);i(n,{"class":"highcharts-text-outline",fill:f,stroke:f,"stroke-width":r,"stroke-linejoin":"round"});t.insertBefore(n,o)}))},attr:function(n,t,i,r){var u,e=this.element,o,s=this,f;if("string"==typeof n&&void 0!==t&&(u=n,n={},n[u]=t),"string"==typeof n)s=(this[n+"Getter"]||this._defaultGetter).call(this,n,e);else{for(u in n)t=n[u],f=!1,r||ut(this,u),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(u)&&(o||(this.symbolAttr(n),o=!0),f=!0),!this.rotation||"x"!==u&&"y"!==u||(this.doTransform=!0),f||(f=this[u+"Setter"]||this._defaultSetter,f.call(this,t,u,e),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(u)&&this.updateShadows(u,t,f));this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return i&&i(),s},updateShadows:function(n,t,i){for(var r=this.shadows,u=r.length;u--;)i.call(r[u],"height"===n?Math.max(t-(r[u].cutHeight||0),0):"d"===n?this.d:t,n,r[u])},addClass:function(n,t){var i=this.attr("class")||"";return-1===i.indexOf(n)&&(t||(n=(i+(i?" ":"")+n).replace("  "," ")),this.attr("class",n)),this},hasClass:function(n){return-1!==i(this.element,"class").indexOf(n)},removeClass:function(n){return i(this.element,"class",(i(this.element,"class")||"").replace(n,"")),this},symbolAttr:function(n){var t=this;e("x y r start end width height innerR anchorX anchorY".split(" "),function(i){t[i]=u(n[i],t[i])});t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(n){return this.attr("clip-path",n?"url("+this.renderer.url+"#"+n.id+")":"none")},crisp:function(n,i){var r,f={},u;i=i||n.strokeWidth||0;u=Math.round(i)%2/2;n.x=Math.floor(n.x||this.x||0)+u;n.y=Math.floor(n.y||this.y||0)+u;n.width=Math.floor((n.width||this.width||0)-2*u);n.height=Math.floor((n.height||this.height||0)-2*u);t(n.strokeWidth)&&(n.strokeWidth=i);for(r in n)this[r]!==n[r]&&(this[r]=f[r]=n[r]);return f},css:function(n){var r=this.styles,e={},s=this.element,u,t,f="",c;if(u=!r,c=["textOverflow","width"],n&&n.color&&(n.fill=n.color),r)for(t in n)n[t]!==r[t]&&(e[t]=n[t],u=!0);if(u){if(u=this.textWidth=n&&n.width&&"text"===s.nodeName.toLowerCase()&&l(n.width)||this.textWidth,r&&(n=o(r,e)),this.styles=n,u&&!a&&this.renderer.forExport&&delete n.width,k&&!a)h(this.element,n);else{r=function(n,t){return"-"+t.toLowerCase()};for(t in n)-1===lt(t,c)&&(f+=t.replace(/([A-Z])/g,r)+":"+n[t]+";");f&&i(s,"style",f)}this.added&&(u&&this.renderer.buildText(this),n&&n.textOutline&&this.applyTextOutline(n.textOutline))}return this},strokeWidth:function(){return this["stroke-width"]||0},on:function(n,t){var r=this,i=r.element;return ct&&"click"===n?(i.ontouchstart=function(n){r.touchEventFired=Date.now();n.preventDefault();t.call(i,n)},i.onclick=function(n){(-1===g.navigator.userAgent.indexOf("Android")||1100<Date.now()-(r.touchEventFired||0))&&t.call(i,n)}):i["on"+n]=t,this},setRadialReference:function(n){var t=this.renderer.gradients[this.element.gradient];return this.element.radialReference=n,t&&t.radAttr&&t.animate(this.renderer.getRadialAttr(n,t.radAttr)),this},translate:function(n,t){return this.attr({translateX:n,translateY:t})},invert:function(n){return this.inverted=n,this.updateTransform(),this},updateTransform:function(){var n=this.translateX||0,r=this.translateY||0,f=this.scaleX,e=this.scaleY,o=this.inverted,s=this.rotation,i=this.element;o&&(n+=this.width,r+=this.height);n=["translate("+n+","+r+")"];o?n.push("rotate(90) scale(-1,1)"):s&&n.push("rotate("+s+" "+(i.getAttribute("x")||0)+" "+(i.getAttribute("y")||0)+")");(t(f)||t(e))&&n.push("scale("+u(f,1)+" "+u(e,1)+")");n.length&&i.setAttribute("transform",n.join(" "))},toFront:function(){var n=this.element;return n.parentNode.appendChild(n),this},align:function(n,t,i){var f,r,e,c,o={},s,h;return r=this.renderer,e=r.alignedObjects,n?(this.alignOptions=n,this.alignByTranslate=t,!i||at(i))&&(this.alignTo=f=i||"renderer",b(e,this),e.push(this),i=null):(n=this.alignOptions,t=this.alignByTranslate,f=this.alignTo),i=u(i,r[f],r),f=n.align,r=n.verticalAlign,e=(i.x||0)+(n.x||0),c=(i.y||0)+(n.y||0),"right"===f?s=1:"center"===f&&(s=2),s&&(e+=(i.width-(n.width||0))/s),o[t?"translateX":"x"]=Math.round(e),"bottom"===r?h=1:"middle"===r&&(h=2),h&&(c+=(i.height-(n.height||0))/h),o[t?"translateY":"y"]=Math.round(c),this[this.placed?"animate":"attr"](o),this.placed=!0,this.alignAttr=o,this},getBBox:function(n,t){var i,f=this.renderer,c,h=this.element,s=this.styles,y,p=this.textStr,l,a=f.cache,v=f.cacheKeys,r;if(t=u(t,this.rotation),c=t*w,y=s&&s.fontSize,void 0!==p&&(r=p.toString(),-1===r.indexOf("<")&&(r=r.replace(/[0-9]/g,"0")),r+=["",t||0,y,s&&s.width,s&&s.textOverflow].join()),r&&!n&&(i=a[r]),!i){if(h.namespaceURI===this.SVG_NS||f.forExport){try{(l=this.fakeTS&&function(n){e(h.querySelectorAll(".highcharts-text-outline"),function(t){t.style.display=n})})&&l("none");i=h.getBBox?o({},h.getBBox()):{width:h.offsetWidth,height:h.offsetHeight};l&&l("")}catch(b){}(!i||0>i.width)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(f.isSVG&&(n=i.width,f=i.height,s&&"11px"===s.fontSize&&17===Math.round(f)&&(i.height=f=14),t&&(i.width=Math.abs(f*Math.sin(c))+Math.abs(n*Math.cos(c)),i.height=Math.abs(f*Math.cos(c))+Math.abs(n*Math.sin(c)))),r&&0<i.height){for(;250<v.length;)delete a[v.shift()];a[r]||v.push(r);a[r]=i}}return i},show:function(n){return this.attr({visibility:n?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(n){var t=this;t.animate({opacity:0},{duration:n||150,complete:function(){t.attr({y:-9999})}})},add:function(n){var t=this.renderer,r=this.element,i;return n&&(this.parentGroup=n),this.parentInverted=n&&n.inverted,void 0!==this.textStr&&t.buildText(this),this.added=!0,(!n||n.handleZ||this.zIndex)&&(i=this.zIndexSetter()),i||(n?n.element:t.box).appendChild(r),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(n){var t=n.parentNode;t&&t.removeChild(n)},destroy:function(){var n=this.element||{},t=this.renderer.isSVG&&"SPAN"===n.nodeName&&this.parentGroup,r,i;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,ut(this),this.clipPath&&(this.clipPath=this.clipPath.destroy()),this.stops){for(i=0;i<this.stops.length;i++)this.stops[i]=this.stops[i].destroy();this.stops=null}for(this.safeRemoveChild(n),this.destroyShadows();t&&t.div&&0===t.div.childNodes.length;)n=t.parentGroup,this.safeRemoveChild(t.div),delete t.div,t=n;this.alignTo&&b(this.renderer.alignedObjects,this);for(r in this)delete this[r];return null},shadow:function(n,t,r){var c=[],e,f,h=this.element,o,s,l,a;if(n){if(!this.shadows){for(s=u(n.width,3),l=(n.opacity||.15)/s,a=this.parentInverted?"(-1,-1)":"("+u(n.offsetX,1)+", "+u(n.offsetY,1)+")",e=1;e<=s;e++)f=h.cloneNode(0),o=2*s+1-2*e,i(f,{isShadow:"true",stroke:n.color||"#000000","stroke-opacity":l*e,"stroke-width":o,transform:"translate"+a,fill:"none"}),r&&(i(f,"height",Math.max(i(f,"height")-o,0)),f.cutHeight=o),t?t.element.appendChild(f):h.parentNode.insertBefore(f,h),c.push(f);this.shadows=c}}else this.destroyShadows();return this},destroyShadows:function(){e(this.shadows||[],function(n){this.safeRemoveChild(n)},this);this.shadows=void 0},xGetter:function(n){return"circle"===this.element.nodeName&&("x"===n?n="cx":"y"===n&&(n="cy")),this._defaultGetter(n)},_defaultGetter:function(n){return n=u(this[n],this.element?this.element.getAttribute(n):null,0),/^[\-0-9\.]+$/.test(n)&&(n=parseFloat(n)),n},dSetter:function(n,t,i){n&&n.join&&(n=n.join(" "));/(NaN| {2}|^$)/.test(n)&&(n="M 0 0");i.setAttribute(t,n);this[t]=n},dashstyleSetter:function(n){var t,i=this["stroke-width"];if("inherit"===i&&(i=1),n=n&&n.toLowerCase()){for(n=n.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),t=n.length;t--;)n[t]=l(n[t])*i;n=n.join(",").replace(/NaN/g,"none");this.element.setAttribute("stroke-dasharray",n)}},alignSetter:function(n){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[n])},opacitySetter:function(n,t,i){this[t]=n;i.setAttribute(t,n)},titleSetter:function(n){var t=this.element.getElementsByTagName("title")[0];t||(t=f.createElementNS(this.SVG_NS,"title"),this.element.appendChild(t));t.firstChild&&t.removeChild(t.firstChild);t.appendChild(f.createTextNode(String(u(n),"").replace(/<[^>]*>/g,"")))},textSetter:function(n){n!==this.textStr&&(delete this.bBox,this.textStr=n,this.added&&this.renderer.buildText(this))},fillSetter:function(n,t,i){"string"==typeof n?i.setAttribute(t,n):n&&this.colorGradient(n,t,i)},visibilitySetter:function(n,t,i){"inherit"===n?i.removeAttribute(t):i.setAttribute(t,n)},zIndexSetter:function(n,i){var h=this.renderer,r=this.parentGroup,f=(r||h).element||h.box,u,e=this.element,o,s;if(u=this.added,t(n)&&(e.zIndex=n,n=+n,this[i]===n&&(u=!1),this[i]=n),u){for((n=this.zIndex)&&r&&(r.handleZ=!0),i=f.childNodes,s=0;s<i.length&&!o;s++)r=i[s],u=r.zIndex,r!==e&&(l(u)>n||!t(n)&&t(u)||0>n&&!t(u)&&f!==h.box)&&(f.insertBefore(e,r),o=!0);o||f.appendChild(e)}return o},_defaultSetter:function(n,t,i){i.setAttribute(t,n)}};r.prototype.yGetter=r.prototype.xGetter;r.prototype.translateXSetter=r.prototype.translateYSetter=r.prototype.rotationSetter=r.prototype.verticalAlignSetter=r.prototype.scaleXSetter=r.prototype.scaleYSetter=function(n,t){this[t]=n;this.doTransform=!0};r.prototype["stroke-widthSetter"]=r.prototype.strokeSetter=function(n,t,i){this[t]=n;this.stroke&&this["stroke-width"]?(r.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===t&&0===n&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)};y=n.SVGRenderer=function(){this.init.apply(this,arguments)};y.prototype={Element:r,SVG_NS:d,init:function(n,t,r,u,e,o){var c,s;u=this.createElement("svg").attr({version:"1.1","class":"highcharts-root"}).css(this.getStyle(u));c=u.element;n.appendChild(c);-1===n.innerHTML.indexOf("xmlns")&&i(c,"xmlns",this.SVG_NS);this.isSVG=!0;this.box=c;this.boxWrapper=u;this.alignedObjects=[];this.url=(it||vt)&&f.getElementsByTagName("base").length?g.location.href.replace(/#.*?$/,"").replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(f.createTextNode("Created with Highcharts 5.0.7"));this.defs=this.createElement("defs").add();this.allowHTML=o;this.forExport=e;this.gradients={};this.cache={};this.cacheKeys=[];this.imgCount=0;this.setSize(t,r,!1);it&&n.getBoundingClientRect&&(t=function(){h(n,{left:0,top:0});s=n.getBoundingClientRect();h(n,{left:Math.ceil(s.left)-s.left+"px",top:Math.ceil(s.top)-s.top+"px"})},t(),this.unSubPixelFix=p(g,"resize",t))},getStyle:function(n){return this.style=o({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},n)},setStyle:function(n){this.boxWrapper.css(this.getStyle(n))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var n=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),st(this.gradients||{}),this.gradients=null,n&&(this.defs=n.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(n){var t=new this.Element;return t.init(this,n),t},draw:yt,getRadialAttr:function(n,t){return{cx:n[0]-n[2]/2+t.cx*n[2],cy:n[1]-n[2]/2+t.cy*n[2],r:t.r*n[2]}},buildText:function(n){var o=n.element,c=this,rt=c.forExport,r=u(n.textStr,"").toString(),ut=-1!==r.indexOf("<"),ft=o.childNodes,w,b,k,v,g=i(o,"x"),t=n.styles,s=n.textWidth,nt=t&&t.lineHeight,y=t&&t.textOutline,p=t&&"ellipsis"===t.textOverflow,tt=t&&"nowrap"===t.whiteSpace,et=t&&t.fontSize,it,ot=ft.length,t=s&&!n.added&&this.box,st=function(n){var t;return t=/(px|em)$/.test(n&&n.style.fontSize)?n.style.fontSize:et||c.style.fontSize||12,nt?l(nt):c.fontMetrics(t,n.getAttribute("style")?n:o).h};if(it=[r,p,tt,nt,y,et,s].join(),it!==n.textCache){for(n.textCache=it;ot--;)o.removeChild(ft[ot]);ut||y||p||s||-1!==r.indexOf(" ")?(w=/<.*class="([^"]+)".*>/,b=/<.*style="([^"]+)".*>/,k=/<.*href="(http[^"]+)".*>/,t&&t.appendChild(o),r=ut?r.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"<\/span>").split(/<br.*?>/g):[r],r=ht(r,function(n){return""!==n}),e(r,function(t,r){var u,l=0;t=t.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"<\/span>|||");u=t.split("|||");e(u,function(t){var y,e,ft,et;if((""!==t||1===u.length)&&(y={},e=f.createElementNS(c.SVG_NS,"tspan"),w.test(t)&&(ft=t.match(w)[1],i(e,"class",ft)),b.test(t)&&(et=t.match(b)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),i(e,"style",et)),k.test(t)&&!rt&&(i(e,"onclick",'location.href="'+t.match(k)[1]+'"'),h(e,{cursor:"pointer"})),t=(t.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">")," "!==t)){if(e.appendChild(f.createTextNode(t)),l?y.dx=0:r&&null!==g&&(y.x=g),i(e,y),o.appendChild(e),!l&&r&&(!a&&rt&&h(e,{display:"block"}),i(e,"dy",st(e))),s){y=t.replace(/([^\^])-/g,"$1- ").split(" ");ft=1<u.length||r||1<y.length&&!tt;for(var nt,it,ot=[],ct=st(e),lt=n.rotation,ut=t,ht=ut.length;(ft||p)&&(y.length||ot.length);)n.rotation=0,nt=n.getBBox(!0),it=nt.width,!a&&c.forExport&&(it=c.measureSpanWidth(e.firstChild.data,n.styles)),nt=it>s,void 0===v&&(v=nt),p&&v?(ht/=2,""===ut||!nt&&.5>ht?y=[]:(ut=t.substring(0,ut.length+(nt?-1:1)*Math.ceil(ht)),y=[ut+(3<s?"…":"")],e.removeChild(e.firstChild))):nt&&1!==y.length?(e.removeChild(e.firstChild),ot.unshift(y.pop())):(y=ot,ot=[],y.length&&!tt&&(e=f.createElementNS(d,"tspan"),i(e,{dy:ct,x:g}),et&&i(e,"style",et),o.appendChild(e)),it>s&&(s=it)),y.length&&e.appendChild(f.createTextNode(y.join(" ").replace(/- /g,"-")));n.rotation=lt}l++}})}),v&&n.attr("title",n.textStr),t&&t.removeChild(o),y&&n.applyTextOutline&&n.applyTextOutline(y)):o.appendChild(f.createTextNode(r.replace(/&lt;/g,"<").replace(/&gt;/g,">")))}},getContrast:function(n){return n=ot(n).rgba,510<n[0]+n[1]+n[2]?"#000000":"#FFFFFF"},button:function(n,t,i,r,u,f,e,h,c){var l=this.label(n,t,i,c,null,null,null,null,"button"),a=0,v,y,w,b;l.attr(s({padding:8,r:2},u));u=s({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},u);v=u.style;delete u.style;f=s(u,{fill:"#e6e6e6"},f);y=f.style;delete f.style;e=s(u,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},e);w=e.style;delete e.style;h=s(u,{style:{color:"#cccccc"}},h);b=h.style;delete h.style;p(l.element,k?"mouseover":"mouseenter",function(){3!==a&&l.setState(1)});p(l.element,k?"mouseout":"mouseleave",function(){3!==a&&l.setState(a)});l.setState=function(n){1!==n&&(l.state=a=n);l.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][n||0]);l.attr([u,f,e,h][n||0]).css([v,y,w,b][n||0])};l.attr(u).css(o({cursor:"default"},v));return l.on("click",function(n){3!==a&&r.call(l,n)})},crispLine:function(n,t){return n[1]===n[4]&&(n[1]=n[4]=Math.round(n[1])-t%2/2),n[2]===n[5]&&(n[2]=n[5]=Math.round(n[2])+t%2/2),n},path:function(n){var t={fill:"none"};return tt(n)?t.d=n:c(n)&&o(t,n),this.createElement("path").attr(t)},circle:function(n,t,i){return n=c(n)?n:{x:n,y:t,r:i},t=this.createElement("circle"),t.xSetter=t.ySetter=function(n,t,i){i.setAttribute("c"+t,n)},t.attr(n)},arc:function(n,t,i,r,u,f){return c(n)&&(t=n.y,i=n.r,r=n.innerR,u=n.start,f=n.end,n=n.x),n=this.symbol("arc",n||0,t||0,i||0,i||0,{innerR:r||0,start:u||0,end:f||0}),n.r=i,n},rect:function(n,t,r,u,f,e){f=c(n)?n.r:f;var o=this.createElement("rect");return n=c(n)?n:void 0===n?{}:{x:n,y:t,width:Math.max(r,0),height:Math.max(u,0)},void 0!==e&&(n.strokeWidth=e,n=o.crisp(n)),n.fill="none",f&&(n.r=f),o.rSetter=function(n,t,r){i(r,{rx:n,ry:n})},o.attr(n)},setSize:function(n,t,i){var r=this.alignedObjects,f=r.length;for(this.width=n,this.height=t,this.boxWrapper.animate({width:n,height:t},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:u(i,!0)?void 0:0});f--;)r[f].align()},g:function(n){var t=this.createElement("g");return n?t.attr({"class":"highcharts-"+n}):t},image:function(n,t,i,r,u){var f={preserveAspectRatio:"none"};return 1<arguments.length&&o(f,{x:t,y:i,width:r,height:u}),f=this.createElement("image").attr(f),f.element.setAttributeNS?f.element.setAttributeNS("http://www.w3.org/1999/xlink","href",n):f.element.setAttribute("hc-svg-href",n),f},symbol:function(n,i,r,s,c,l){var p=this,a,b=this.symbols[n],d=t(i)&&b&&this.symbols[n](Math.round(i),Math.round(r),s,c,l),k=/^url\((.*?)\)$/,y,w;return b?(a=this.path(d),a.attr("fill","none"),o(a,{symbolName:n,x:i,y:r,width:s,height:c}),l&&o(a,l)):k.test(n)&&(y=n.match(k)[1],a=this.image(y),a.imgwidth=u(v[y]&&v[y].width,l&&l.width),a.imgheight=u(v[y]&&v[y].height,l&&l.height),w=function(){a.attr({width:a.width,height:a.height})},e(["width","height"],function(n){a[n+"Setter"]=function(n,i){var u={},r=this["img"+i],f="width"===i?"translateX":"translateY";this[i]=n;t(r)&&(this.element&&this.element.setAttribute(i,r),this.alignByTranslate||(u[f]=((this[i]||0)-r)/2,this.attr(u)))}}),t(i)&&a.attr({x:i,y:r}),a.isImg=!0,t(a.imgwidth)&&t(a.imgheight)?w():(a.attr({width:0,height:0}),nt("img",{onload:function(){var n=et[p.chartIndex];0===this.width&&(h(this,{position:"absolute",top:"-999em"}),f.body.appendChild(this));v[y]={width:this.width,height:this.height};a.imgwidth=this.width;a.imgheight=this.height;a.element&&w();this.parentNode&&this.parentNode.removeChild(this);p.imgCount--;!p.imgCount&&n&&n.onload&&n.onload()},src:y}),this.imgCount++)),a},symbols:{circle:function(n,t,i,r){return this.arc(n+i/2,t+r/2,i/2,r/2,{start:0,end:2*Math.PI,open:!1})},square:function(n,t,i,r){return["M",n,t,"L",n+i,t,n+i,t+r,n,t+r,"Z"]},triangle:function(n,t,i,r){return["M",n+i/2,t,"L",n+i,t+r,n,t+r,"Z"]},"triangle-down":function(n,t,i,r){return["M",n,t,"L",n+i,t,n+i/2,t+r,"Z"]},diamond:function(n,t,i,r){return["M",n+i/2,t,"L",n+i,t+r/2,n+i/2,t+r,n,t+r/2,"Z"]},arc:function(n,i,r,u,f){var s=f.start,e=f.r||r,h=f.r||u||r,o=f.end-.001;r=f.innerR;u=f.open;var c=Math.cos(s),l=Math.sin(s),a=Math.cos(o),o=Math.sin(o);return f=f.end-s<Math.PI?0:1,e=["M",n+e*c,i+h*l,"A",e,h,0,f,1,n+e*a,i+h*o],t(r)&&e.push(u?"M":"L",n+r*a,i+r*o,"A",r,r,0,f,0,n+r*c,i+r*l),e.push(u?"":"Z"),e},callout:function(n,t,i,r,u){var f=Math.min(u&&u.r||0,i,r),o=f+6,e=u&&u.anchorX,s;return u=u&&u.anchorY,s=["M",n+f,t,"L",n+i-f,t,"C",n+i,t,n+i,t,n+i,t+f,"L",n+i,t+r-f,"C",n+i,t+r,n+i,t+r,n+i-f,t+r,"L",n+f,t+r,"C",n,t+r,n,t+r,n,t+r-f,"L",n,t+f,"C",n,t,n,t,n+f,t],e&&e>i?u>t+o&&u<t+r-o?s.splice(13,3,"L",n+i,u-6,n+i+6,u,n+i,u+6,n+i,t+r-f):s.splice(13,3,"L",n+i,r/2,e,u,n+i,r/2,n+i,t+r-f):e&&0>e?u>t+o&&u<t+r-o?s.splice(33,3,"L",n,u+6,n-6,u,n,u-6,n,t+f):s.splice(33,3,"L",n,r/2,e,u,n,r/2,n,t+f):u&&u>r&&e>n+o&&e<n+i-o?s.splice(23,3,"L",e+6,t+r,e,t+r+6,e-6,t+r,n+f,t+r):u&&0>u&&e>n+o&&e<n+i-o&&s.splice(3,3,"L",e-6,t,e,t-6,e+6,t,i-f,t),s}},clipRect:function(t,i,r,u){var f=n.uniqueKey(),e=this.createElement("clipPath").attr({id:f}).add(this.defs);return t=this.rect(t,i,r,u,0).add(e),t.id=f,t.clipPath=e,t.count=0,t},text:function(n,t,i,r){var f=!a&&this.forExport,u={};return r&&(this.allowHTML||!this.forExport)?this.html(n,t,i):(u.x=Math.round(t||0),i&&(u.y=Math.round(i)),(n||0===n)&&(u.text=n),n=this.createElement("text").attr(u),f&&n.css({position:"absolute"}),r||(n.xSetter=function(n,t,i){for(var f=i.getElementsByTagName("tspan"),u,e=i.getAttribute(t),r=0;r<f.length;r++)u=f[r],u.getAttribute(t)===e&&u.setAttribute(t,n);i.setAttribute(t,n)}),n)},fontMetrics:function(n,t){return n=n||t&&t.style&&t.style.fontSize||this.style&&this.style.fontSize,n=/px/.test(n)?l(n):/em/.test(n)?parseFloat(n)*(t?this.fontMetrics(null,t.parentNode).f:16):12,t=24>n?n+3:Math.round(1.2*n),{h:t,b:Math.round(.8*t),f:n}},rotCorr:function(n,t,i){var r=n;return t&&i&&(r=Math.max(r*Math.cos(t*w),4)),{x:-n/3*Math.sin(t*w),y:r}},label:function(n,i,u,f,h,c,l,a,v){var d=this,y=d.g("button"!==v&&"label"),p=y.text=d.text("",0,0,l).attr({zIndex:1}),w,b,ut=0,k=3,ft=0,g,ht,et,ct,tt,lt={},pt,at,vt=/^url\((.*?)\)$/.test(f),ot=vt,yt,st,it,nt,wt;return v&&y.addClass("highcharts-"+v),ot=vt,yt=function(){return(pt||0)%2/2},st=function(){var n=p.element.style,i={};b=(void 0===g||void 0===ht||tt)&&t(p.textStr)&&p.getBBox();y.width=(g||b.width||0)+2*k+ft;y.height=(ht||b.height||0)+2*k;at=k+d.fontMetrics(n&&n.fontSize,p).b;ot&&(w||(y.box=w=d.symbols[f]||vt?d.symbol(f):d.rect(),w.addClass(("button"===v?"":"highcharts-label-box")+(v?" highcharts-"+v+"-box":"")),w.add(y),n=yt(),i.x=n,i.y=(a?-at:0)+n),i.width=Math.round(y.width),i.height=Math.round(y.height),w.attr(o(i,lt)),lt={})},it=function(){var i=ft+k,n;n=a?0:at;t(g)&&b&&("center"===tt||"right"===tt)&&(i+={center:.5,right:1}[tt]*(g-b.width));(i!==p.x||n!==p.y)&&(p.attr("x",i),void 0!==n&&p.attr("y",n));p.x=i;p.y=n},nt=function(n,t){w?w.attr(n,t):lt[n]=t},y.onAdd=function(){p.add(y);y.attr({text:n||0===n?n:"",x:i,y:u});w&&t(h)&&y.attr({anchorX:h,anchorY:c})},y.widthSetter=function(n){g=n},y.heightSetter=function(n){ht=n},y["text-alignSetter"]=function(n){tt=n},y.paddingSetter=function(n){t(n)&&n!==k&&(k=y.padding=n,it())},y.paddingLeftSetter=function(n){t(n)&&n!==ft&&(ft=n,it())},y.alignSetter=function(n){n={left:0,center:.5,right:1}[n];n!==ut&&(ut=n,b&&y.attr({x:et}))},y.textSetter=function(n){void 0!==n&&p.textSetter(n);st();it()},y["stroke-widthSetter"]=function(n,t){n&&(ot=!0);pt=this["stroke-width"]=n;nt(t,n)},y.strokeSetter=y.fillSetter=y.rSetter=function(n,t){"fill"===t&&n&&(ot=!0);nt(t,n)},y.anchorXSetter=function(n,t){h=n;nt(t,Math.round(n)-yt()-et)},y.anchorYSetter=function(n,t){c=n;nt(t,n-ct)},y.xSetter=function(n){y.x=n;ut&&(n-=ut*((g||b.width)+2*k));et=Math.round(n);y.attr("translateX",et)},y.ySetter=function(n){ct=y.y=Math.round(n);y.attr("translateY",ct)},wt=y.css,o(y,{css:function(n){if(n){var t={};n=s(n);e(y.textProps,function(i){void 0!==n[i]&&(t[i]=n[i],delete n[i])});p.css(t)}return wt.call(y,n)},getBBox:function(){return{width:b.width+2*k,height:b.height+2*k,x:b.x-k,y:b.y-k}},shadow:function(n){return n&&(st(),w&&w.shadow(n)),y},destroy:function(){rt(y.element,"mouseenter");rt(y.element,"mouseleave");p&&(p=p.destroy());w&&(w=w.destroy());r.prototype.destroy.call(y);y=d=st=it=nt=null}})}};n.Renderer=y}(n),function(n){var e=n.attr,o=n.createElement,t=n.css,s=n.defined,i=n.each,r=n.extend,u=n.isFirefox,h=n.isMS,f=n.isWebKit,c=n.pInt,l=n.SVGRenderer,a=n.win,v=n.wrap;r(n.SVGElement.prototype,{htmlCss:function(n){var i=this.element;return(i=n&&"SPAN"===i.tagName&&n.width)&&(delete n.width,this.textWidth=i,this.updateTransform()),n&&"ellipsis"===n.textOverflow&&(n.whiteSpace="nowrap",n.overflow="hidden"),this.styles=r(this.styles,n),t(this.element,n),this},htmlGetBBox:function(){var n=this.element;return"text"===n.nodeName&&(n.style.position="absolute"),{x:n.offsetLeft,y:n.offsetTop,width:n.offsetWidth,height:n.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var o=this.renderer,n=this.element,h=this.translateX||0,l=this.translateY||0,w=this.x||0,b=this.y||0,e=this.textAlign||"left",a={left:0,center:.5,right:1}[e],r=this.styles;if(t(n,{marginLeft:h,marginTop:l}),this.shadows&&i(this.shadows,function(n){t(n,{marginLeft:h+1,marginTop:l+1})}),this.inverted&&i(n.childNodes,function(t){o.invertChild(t,n)}),"SPAN"===n.tagName){var u=this.rotation,v=c(this.textWidth),y=r&&r.whiteSpace,p=[u,e,n.innerHTML,this.textWidth,this.textAlign].join();p!==this.cTT&&(r=o.fontMetrics(n.style.fontSize).b,s(u)&&this.setSpanRotation(u,a,r),t(n,{width:"",whiteSpace:y||"nowrap"}),n.offsetWidth>v&&/[ \-]/.test(n.textContent||n.innerText)&&t(n,{width:v+"px",display:"block",whiteSpace:y||"normal"}),this.getSpanCorrection(n.offsetWidth,r,a,u,e));t(n,{left:w+(this.xCorr||0)+"px",top:b+(this.yCorr||0)+"px"});f&&(r=n.offsetHeight);this.cTT=p}}else this.alignOnAdd=!0},setSpanRotation:function(n,i,r){var e={},o=h?"-ms-transform":f?"-webkit-transform":u?"MozTransform":a.opera?"-o-transform":"";e[o]=e.transform="rotate("+n+"deg)";e[o+(u?"Origin":"-origin")]=e.transformOrigin=100*i+"% "+r+"px";t(this.element,e)},getSpanCorrection:function(n,t,i){this.xCorr=-n*i;this.yCorr=-t}});r(l.prototype,{html:function(n,t,u){var f=this.createElement("span"),s=f.element,h=f.renderer,c=h.isSVG,l=function(n,t){i(["opacity","visibility"],function(i){v(n,i+"Setter",function(n,i,r,u){n.call(this,i,r,u);t[r]=i})})};return f.textSetter=function(n){n!==s.innerHTML&&delete this.bBox;s.innerHTML=this.textStr=n;f.htmlUpdateTransform()},c&&l(f,f.element.style),f.xSetter=f.ySetter=f.alignSetter=f.rotationSetter=function(n,t){"align"===t&&(t="textAlign");f[t]=n;f.htmlUpdateTransform()},f.attr({text:n,x:Math.round(t),y:Math.round(u)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),s.style.whiteSpace="nowrap",f.css=f.htmlCss,c&&(f.add=function(n){var t,c=h.box.parentNode,u=[];if(this.parentGroup=n){if(t=n.div,!t){for(;n;)u.push(n),n=n.parentGroup;i(u.reverse(),function(n){var i,s=e(n.element,"class");s&&(s={className:s});t=n.div=n.div||o("div",s,{position:"absolute",left:(n.translateX||0)+"px",top:(n.translateY||0)+"px",display:n.display,opacity:n.opacity,pointerEvents:n.styles&&n.styles.pointerEvents},t||c);i=t.style;r(n,{on:function(){return f.on.apply({element:u[0].div},arguments),n},translateXSetter:function(t,r){i.left=t+"px";n[r]=t;n.doTransform=!0},translateYSetter:function(t,r){i.top=t+"px";n[r]=t;n.doTransform=!0}});l(n,i)})}}else t=c;return t.appendChild(s),f.added=!0,f.alignOnAdd&&f.htmlUpdateTransform(),f}),f}})}(n),function(n){var e,t,u=n.createElement,s=n.css,y=n.defined,f=n.deg2rad,p=n.discardElement,i=n.doc,h=n.each,w=n.erase,a=n.extend;e=n.extendClass;var d=n.isArray,b=n.isNumber,v=n.isObject,g=n.merge;t=n.noop;var c=n.pick,r=n.pInt,l=n.SVGElement,o=n.SVGRenderer,k=n.win;n.svg||(t={docMode8:i&&8===i.documentMode,init:function(n,t){var i=["<",t,' filled="f" stroked="f"'],r=["position: ","absolute",";"],f="div"===t;("shape"===t||f)&&r.push("left:0;top:0;width:1px;height:1px;");r.push("visibility: ",f?"hidden":"visible");i.push(' style="',r.join(""),'"/>');t&&(i=f||"span"===t||"img"===t?i.join(""):n.prepVML(i),this.element=u(i));this.renderer=n},add:function(n){var i=this.renderer,r=this.element,t=i.box,u=n&&n.inverted,t=n?n.element||n:t;return n&&(this.parentGroup=n),u&&i.invertChild(r,t),t.appendChild(r),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this.className&&this.attr("class",this.className),this},updateTransform:l.prototype.htmlUpdateTransform,setSpanRotation:function(){var n=this.rotation,t=Math.cos(n*f),i=Math.sin(n*f);s(this.element,{filter:n?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-i,", M21=",i,", M22=",t,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(n,t,i,r,u){var e=r?Math.cos(r*f):1,o=r?Math.sin(r*f):0,l=c(this.elemHeight,this.element.offsetHeight),h;this.xCorr=0>e&&-n;this.yCorr=0>o&&-l;h=0>e*o;this.xCorr+=o*t*(h?1-i:i);this.yCorr-=e*t*(r?h?i:1-i:1);u&&"left"!==u&&(this.xCorr-=n*i*(0>e?-1:1),r&&(this.yCorr-=l*i*(0>o?-1:1)),s(this.element,{textAlign:u}))},pathToVML:function(n){for(var t=n.length,i=[];t--;)b(n[t])?i[t]=Math.round(10*n[t])-5:"Z"===n[t]?i[t]="x":(i[t]=n[t],!n.isArc||"wa"!==n[t]&&"at"!==n[t]||(i[t+5]===i[t+7]&&(i[t+7]+=n[t+7]>n[t+5]?1:-1),i[t+6]===i[t+8]&&(i[t+8]+=n[t+8]>n[t+6]?1:-1)));return i.join(" ")||"x"},clip:function(n){var t=this,i;return n?(i=n.members,w(i,t),i.push(t),t.destroyClip=function(){w(i,t)},n=n.getCSS(t)):(t.destroyClip&&t.destroyClip(),n={clip:t.docMode8?"inherit":"rect(auto)"}),t.css(n)},css:l.prototype.htmlCss,safeRemoveChild:function(n){n.parentNode&&p(n)},destroy:function(){return this.destroyClip&&this.destroyClip(),l.prototype.destroy.apply(this)},on:function(n,t){return this.element["on"+n]=function(){var n=k.event;n.target=n.srcElement;t(n)},this},cutOffPath:function(n,t){var i;return n=n.split(/[ ,]/),i=n.length,(9===i||11===i)&&(n[i-4]=n[i-2]=r(n[i-2])-10*t),n.join(" ")},shadow:function(n,t,i){var y=[],e,o=this.element,p=this.renderer,f,w=o.style,h,s=o.path,l,a,v,b;if(s&&"string"!=typeof s.value&&(s="x"),a=s,n){for(v=c(n.width,3),b=(n.opacity||.15)/v,e=1;3>=e;e++)l=2*v+1-2*e,i&&(a=this.cutOffPath(s.value,l+.5)),h=['<shape isShadow="true" strokeweight="',l,'" filled="false" path="',a,'" coordsize="10 10" style="',o.style.cssText,'" />'],f=u(p.prepVML(h),null,{left:r(w.left)+c(n.offsetX,1),top:r(w.top)+c(n.offsetY,1)}),i&&(f.cutOff=l+1),h=['<stroke color="',n.color||"#000000",'" opacity="',b*e,'"/>'],u(p.prepVML(h),null,null,f),t?t.element.appendChild(f):o.parentNode.insertBefore(f,o),y.push(f);this.shadows=y}return this},updateShadows:t,setAttr:function(n,t){this.docMode8?this.element[n]=t:this.element.setAttribute(n,t)},classSetter:function(n){(this.added?this.element:this).className=n},dashstyleSetter:function(n,t,i){(i.getElementsByTagName("stroke")[0]||u(this.renderer.prepVML(["<stroke/>"]),null,null,i))[t]=n||"solid";this[t]=n},dSetter:function(n,t,i){var r=this.shadows;if(n=n||[],this.d=n.join&&n.join(" "),i.path=n=this.pathToVML(n),r)for(i=r.length;i--;)r[i].path=r[i].cutOff?this.cutOffPath(n,r[i].cutOff):n;this.setAttr(t,n)},fillSetter:function(n,t,i){var r=i.nodeName;"SPAN"===r?i.style.color=n:"IMG"!==r&&(i.filled="none"!==n,this.setAttr("fillcolor",this.renderer.color(n,i,t,this)))},"fill-opacitySetter":function(n,t,i){u(this.renderer.prepVML(["<",t.split("-")[0],' opacity="',n,'"/>']),null,null,i)},opacitySetter:t,rotationSetter:function(n,t,i){i=i.style;this[t]=i[t]=n;i.left=-Math.round(Math.sin(n*f)+1)+"px";i.top=Math.round(Math.cos(n*f))+"px"},strokeSetter:function(n,t,i){this.setAttr("strokecolor",this.renderer.color(n,i,t,this))},"stroke-widthSetter":function(n,t,i){i.stroked=!!n;this[t]=n;b(n)&&(n+="px");this.setAttr("strokeweight",n)},titleSetter:function(n,t){this.setAttr(t,n)},visibilitySetter:function(n,t,i){"inherit"===n&&(n="visible");this.shadows&&h(this.shadows,function(i){i.style[t]=n});"DIV"===i.nodeName&&(n="hidden"===n?"-999em":0,this.docMode8||(i.style[t]=n?"visible":"hidden"),t="top");i.style[t]=n},xSetter:function(n,t,i){this[t]=n;"x"===t?t="left":"y"===t&&(t="top");this.updateClipping?(this[t]=n,this.updateClipping()):i.style[t]=n},zIndexSetter:function(n,t,i){i.style[t]=n}},t["stroke-opacitySetter"]=t["fill-opacitySetter"],n.VMLElement=t=e(l,t),t.prototype.ySetter=t.prototype.widthSetter=t.prototype.heightSetter=t.prototype.xSetter,t={Element:t,isIE8:-1<k.navigator.userAgent.indexOf("MSIE 8.0"),init:function(n,t,r){var u,f;if(this.alignedObjects=[],u=this.createElement("div").css({position:"relative"}),f=u.element,n.appendChild(u.element),this.isVML=!0,this.box=f,this.boxWrapper=u,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(t,r,!1),!i.namespaces.hcv){i.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{i.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(e){i.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(n,t,i,r){var f=this.createElement(),u=v(n);return a(f,{members:[],count:0,left:(u?n.x:n)+1,top:(u?n.y:t)+1,width:(u?n.width:i)-1,height:(u?n.height:r)-1,getCSS:function(n){var t=n.element,e=t.nodeName,i=n.inverted,r=this.top-("shape"===e?t.offsetTop:0),u=this.left,t=u+this.width,f=r+this.height,r={clip:"rect("+Math.round(i?u:r)+"px,"+Math.round(i?f:t)+"px,"+Math.round(i?t:f)+"px,"+Math.round(i?r:u)+"px)"};return!i&&n.docMode8&&"DIV"===e&&a(r,{width:t+"px",height:f+"px"}),r},updateClipping:function(){h(f.members,function(n){n.element&&n.css(f.getCSS(n))})}})},color:function(t,i,r,f){var ht=this,c,g=/^rgba/,nt,a,o="none",l,p,e,v,tt,it,rt,ut,w,b,k,d;if(t&&t.linearGradient?a="gradient":t&&t.radialGradient&&(a="pattern"),a)if(e=t.linearGradient||t.radialGradient,w="",t=t.stops,k=[],d=function(){nt=['<fill colors="'+k.join(",")+'" opacity="',it,'" o:opacity2="',tt,'" type="',a,'" ',w,'focus="100%" method="any" />'];u(ht.prepVML(nt),null,null,i)},v=t[0],b=t[t.length-1],0<v[0]&&t.unshift([0,v[1]]),1>b[0]&&t.push([1,b[1]]),h(t,function(t,i){g.test(t[1])?(c=n.color(t[1]),l=c.get("rgb"),p=c.get("a")):(l=t[1],p=1);k.push(100*t[0]+"% "+l);i?(it=p,rt=l):(tt=p,ut=l)}),"fill"===r)if("gradient"===a)r=e.x1||e[0]||0,t=e.y1||e[1]||0,v=e.x2||e[2]||0,e=e.y2||e[3]||0,w='angle="'+(90-180*Math.atan((e-t)/(v-r))/Math.PI)+'"',d();else{var o=e.r,ft=2*o,et=2*o,ot=e.cx,st=e.cy,y=i.radialReference,s,o=function(){y&&(s=f.getBBox(),ot+=(y[0]-s.x)/s.width-.5,st+=(y[1]-s.y)/s.height-.5,ft*=y[2]/s.width,et*=y[2]/s.height);w='src="'+n.getOptions().global.VMLRadialGradientURL+'" size="'+ft+","+et+'" origin="0.5,0.5" position="'+ot+","+st+'" color2="'+ut+'" ';d()};f.added?o():f.onAdd=o;o=rt}else o=l;else g.test(t)&&"IMG"!==i.tagName?(c=n.color(t),f[r+"-opacitySetter"](c.get("a"),r,i),o=c.get("rgb")):(o=i.getElementsByTagName(r),o.length&&(o[0].opacity=1,o[0].type="solid"),o=t);return o},prepVML:function(n){var t=this.isIE8;return n=n.join(""),t?(n=n.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),n=-1===n.indexOf('style="')?n.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):n.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):n=n.replace("<","<hcv:"),n},text:o.prototype.html,path:function(n){var t={coordsize:"10 10"};return d(n)?t.d=n:v(n)&&a(t,n),this.createElement("shape").attr(t)},circle:function(n,t,i){var r=this.symbol("circle");return v(n)&&(i=n.r,t=n.y,n=n.x),r.isCircle=!0,r.r=i,r.attr({x:n,y:t})},g:function(n){var t;return n&&(t={className:"highcharts-"+n,"class":"highcharts-"+n}),this.createElement("div").attr(t)},image:function(n,t,i,r,u){var f=this.createElement("img").attr({src:n});return 1<arguments.length&&f.attr({x:t,y:i,width:r,height:u}),f},createElement:function(n){return"rect"===n?this.symbol(n):o.prototype.createElement.call(this,n)},invertChild:function(n,t){var u=this,i;t=t.style;i="IMG"===n.tagName&&n.style;s(n,{flip:"x",left:r(t.width)-(i?r(i.top):1),top:r(t.height)-(i?r(i.left):1),rotation:-90});h(n.childNodes,function(t){u.invertChild(t,n)})},symbols:{arc:function(n,t,i,r,u){var f=u.start,o=u.end,e=u.r||i||r;i=u.innerR;r=Math.cos(f);var s=Math.sin(f),h=Math.cos(o),c=Math.sin(o);return 0==o-f?["x"]:(f=["wa",n-e,t-e,n+e,t+e,n+e*r,t+e*s,n+e*h,t+e*c],u.open&&!i&&f.push("e","M",n,t),f.push("at",n-i,t-i,n+i,t+i,n+i*h,t+i*c,n+i*r,t+i*s,"x","e"),f.isArc=!0,f)},circle:function(n,t,i,r,u){return u&&y(u.r)&&(i=r=2*u.r),u&&u.isCircle&&(n-=i/2,t-=r/2),["wa",n,t,n+i,t+r,n+i,t+r/2,n+i,t+r/2,"e"]},rect:function(n,t,i,r,u){return o.prototype.symbols[y(u)&&u.r?"callout":"square"].call(0,n,t,i,r,u)}}},n.VMLRenderer=e=function(){this.init.apply(this,arguments)},e.prototype=g(o.prototype,t),n.Renderer=e);o.prototype.measureSpanWidth=function(n,t){var r=i.createElement("span");return n=i.createTextNode(n),r.appendChild(n),s(r,t),this.box.appendChild(r),t=r.offsetWidth,p(r),t}}(n),function(n){function f(){var t=n.defaultOptions.global,i=u.moment;if(t.timezone){if(i)return function(n){return-i.tz(n,t.timezone).utcOffset()};n.error(25)}return t.useUTC&&t.getTimezoneOffset}function i(){var s=n.defaultOptions.global,i,e=s.useUTC,h=e?"getUTC":"get",c=e?"setUTC":"set";n.Date=i=s.Date||u.Date;i.hcTimezoneOffset=e&&s.timezoneOffset;i.hcGetTimezoneOffset=f();i.hcMakeTime=function(n,r,u,f,s,h){var c;return e?(c=i.UTC.apply(0,arguments),c+=o(c)):c=new i(n,r,t(u,1),t(f,0),t(s,0),t(h,0)).getTime(),c};r("Minutes Hours Day Date Month FullYear".split(" "),function(n){i["hcGet"+n]=h+n});r("Milliseconds Seconds Minutes Hours Date Month FullYear".split(" "),function(n){i["hcSet"+n]=c+n})}var e=n.color,r=n.each,o=n.getTZOffset,s=n.merge,t=n.pick,u=n.win;n.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,VMLRadialGradientURL:"http://code.highcharts.com/5.0.7/gfx/vml-radial-gradient.png"},chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:n.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:n.isTouchDevice?25:10,backgroundColor:e("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}<\/span><br/>',pointFormat:'<span style="color:{point.color}">●<\/span> {series.name}: <b>{point.y}<\/b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};n.setOptions=function(t){return n.defaultOptions=s(!0,n.defaultOptions,t),i(),n.defaultOptions};n.getOptions=function(){return n.defaultOptions};n.defaultPlotOptions=n.defaultOptions.plotOptions;i()}(n),function(n){var i=n.arrayMax,r=n.arrayMin,t=n.defined,f=n.destroyObjectProperties,e=n.each,u=n.erase,o=n.merge,s=n.pick;n.PlotLineOrBand=function(n,t){this.axis=n;t&&(this.options=t,this.id=t.id)};n.PlotLineOrBand.prototype={render:function(){var e=this,u=e.axis,c=u.horiz,n=e.options,l=n.label,a=e.label,v=n.to,y=n.from,p=n.value,r=t(y)&&t(v),g=t(p),f=e.svgElem,nt=!f,i=[],tt,h=n.color,b=s(n.zIndex,0),k=n.events,i={"class":"highcharts-plot-"+(r?"band ":"line ")+(n.className||"")},it={},rt=u.chart.renderer,w=r?"bands":"lines",d=u.log2lin;if(u.isLog&&(y=d(y),v=d(v),p=d(p)),g?(i={stroke:h,"stroke-width":n.width},n.dashStyle&&(i.dashstyle=n.dashStyle)):r&&(h&&(i.fill=h),n.borderWidth&&(i.stroke=n.borderColor,i["stroke-width"]=n.borderWidth)),it.zIndex=b,w+="-"+b,(h=u[w])||(u[w]=h=rt.g("plot-"+w).attr(it).add()),nt&&(e.svgElem=f=rt.path().attr(i).add(h)),g)i=u.getPlotLinePath(p,f.strokeWidth());else if(r)i=u.getPlotBandPath(y,v,n);else return;if(nt&&i&&i.length){if(f.attr({d:i}),k)for(tt in n=function(n){f.on(n,function(t){k[n].apply(e,[t])})},k)n(tt)}else f&&(i?(f.show(),f.animate({d:i})):(f.hide(),a&&(e.label=a=a.destroy())));return l&&t(l.text)&&i&&i.length&&0<u.width&&0<u.height&&!i.flat?(l=o({align:c&&r&&"center",x:c?!r&&4:10,verticalAlign:!c&&r&&"middle",y:c?r?16:10:r?6:-4,rotation:c&&!r&&90},l),this.renderLabel(l,i,r,b)):a&&a.hide(),e},renderLabel:function(n,t,u,f){var e=this.label,o=this.axis.chart.renderer;e||(e={align:n.textAlign||n.align,rotation:n.rotation,"class":"highcharts-plot-"+(u?"band":"line")+"-label "+(n.className||"")},e.zIndex=f,this.label=e=o.text(n.text,0,0,n.useHTML).attr(e).add(),e.css(n.style));f=[t[1],t[4],u?t[6]:t[1]];t=[t[2],t[5],u?t[7]:t[2]];u=r(f);o=r(t);e.align(n,!1,{x:u,y:o,width:i(f)-u,height:i(t)-o});e.show()},destroy:function(){u(this.axis.plotLinesAndBands,this);delete this.axis;f(this)}};n.AxisPlotLineOrBandExtension={getPlotBandPath:function(n,t){return t=this.getPlotLinePath(t,null,null,!0),(n=this.getPlotLinePath(n,null,null,!0))&&t?(n.flat=n.toString()===t.toString(),n.push(t[4],t[5],t[1],t[2],"z")):n=null,n},addPlotBand:function(n){return this.addPlotBandOrLine(n,"plotBands")},addPlotLine:function(n){return this.addPlotBandOrLine(n,"plotLines")},addPlotBandOrLine:function(t,i){var r=new n.PlotLineOrBand(this,t).render(),u=this.userOptions;return r&&(i&&(u[i]=u[i]||[],u[i].push(t)),this.plotLinesAndBands.push(r)),r},removePlotBandOrLine:function(n){for(var i=this.plotLinesAndBands,r=this.options,f=this.userOptions,t=i.length;t--;)i[t].id===n&&i[t].destroy();e([r.plotLines||[],f.plotLines||[],r.plotBands||[],f.plotBands||[]],function(i){for(t=i.length;t--;)i[t].id===n&&u(i,i[t])})}}}(n),function(n){var f=n.correctFloat,i=n.defined,e=n.destroyObjectProperties,u=n.isNumber,o=n.merge,t=n.pick,r=n.deg2rad;n.Tick=function(n,t,i,r){this.axis=n;this.pos=t;this.type=i||"";this.isNew=!0;i||r||this.addLabel()};n.Tick.prototype={addLabel:function(){var n=this.axis,s=n.options,l=n.chart,r=n.categories,h=n.names,u=this.pos,c=s.labels,e=n.tickPositions,a=u===e[0],v=u===e[e.length-1],h=r?t(r[u],h[u],u):u,r=this.label,e=e.info,y;n.isDatetimeAxis&&e&&(y=s.dateTimeLabelFormats[e.higherRanks[u]||e.unitName]);this.isFirst=a;this.isLast=v;s=n.labelFormatter.call({axis:n,chart:l,isFirst:a,isLast:v,dateTimeLabelFormat:y,value:n.isLog?f(n.lin2log(h)):h});i(r)?r&&r.attr({text:s}):(this.labelLength=(this.label=r=i(s)&&c.enabled?l.renderer.text(s,0,0,c.useHTML).css(o(c.style)).add(n.labelGroup):null)&&r.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(n){var i=this.axis,e=n.x,a=i.chart.chartWidth,s=i.chart.spacing,v=t(i.labelLeft,Math.min(i.pos,s[3])),s=t(i.labelRight,Math.max(i.pos+i.len,a-s[1])),y=this.label,h=this.rotation,f={left:0,center:.5,right:1}[i.labelAlign],o=y.getBBox().width,c=i.getSlotWidth(),u=c,w=1,l,p={};h?0>h&&e-f*o<v?l=Math.round(e/Math.cos(h*r)-v):0<h&&e+f*o>s&&(l=Math.round((a-e)/Math.cos(h*r))):(a=e+(1-f)*o,e-f*o<v?u=n.x+u*(1-f)-v:a>s&&(u=s-n.x+u*f,w=-1),u=Math.min(c,u),u<c&&"center"===i.labelAlign&&(n.x+=w*(c-u-f*(c-Math.min(o,u)))),o>u||i.autoRotation&&(y.styles||{}).width)&&(l=u);l&&(p.width=l,(i.options.labels.style||{}).textOverflow||(p.textOverflow="ellipsis"),y.css(p))},getPosition:function(n,t,i,r){var u=this.axis,f=u.chart,e=r&&f.oldChartHeight||f.chartHeight;return{x:n?u.translate(t+i,null,null,r)+u.transB:u.left+u.offset+(u.opposite?(r&&f.oldChartWidth||f.chartWidth)-u.right-u.left:0),y:n?e-u.bottom+u.offset-(u.opposite?u.height:0):e-u.translate(t+i,null,null,r)-u.transB}},getLabelPosition:function(n,t,u,f,e,o,s,h){var c=this.axis,y=c.transA,p=c.reversed,l=c.staggerLines,a=c.tickRotCorr||{x:0,y:0},v=e.y;return i(v)||(v=0===c.side?u.rotation?-8:-u.getBBox().height:2===c.side?a.y+8:Math.cos(u.rotation*r)*(a.y-u.getBBox(!1,0).height/2)),n=n+e.x+a.x-(o&&f?o*y*(p?-1:1):0),t=t+v-(o&&!f?o*y*(p?1:-1):0),l&&(u=s/(h||1)%l,c.opposite&&(u=l-u-1),t+=c.labelOffset/l*u),{x:n,y:Math.round(t)}},getMarkPath:function(n,t,i,r,u,f){return f.crispLine(["M",n,t,"L",n+(u?0:-i),t+(u?i:0)],r)},render:function(n,i,r){var f=this.axis,s=f.options,g=f.chart.renderer,h=f.horiz,e=this.type,l=this.label,y=this.pos,p=s.labels,a=this.gridLine,w=e?e+"Tick":"tick",b=f.tickSize(w),v=this.mark,rt=!v,nt=p.step,c={},tt=!0,it=f.tickmarkOffset,o=this.getPosition(h,y,it,i),k=o.x,o=o.y,ut=h&&k===f.pos+f.len||!h&&o===f.pos?-1:1,d=e?e+"Grid":"grid",et=s[d+"LineWidth"],ot=s[d+"LineColor"],ft=s[d+"LineDashStyle"],d=t(s[w+"Width"],!e&&f.isXAxis?1:0),w=s[w+"Color"];r=t(r,1);this.isActive=!0;a||(c.stroke=ot,c["stroke-width"]=et,ft&&(c.dashstyle=ft),e||(c.zIndex=1),i&&(c.opacity=0),this.gridLine=a=g.path().attr(c).addClass("highcharts-"+(e?e+"-":"")+"grid-line").add(f.gridGroup));!i&&a&&(y=f.getPlotLinePath(y+it,a.strokeWidth()*ut,i,!0))&&a[this.isNew?"attr":"animate"]({d:y,opacity:r});b&&(f.opposite&&(b[0]=-b[0]),rt&&(this.mark=v=g.path().addClass("highcharts-"+(e?e+"-":"")+"tick").add(f.axisGroup),v.attr({stroke:w,"stroke-width":d})),v[rt?"attr":"animate"]({d:this.getMarkPath(k,o,b[0],v.strokeWidth()*ut,h,g),opacity:r}));l&&u(k)&&(l.xy=o=this.getLabelPosition(k,o,l,h,p,it,n,nt),this.isFirst&&!this.isLast&&!t(s.showFirstLabel,1)||this.isLast&&!this.isFirst&&!t(s.showLastLabel,1)?tt=!1:!h||f.isRadial||p.step||p.rotation||i||0===r||this.handleOverflow(o),nt&&n%nt&&(tt=!1),tt&&u(o.y)?(o.opacity=r,l[this.isNew?"attr":"animate"](o)):l.attr("y",-9999),this.isNew=!1)},destroy:function(){e(this,this.axis)}}}(n),function(n){var w=n.addEvent,b=n.animObject,o=n.arrayMax,s=n.arrayMin,k=n.AxisPlotLineOrBandExtension,d=n.color,f=n.correctFloat,l=n.defaultOptions,i=n.defined,g=n.deg2rad,a=n.destroyObjectProperties,r=n.each,v=n.extend,y=n.fireEvent,nt=n.format,tt=n.getMagnitude,it=n.grep,h=n.inArray,rt=n.isArray,u=n.isNumber,p=n.isString,c=n.merge,ut=n.normalizeTickInterval,t=n.pick,ft=n.PlotLineOrBand,et=n.removeEvent,ot=n.splat,st=n.syncTimeout,e=n.Tick;n.Axis=function(){this.init.apply(this,arguments)};n.Axis.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},minPadding:.01,maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return n.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(n,r){var f=r.isX,u,e,o;this.chart=n;this.horiz=n.inverted?!f:f;this.isXAxis=f;this.coll=this.coll||(f?"xAxis":"yAxis");this.opposite=r.opposite;this.side=r.side||(this.horiz?this.opposite?0:2:this.opposite?1:3);this.setOptions(r);u=this.options;e=u.type;this.labelFormatter=u.labels.formatter||this.defaultLabelFormatter;this.userOptions=r;this.minPixelPadding=0;this.reversed=u.reversed;this.visible=!1!==u.visible;this.zoomEnabled=!1!==u.zoomEnabled;this.hasNames="category"===e||!0===u.categories;this.categories=u.categories||this.hasNames;this.names=this.names||[];this.isLog="logarithmic"===e;this.isDatetimeAxis="datetime"===e;this.isLinked=i(u.linkedTo);this.ticks={};this.labelEdge=[];this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=u.minRange||u.maxZoom;this.range=u.range;this.offset=u.offset||0;this.stacks={};this.oldStacks={};this.stacksTouched=0;this.min=this.max=null;this.crosshair=t(u.crosshair,ot(n.options.tooltip.crosshairs)[f?0:1],!1);r=this.options.events;-1===h(this,n.axes)&&(f?n.axes.splice(n.xAxis.length,0,this):n.axes.push(this),n[this.coll].push(this));this.series=this.series||[];n.inverted&&f&&void 0===this.reversed&&(this.reversed=!0);this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(o in r)w(this,o,r[o]);this.isLog&&(this.val2lin=this.log2lin,this.lin2val=this.lin2log)},setOptions:function(n){this.options=c(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],c(l[this.coll],n))},defaultLabelFormatter:function(){var r=this.axis,t=this.value,u=r.categories,s=this.dateTimeLabelFormat,o=l.lang,e=o.numericSymbols,o=o.numericSymbolMagnitude||1e3,f=e&&e.length,i,h=r.options.labels.format,r=r.isLog?t:r.tickInterval;if(h)i=nt(h,this);else if(u)i=t;else if(s)i=n.dateFormat(s,t);else if(f&&1e3<=r)for(;f--&&void 0===i;)u=Math.pow(o,f+1),r>=u&&0==10*t%u&&null!==e[f]&&0!==t&&(i=n.numberFormat(t/u,-1)+e[f]);return void 0===i&&(i=1e4<=Math.abs(t)?n.numberFormat(t,-1):n.numberFormat(t,-1,void 0,"")),i},getSeriesExtremes:function(){var n=this,f=n.chart;n.hasVisibleSeries=!1;n.dataMin=n.dataMax=n.threshold=null;n.softThreshold=!n.isXAxis;n.buildStacks&&n.buildStacks();r(n.series,function(r){if(r.visible||!f.options.chart.ignoreHiddenSeries){var e=r.options,h=e.threshold,c;n.hasVisibleSeries=!0;n.isLog&&0>=h&&(h=null);n.isXAxis?(e=r.xData,e.length&&(r=s(e),u(r)||r instanceof Date||(e=it(e,function(n){return u(n)}),r=s(e)),n.dataMin=Math.min(t(n.dataMin,e[0]),r),n.dataMax=Math.max(t(n.dataMax,e[0]),o(e)))):(r.getExtremes(),c=r.dataMax,r=r.dataMin,i(r)&&i(c)&&(n.dataMin=Math.min(t(n.dataMin,r),r),n.dataMax=Math.max(t(n.dataMax,c),c)),i(h)&&(n.threshold=h),!e.softThreshold||n.isLog)&&(n.softThreshold=!1)}})},translate:function(n,t,i,r,f,e){var o=this.linkedParent||this,s=1,c=0,h=r?o.oldTransA:o.transA,l;return r=r?o.oldMin:o.min,l=o.minPixelPadding,f=(o.isOrdinal||o.isBroken||o.isLog&&f)&&o.lin2val,h||(h=o.transA),i&&(s*=-1,c=o.len),o.reversed&&(s*=-1,c-=s*(o.sector||o.len)),t?(n=(n*s+c-l)/h+r,f&&(n=o.lin2val(n))):(f&&(n=o.val2lin(n)),n=s*(n-r)*h+c+s*l+(u(e)?h*e:0)),n},toPixels:function(n,t){return this.translate(n,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(n,t){return this.translate(n-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(n,i,r,f,e){var s=this.chart,c=this.left,l=this.top,o,h,y=r&&s.oldChartHeight||s.chartHeight,p=r&&s.oldChartWidth||s.chartWidth,a,v;return o=this.transB,v=function(n,t,i){return(n<t||n>i)&&(f?n=Math.min(Math.max(t,n),i):a=!0),n},e=t(e,this.translate(n,null,null,r)),n=r=Math.round(e+o),o=h=Math.round(y-e-o),u(e)?this.horiz?(o=l,h=y-this.bottom,n=r=v(n,c,c+this.width)):(n=c,r=p-this.right,o=h=v(o,l,l+this.height)):a=!0,a&&!f?null:s.renderer.crispLine(["M",n,o,"L",r,h],i||1)},getLinearTickPositions:function(n,t,i){var r,o=f(Math.floor(t/n)*n),s=f(Math.ceil(i/n)*n),e=[];if(t===i&&u(t))return[t];for(t=o;t<=s;){if(e.push(t),t=f(t+n),t===r)break;r=t}return e},getMinorTickPositions:function(){var f=this.options,t=this.tickPositions,u=this.minorTickInterval,i=[],n,r=this.pointRangePadding||0,e;if(n=this.min-r,r=this.max+r,e=r-n,e&&e/u<this.len/3)if(this.isLog)for(r=t.length,n=1;n<r;n++)i=i.concat(this.getLogTickPositions(u,t[n-1],t[n],!0));else if(this.isDatetimeAxis&&"auto"===f.minorTickInterval)i=i.concat(this.getTimeTicks(this.normalizeTimeTickInterval(u),n,r,f.startOfWeek));else for(t=n+(t[0]-n)%u;t<=r&&t!==i[0];t+=u)i.push(t);return 0!==i.length&&this.trimTicks(i,f.startOnTick,f.endOnTick),i},adjustForMinRange:function(){var h=this.options,n=this.min,u=this.max,f,y=this.dataMax-this.dataMin>=this.minRange,l,c,v,a,p,e;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(i(h.min)||i(h.max)?this.minRange=null:(r(this.series,function(n){for(a=n.xData,c=p=n.xIncrement?1:a.length-1;0<c;c--)(v=a[c]-a[c-1],void 0===l||v<l)&&(l=v)}),this.minRange=Math.min(5*l,this.dataMax-this.dataMin)));u-n<this.minRange&&(e=this.minRange,f=(e-u+n)/2,f=[n-f,t(h.min,n-f)],y&&(f[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),n=o(f),u=[n+e,t(h.max,n+e)],y&&(u[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),u=s(u),u-n<e&&(f[0]=u-e,f[1]=t(h.min,u-e),n=o(f)));this.min=n;this.max=u},getClosest:function(){var n;return this.categories?n=1:r(this.series,function(t){var r=t.closestPointRange,u=t.visible||!t.chart.options.chart.ignoreHiddenSeries;!t.noSharedTooltip&&i(r)&&u&&(n=i(n)?Math.min(n,r):r)}),n},nameToX:function(n){var u=rt(this.categories),f=u?this.categories:this.names,t=n.options.x,r;return n.series.requireSorting=!1,i(t)||(t=!1===this.options.uniqueNames?n.series.autoIncrement():h(n.name,f)),-1===t?u||(r=f.length):r=t,this.names[r]=n.name,r},updateNames:function(){var n=this;0<this.names.length&&(this.names.length=0,this.minRange=void 0,r(this.series||[],function(t){t.xIncrement=null;(!t.points||t.isDirtyData)&&(t.processData(),t.generatePoints());r(t.points,function(i,r){var u;i.options&&(u=n.nameToX(i),u!==i.x&&(i.x=u,t.xData[r]=u))})}))},setAxisTranslation:function(n){var i=this,l=i.max-i.min,s=i.axisPointRange||0,f,e=0,o=0,u=i.linkedParent,a=!!i.categories,h=i.transA,c=i.isXAxis;(c||a||s)&&(f=i.getClosest(),u?(e=u.minPointOffset,o=u.pointRangePadding):r(i.series,function(n){var r=a?1:c?t(n.options.pointRange,f,0):i.axisPointRange||0;n=n.options.pointPlacement;s=Math.max(s,r);i.single||(e=Math.max(e,p(n)?0:r/2),o=Math.max(o,"on"===n?0:r))}),u=i.ordinalSlope&&f?i.ordinalSlope/f:1,i.minPointOffset=e*=u,i.pointRangePadding=o*=u,i.pointRange=Math.min(s,l),c&&(i.closestPointRange=f));n&&(i.oldTransA=h);i.translationSlope=i.transA=h=i.len/(l+o||1);i.transB=i.horiz?i.left:i.bottom;i.minPixelPadding=h*e},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var o=this,c=o.chart,s=o.options,nt=o.isLog,a=o.log2lin,it=o.isDatetimeAxis,ot=o.isXAxis,w=o.isLinked,b=s.maxPadding,k=s.minPadding,l=s.tickInterval,d=s.tickPixelInterval,g=o.categories,h=o.threshold,rt=o.softThreshold,ft,et,v,p;it||g||w||this.getTickAmount();v=t(o.userMin,s.min);p=t(o.userMax,s.max);w?(o.linkedParent=c[o.coll][s.linkedTo],c=o.linkedParent.getExtremes(),o.min=t(c.min,c.dataMin),o.max=t(c.max,c.dataMax),s.type!==o.linkedParent.options.type&&n.error(11,1)):(!rt&&i(h)&&(o.dataMin>=h?(ft=h,k=0):o.dataMax<=h&&(et=h,b=0)),o.min=t(v,ft,o.dataMin),o.max=t(p,et,o.dataMax));nt&&(!e&&0>=Math.min(o.min,t(o.dataMin,o.min))&&n.error(10,1),o.min=f(a(o.min),15),o.max=f(a(o.max),15));o.range&&i(o.max)&&(o.userMin=o.min=v=Math.max(o.min,o.minFromRange()),o.userMax=p=o.max,o.range=null);y(o,"foundExtremes");o.beforePadding&&o.beforePadding();o.adjustForMinRange();!(g||o.axisPointRange||o.usePercentage||w)&&i(o.min)&&i(o.max)&&(a=o.max-o.min)&&(!i(v)&&k&&(o.min-=a*k),!i(p)&&b&&(o.max+=a*b));u(s.floor)?o.min=Math.max(o.min,s.floor):u(s.softMin)&&(o.min=Math.min(o.min,s.softMin));u(s.ceiling)?o.max=Math.min(o.max,s.ceiling):u(s.softMax)&&(o.max=Math.max(o.max,s.softMax));rt&&i(o.dataMin)&&(h=h||0,!i(v)&&o.min<h&&o.dataMin>=h?o.min=h:!i(p)&&o.max>h&&o.dataMax<=h&&(o.max=h));o.tickInterval=o.min===o.max||void 0===o.min||void 0===o.max?1:w&&!l&&d===o.linkedParent.options.tickPixelInterval?l=o.linkedParent.tickInterval:t(l,this.tickAmount?(o.max-o.min)/Math.max(this.tickAmount-1,1):void 0,g?1:(o.max-o.min)*d/Math.max(o.len,d));ot&&!e&&r(o.series,function(n){n.processData(o.min!==o.oldMin||o.max!==o.oldMax)});o.setAxisTranslation(!0);o.beforeSetTickPositions&&o.beforeSetTickPositions();o.postProcessTickInterval&&(o.tickInterval=o.postProcessTickInterval(o.tickInterval));o.pointRange&&!l&&(o.tickInterval=Math.max(o.pointRange,o.tickInterval));e=t(s.minTickInterval,o.isDatetimeAxis&&o.closestPointRange);!l&&o.tickInterval<e&&(o.tickInterval=e);it||nt||l||(o.tickInterval=ut(o.tickInterval,null,tt(o.tickInterval),t(s.allowDecimals,!(.5<o.tickInterval&&5>o.tickInterval&&1e3<o.max&&9999>o.max)),!!this.tickAmount));this.tickAmount||(o.tickInterval=o.unsquish());this.setTickPositions()},setTickPositions:function(){var t=this.options,n,u=t.tickPositions,r=t.tickPositioner,e=t.startOnTick,o=t.endOnTick,f;this.tickmarkOffset=this.categories&&"between"===t.tickmarkPlacement&&1===this.tickInterval?.5:0;this.minorTickInterval="auto"===t.minorTickInterval&&this.tickInterval?this.tickInterval/5:t.minorTickInterval;this.tickPositions=n=u&&u.slice();!n&&(n=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,t.units),this.min,this.max,t.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),n.length>this.len&&(n=[n[0],n.pop()]),this.tickPositions=n,r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=n=r);this.trimTicks(n,e,o);this.isLinked||(this.min===this.max&&i(this.min)&&!this.tickAmount&&(f=!0,this.min-=.5,this.max+=.5),this.single=f,u||r||this.adjustTickAmount())},trimTicks:function(n,t,r){var u=n[0],f=n[n.length-1],e=this.minPointOffset||0;if(!this.isLinked){if(t)this.min=u;else for(;this.min-e>n[0];)n.shift();if(r)this.max=f;else for(;this.max+e<n[n.length-1];)n.pop();0===n.length&&i(u)&&n.push((f+u)/2)}},alignToOthers:function(){var n={},t,i=this.options;return!1===this.chart.options.chart.alignTicks||!1===i.alignTicks||this.isLog||r(this.chart[this.coll],function(i){var r=i.options,r=[i.horiz?r.left:r.top,r.width,r.height,r.pane].join();i.series.length&&(n[r]?t=!0:n[r]=1)}),t},getTickAmount:function(){var t=this.options,n=t.tickAmount,r=t.tickPixelInterval;!i(t.tickInterval)&&this.len<r&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(n=2);!n&&this.alignToOthers()&&(n=Math.ceil(this.len/r)+1);4>n&&(this.finalTickAmt=n,n=5);this.tickAmount=n},adjustTickAmount:function(){var t=this.tickInterval,n=this.tickPositions,r=this.tickAmount,u=this.finalTickAmt,e=n&&n.length;if(e<r){for(;n.length<r;)n.push(f(n[n.length-1]+t));this.transA*=(e-1)/(r-1);this.max=n[n.length-1]}else e>r&&(this.tickInterval*=2,this.setTickPositions());if(i(u)){for(t=r=n.length;t--;)(3===u&&1==t%2||2>=u&&0<t&&t<r-1)&&n.splice(t,1);this.finalTickAmt=void 0}},setScale:function(){var t,n;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();n=this.len!==this.oldAxisLength;r(this.series,function(n){(n.isDirtyData||n.isDirty||n.xAxis.isDirty)&&(t=!0)});n||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=n||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(n,i,u,f,e){var o=this,s=o.chart;u=t(u,!0);r(o.series,function(n){delete n.kdTree});e=v(e,{min:n,max:i});y(o,"setExtremes",e,function(){o.userMin=n;o.userMax=i;o.eventArgs=e;u&&s.redraw(f)})},zoom:function(n,r){var e=this.dataMin,o=this.dataMax,u=this.options,f=Math.min(e,t(u.min,e)),u=Math.max(o,t(u.max,o));return(n!==this.min||r!==this.max)&&(this.allowZoomOutside||(i(e)&&(n<f&&(n=f),n>u&&(n=u)),i(o)&&(r<f&&(r=f),r>u&&(r=u))),this.displayBtn=void 0!==n||void 0!==r,this.setExtremes(n,r,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var n=this.chart,i=this.options,r=i.offsets||[0,0,0,0],o=this.horiz,e=t(i.width,n.plotWidth-r[3]+r[1]),u=t(i.height,n.plotHeight-r[0]+r[2]),f=t(i.top,n.plotTop+r[0]),i=t(i.left,n.plotLeft+r[3]),r=/%$/;r.test(u)&&(u=Math.round(parseFloat(u)/100*n.plotHeight));r.test(f)&&(f=Math.round(parseFloat(f)/100*n.plotHeight+n.plotTop));this.left=i;this.top=f;this.width=e;this.height=u;this.bottom=n.chartHeight-u-f;this.right=n.chartWidth-e-i;this.len=Math.max(o?e:u,0);this.pos=o?i:f},getExtremes:function(){var n=this.isLog,t=this.lin2log;return{min:n?f(t(this.min)):this.min,max:n?f(t(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(n){var t=this.isLog,r=this.lin2log,i=t?r(this.min):this.min,t=t?r(this.max):this.max;return null===n?n=i:i>n?n=i:t<n&&(n=t),this.translate(n,0,1,0,1)},autoLabelAlign:function(n){return n=(t(n,0)-90*this.side+720)%360,15<n&&165>n?"right":195<n&&345>n?"left":"center"},tickSize:function(n){var r=this.options,i=r[n+"Length"],u=t(r[n+"Width"],"tick"===n&&this.isXAxis?1:0);if(u&&i)return"inside"===r[n+"Position"]&&(i=-i),[i,u]},labelMetrics:function(){return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[0]&&this.ticks[0].label)},unsquish:function(){var n=this.options.labels,y=this.horiz,f=this.tickInterval,e=f,h=this.len/(((this.categories?1:0)+this.max-this.min)/f),c,u=n.rotation,l=this.labelMetrics(),o,a=Number.MAX_VALUE,s,v=function(n){return n/=h||1,n=1<n?Math.ceil(n):1,n*f};return y?(s=!n.staggerLines&&!n.step&&(i(u)?[u]:h<t(n.autoRotationLimit,80)&&n.autoRotation))&&r(s,function(n){var t;(n===u||n&&-90<=n&&90>=n)&&(o=v(Math.abs(l.h/Math.sin(g*n))),t=o+Math.abs(n/360),t<a&&(a=t,c=n,e=o))}):n.step||(e=v(l.h)),this.autoRotation=s,this.labelRotation=t(c,u),e},getSlotWidth:function(){var n=this.chart,t=this.horiz,i=this.options.labels,u=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=n.margin[3];return t&&2>(i.step||0)&&!i.rotation&&(this.staggerLines||1)*this.len/u||!t&&(r&&r-n.spacing[3]||.33*n.chartWidth)},renderUnsquish:function(){var o=this.chart,w=o.renderer,e=this.tickPositions,s=this.ticks,t=this.options.labels,b=this.horiz,h=this.getSlotWidth(),n=Math.max(1,Math.round(h-2*(t.padding||5))),i={},l=this.labelMetrics(),y=t.style&&t.style.textOverflow,u,f=0,a,v;if(p(t.rotation)||(i.rotation=t.rotation||0),r(e,function(n){(n=s[n])&&n.labelLength>f&&(f=n.labelLength)}),this.maxLabelLength=f,this.autoRotation)f>n&&f>l.h?i.rotation=this.labelRotation:this.labelRotation=0;else if(h&&(u={width:n+"px"},!y))for(u.textOverflow="clip",a=e.length;!b&&a--;)(v=e[a],n=s[v].label)&&(n.styles&&"ellipsis"===n.styles.textOverflow?n.css({textOverflow:"clip"}):s[v].labelLength>h&&n.css({width:h+"px"}),n.getBBox().height>this.len/e.length-(l.h-l.f)&&(n.specCss={textOverflow:"ellipsis"}));i.rotation&&(u={width:(f>.5*o.chartHeight?.33*o.chartHeight:o.chartHeight)+"px"},y||(u.textOverflow="ellipsis"));(this.labelAlign=t.align||this.autoLabelAlign(this.labelRotation))&&(i.align=this.labelAlign);r(e,function(n){var t=(n=s[n])&&n.label;t&&(t.attr(i),u&&t.css(c(u,t.specCss)),delete t.specCss,n.rotation=i.rotation)});this.tickRotCorr=w.rotCorr(l.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||i(this.min)&&i(this.max)&&!!this.tickPositions},addTitle:function(n){var u=this.chart.renderer,f=this.horiz,r=this.opposite,t=this.options.title,i;this.axisTitle||((i=t.textAlign)||(i=(f?{low:"left",middle:"center",high:"right"}:{low:r?"right":"left",middle:"center",high:r?"left":"right"})[t.align]),this.axisTitle=u.text(t.text,0,0,t.useHTML).attr({zIndex:7,rotation:t.rotation||0,align:i}).addClass("highcharts-axis-title").css(t.style).add(this.axisGroup),this.axisTitle.isNew=!0);this.axisTitle[n?"show":"hide"](!0)},generateTick:function(n){var t=this.ticks;t[n]?t[n].addLabel():t[n]=new e(this,n)},getOffset:function(){var n=this,o=n.chart,h=o.renderer,f=n.options,p=n.tickPositions,a=n.ticks,w=n.horiz,u=n.side,it=o.inverted?[1,0,3,2][u]:u,v,b,rt=0,k,e=0,c=f.title,l=f.labels,s=0,d=o.axisOffset,o=o.clipOffset,y=[-1,1,1,-1][u],g,nt=f.className,tt=n.axisParent,ut=this.tickSize("tick");if(v=n.hasData(),n.showAxis=b=v||t(f.showEmpty,!0),n.staggerLines=n.horiz&&l.staggerLines,n.axisGroup||(n.gridGroup=h.g("grid").attr({zIndex:f.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(nt||"")).add(tt),n.axisGroup=h.g("axis").attr({zIndex:f.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(nt||"")).add(tt),n.labelGroup=h.g("axis-labels").attr({zIndex:l.zIndex||7}).addClass("highcharts-"+n.coll.toLowerCase()+"-labels "+(nt||"")).add(tt)),v||n.isLinked)r(p,function(t,i){n.generateTick(t,i)}),n.renderUnsquish(),!1===l.reserveSpace||0!==u&&2!==u&&{1:"left",3:"right"}[u]!==n.labelAlign&&"center"!==n.labelAlign||r(p,function(n){s=Math.max(a[n].getLabelSize(),s)}),n.staggerLines&&(s*=n.staggerLines,n.labelOffset=s*(n.opposite?-1:1));else for(g in a)a[g].destroy(),delete a[g];c&&c.text&&!1!==c.enabled&&(n.addTitle(b),b&&(rt=n.axisTitle.getBBox()[w?"height":"width"],k=c.offset,e=i(k)?0:t(c.margin,w?5:10)));n.renderLine();n.offset=y*t(f.offset,d[u]);n.tickRotCorr=n.tickRotCorr||{x:0,y:0};h=0===u?-n.labelMetrics().h:2===u?n.tickRotCorr.y:0;e=Math.abs(s)+e;s&&(e=e-h+y*(w?t(l.y,n.tickRotCorr.y+8*y):l.x));n.axisTitleMargin=t(k,e);d[u]=Math.max(d[u],n.axisTitleMargin+rt+y*n.offset,e,v&&p.length&&ut?ut[0]:0);f=f.offset?0:2*Math.floor(n.axisLine.strokeWidth()/2);o[it]=Math.max(o[it],f)},getLinePath:function(n){var t=this.chart,u=this.opposite,i=this.offset,r=this.horiz,f=this.left+(u?this.width:0)+i,i=t.chartHeight-this.bottom-(u?this.height:0)+i;return u&&(n*=-1),t.renderer.crispLine(["M",r?this.left:f,r?i:this.top,"L",r?t.chartWidth-this.right:f,r?i:t.chartHeight-this.bottom],n)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var n=this.horiz,r=this.left,e=this.top,t=this.len,i=this.options.title,u=n?r:e,f=this.opposite,o=this.offset,s=i.x||0,h=i.y||0,c=this.chart.renderer.fontMetrics(i.style&&i.style.fontSize,this.axisTitle).f,t={low:u+(n?0:t),middle:u+t/2,high:u+(n?t:0)}[i.align],r=(n?e+this.height:r)+(n?1:-1)*(f?-1:1)*this.axisTitleMargin+(2===this.side?c:0);return{x:n?t+s:r+(f?this.width:0)+o+s,y:n?r+h-(f?this.height:0)+o:t+h}},renderMinorTick:function(n){var i=this.chart.hasRendered&&u(this.oldMin),t=this.minorTicks;t[n]||(t[n]=new e(this,n,"minor"));i&&t[n].isNew&&t[n].render(null,!0);t[n].render(null,!1,1)},renderTick:function(n,t){var r=this.isLinked,i=this.ticks,f=this.chart.hasRendered&&u(this.oldMin);(!r||n>=this.min&&n<=this.max)&&(i[n]||(i[n]=new e(this,n)),f&&i[n].isNew&&i[n].render(t,!0,.1),i[n].render(t))},render:function(){var n=this,l=n.chart,s=n.options,v=n.isLog,y=n.lin2log,g=n.isLinked,f=n.tickPositions,h=n.axisTitle,o=n.ticks,p=n.minorTicks,t=n.alternateBands,w=s.stackLabels,k=s.alternateGridColor,i=n.tickmarkOffset,u=n.axisLine,d=n.showAxis,nt=b(l.renderer.globalAnimation),a,c;n.labelEdge.length=0;n.overlap=!1;r([o,p,t],function(n){for(var t in n)n[t].isActive=!1});(n.hasData()||g)&&(n.minorTickInterval&&!n.categories&&r(n.getMinorTickPositions(),function(t){n.renderMinorTick(t)}),f.length&&(r(f,function(t,i){n.renderTick(t,i)}),i&&(0===n.min||n.single)&&(o[-1]||(o[-1]=new e(n,-1,null,!0)),o[-1].render(-1))),k&&r(f,function(r,u){c=void 0!==f[u+1]?f[u+1]+i:n.max-i;0==u%2&&r<n.max&&c<=n.max+(l.polar?-i:i)&&(t[r]||(t[r]=new ft(n)),a=r+i,t[r].options={from:v?y(a):a,to:v?y(c):c,color:k},t[r].render(),t[r].isActive=!0)}),n._addedPlotLB||(r((s.plotLines||[]).concat(s.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0));r([o,p,t],function(n){var i,r,u=[],f=nt.duration;for(i in n)n[i].isActive||(n[i].render(i,!1,0),n[i].isActive=!1,u.push(i));st(function(){for(r=u.length;r--;)n[u[r]]&&!n[u[r]].isActive&&(n[u[r]].destroy(),delete n[u[r]])},n!==t&&l.hasRendered&&f?f:0)});u&&(u[u.isPlaced?"animate":"attr"]({d:this.getLinePath(u.strokeWidth())}),u.isPlaced=!0,u[d?"show":"hide"](!0));h&&d&&(h[h.isNew?"attr":"animate"](n.getTitlePosition()),h.isNew=!1);w&&w.enabled&&n.renderStackTotals();n.isDirty=!1},redraw:function(){this.visible&&(this.render(),r(this.plotLinesAndBands,function(n){n.render()}));r(this.series,function(n){n.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(n){var t=this,u=t.stacks,f,e=t.plotLinesAndBands,i;n||et(t);for(f in u)a(u[f]),u[f]=null;if(r([t.ticks,t.minorTicks,t.alternateBands],function(n){a(n)}),e)for(n=e.length;n--;)e[n].destroy();r("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross".split(" "),function(n){t[n]&&(t[n]=t[n].destroy())});for(i in t)t.hasOwnProperty(i)&&-1===h(i,t.keepProps)&&delete t[i]},drawCrosshair:function(n,r){var o,u=this.crosshair,s=t(u.snap,!0),e,f=this.cross;n||(n=this.cross&&this.cross.e);this.crosshair&&!1!==(i(r)||!s)?(s?i(r)&&(e=this.isXAxis?r.plotX:this.len-r.plotY):e=n&&(this.horiz?n.chartX-this.pos:this.len-n.chartY+this.pos),i(e)&&(o=this.getPlotLinePath(r&&(this.isXAxis?r.x:t(r.stackY,r.y)),null,null,null,e)||null),i(o)?(r=this.categories&&!this.isRadial,f||(this.cross=f=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(r?"category ":"thin ")+u.className).attr({zIndex:t(u.zIndex,2)}).add(),f.attr({stroke:u.color||(r?d("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":t(u.width,1)}),u.dashStyle&&f.attr({dashstyle:u.dashStyle})),f.show().attr({d:o}),r&&!u.width&&f.attr({"stroke-width":this.transA}),this.cross.e=n):this.hideCrosshair()):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}};v(n.Axis.prototype,k)}(n),function(n){var u=n.Axis,t=n.Date,f=n.dateFormat,e=n.defaultOptions,o=n.defined,s=n.each,h=n.extend,c=n.getMagnitude,r=n.getTZOffset,l=n.normalizeTickInterval,a=n.pick,i=n.timeUnits;u.prototype.getTimeTicks=function(n,u,c,l){var k=[],tt={},b=e.global.useUTC,w,v=new t(u-r(u)),d=t.hcMakeTime,y=n.unitRange,p=n.count,g,nt,it;if(o(u)){for(v[t.hcSetMilliseconds](y>=i.second?0:p*Math.floor(v.getMilliseconds()/p)),y>=i.second&&v[t.hcSetSeconds](y>=i.minute?0:p*Math.floor(v.getSeconds()/p)),y>=i.minute&&v[t.hcSetMinutes](y>=i.hour?0:p*Math.floor(v[t.hcGetMinutes]()/p)),y>=i.hour&&v[t.hcSetHours](y>=i.day?0:p*Math.floor(v[t.hcGetHours]()/p)),y>=i.day&&v[t.hcSetDate](y>=i.month?1:p*Math.floor(v[t.hcGetDate]()/p)),y>=i.month&&(v[t.hcSetMonth](y>=i.year?0:p*Math.floor(v[t.hcGetMonth]()/p)),w=v[t.hcGetFullYear]()),y>=i.year&&v[t.hcSetFullYear](w-w%p),y===i.week&&v[t.hcSetDate](v[t.hcGetDate]()-v[t.hcGetDay]()+a(l,1)),w=v[t.hcGetFullYear](),l=v[t.hcGetMonth](),nt=v[t.hcGetDate](),it=v[t.hcGetHours](),(t.hcTimezoneOffset||t.hcGetTimezoneOffset)&&(g=(!b||!!t.hcGetTimezoneOffset)&&(c-u>4*i.month||r(u)!==r(c)),v=v.getTime(),v=new t(v+r(v))),b=v.getTime(),u=1;b<c;)k.push(b),b=y===i.year?d(w+u*p,0):y===i.month?d(w,l+u*p):!g||y!==i.day&&y!==i.week?g&&y===i.hour?d(w,l,nt,it+u*p):b+y*p:d(w,l,nt+u*p*(y===i.day?1:7)),u++;k.push(b);y<=i.hour&&1e4>k.length&&s(k,function(n){0==n%18e5&&"000000000"===f("%H%M%S%L",n)&&(tt[n]="day")})}return k.info=h(n,{higherRanks:tt,totalRange:y*p}),k};u.prototype.normalizeTimeTickInterval=function(n,t){var u=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r,f,e;for(t=u[u.length-1],r=i[t[0]],f=t[1],e=0;e<u.length&&!(t=u[e],r=i[t[0]],f=t[1],u[e+1]&&n<=(r*f[f.length-1]+i[u[e+1][0]])/2);e++);return r===i.year&&n<5*r&&(f=[1,2,5]),n=l(n/r,f,"year"===t[0]?Math.max(c(n/r),1):1),{unitRange:r,count:n,unitName:t[0]}}}(n),function(n){var t=n.Axis,i=n.getMagnitude,r=n.map,u=n.normalizeTickInterval,f=n.pick;t.prototype.getLogTickPositions=function(n,t,e,o){var h=this.options,s=this.len,v=this.lin2log,w=this.log2lin,l=[],a,b,y,c,p;if(o||(this._minorAutoInterval=null),.5<=n)n=Math.round(n),l=this.getLinearTickPositions(n,t,e);else if(.08<=n)for(s=Math.floor(t),h=.3<n?[1,2,4]:.15<n?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];s<e+1&&!p;s++)for(b=h.length,a=0;a<b&&!p;a++)y=w(v(s)*h[a]),y>t&&(!o||c<=e)&&void 0!==c&&l.push(c),c>e&&(p=!0),c=y;else t=v(t),e=v(e),n=h[o?"minorTickInterval":"tickInterval"],n=f("auto"===n?null:n,this._minorAutoInterval,h.tickPixelInterval/(o?5:1)*(e-t)/((o?s/this.tickPositions.length:s)||1)),n=u(n,null,i(n)),l=r(this.getLinearTickPositions(n,t,e),w),o||(this._minorAutoInterval=n/5);return o||(this.tickInterval=n),l};t.prototype.log2lin=function(n){return Math.log(n)/Math.LN10};t.prototype.lin2log=function(n){return Math.pow(10,n)}}(n),function(n){var f=n.dateFormat,i=n.each,o=n.extend,s=n.format,h=n.isNumber,e=n.map,c=n.merge,t=n.pick,r=n.splat,l=n.syncTimeout,u=n.timeUnits;n.Tooltip=function(){this.init.apply(this,arguments)};n.Tooltip.prototype={init:function(n,t){this.chart=n;this.options=t;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.split=t.split&&!n.inverted;this.shared=t.shared||this.split},cleanSplit:function(n){i(this.chart.series,function(t){var i=t&&t.tt;i&&(!i.isActive||n?t.tt=i.destroy():i.isActive=!1)})},getLabel:function(){var t=this.chart.renderer,n=this.options;return this.label||(this.split?this.label=t.g("tooltip"):(this.label=t.label("",0,0,n.shape||"callout",null,null,n.useHTML,null,"tooltip").attr({padding:n.padding,r:n.borderRadius}),this.label.attr({fill:n.backgroundColor,"stroke-width":n.borderWidth}).css(n.style).shadow(n.shadow)),this.label.attr({zIndex:8}).add()),this.label},update:function(n){this.destroy();this.init(this.chart,c(!0,this.options,n))},destroy:function(){this.label&&(this.label=this.label.destroy());this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy());clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(n,t,i,r){var u=this,f=u.now,e=!1!==u.options.animation&&!u.isHidden&&(1<Math.abs(n-f.x)||1<Math.abs(t-f.y)),s=u.followPointer||1<u.len;o(f,{x:e?(2*f.x+n)/3:n,y:e?(f.y+t)/2:t,anchorX:s?void 0:e?(2*f.anchorX+i)/3:i,anchorY:s?void 0:e?(f.anchorY+r)/2:r});u.getLabel().attr(f);e&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){u&&u.move(n,t,i,r)},32))},hide:function(n){var i=this;clearTimeout(this.hideTimer);n=t(n,this.options.hideDelay,500);this.isHidden||(this.hideTimer=l(function(){i.getLabel()[n?"fadeOut":"hide"]();i.isHidden=!0},n))},getAnchor:function(n,t){var f,u=this.chart,o=u.inverted,c=u.plotTop,v=u.plotLeft,s=0,h=0,l,a;return n=r(n),f=n[0].tooltipPos,this.followPointer&&t&&(void 0===t.chartX&&(t=u.pointer.normalize(t)),f=[t.chartX-u.plotLeft,t.chartY-c]),f||(i(n,function(n){l=n.series.yAxis;a=n.series.xAxis;s+=n.plotX+(!o&&a?a.left-v:0);h+=(n.plotLow?(n.plotLow+n.plotHigh)/2:n.plotY)+(!o&&l?l.top-c:0)}),s/=n.length,h/=n.length,f=[o?u.plotWidth-h:s,this.shared&&!o&&1<n.length&&t?t.chartY-c:o?u.plotHeight-s:h]),e(f,Math.round)},getPosition:function(n,i,r){var u=this.chart,e=this.distance,f={},o=r.h||0,s,h=["y",u.chartHeight,i,r.plotY+u.plotTop,u.plotTop,u.plotTop+u.plotHeight],c=["x",u.chartWidth,n,r.plotX+u.plotLeft,u.plotLeft,u.plotLeft+u.plotWidth],v=!this.followPointer&&t(r.ttBelow,!u.inverted==!!r.negative),y=function(n,t,i,r,u,s){var c=i<r-e,l=r+e+i<t,h=r-e-i;if(r+=e,v&&l)f[n]=r;else if(!v&&c)f[n]=h;else if(c)f[n]=Math.min(s-i,0>h-o?h:h-o);else if(l)f[n]=Math.max(u,r+o+i>t?r:r+o);else return!1},p=function(n,t,i,r){var u;return r<e||r>t-e?u=!1:f[n]=r<i/2?1:r>t-i/2?t-i-2:r-i/2,u},l=function(n){var t=h;h=c;c=t;s=n},a=function(){!1!==y.apply(0,h)?!1!==p.apply(0,c)||s||(l(!0),a()):s?f.x=f.y=0:(l(!0),a())};return(u.inverted||1<this.len)&&l(),a(),f},defaultFormatter:function(n){var i=this.points||r(this),t;return t=[n.tooltipFooterHeaderFormatter(i[0])],t=t.concat(n.bodyFormatter(i)),t.push(n.tooltipFooterHeaderFormatter(i[0],!0)),t},refresh:function(n,u){var h=this.chart,e,l=this.options,a,s,f={},c=[],o;e=l.formatter||this.defaultFormatter;f=h.hoverPoints;o=this.shared;clearTimeout(this.hideTimer);this.followPointer=r(n)[0].series.tooltipOptions.followPointer;s=this.getAnchor(n,u);u=s[0];a=s[1];!o||n.series&&n.series.noSharedTooltip?f=n.getLabelConfig():(h.hoverPoints=n,f&&i(f,function(n){n.setState()}),i(n,function(n){n.setState("hover");c.push(n.getLabelConfig())}),f={x:n[0].category,y:n[0].y},f.points=c,n=n[0]);this.len=c.length;f=e.call(f,this);o=n.series;this.distance=t(o.tooltipOptions.distance,16);!1===f?this.hide():(e=this.getLabel(),this.isHidden&&e.attr({opacity:1}).show(),this.split?this.renderSplit(f,h.hoverPoints):(e.attr({text:f&&f.join?f.join(""):f}),e.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+t(n.colorIndex,o.colorIndex)),e.attr({stroke:l.borderColor||n.color||o.color||"#666666"}),this.updatePosition({plotX:u,plotY:a,negative:n.negative,ttBelow:n.ttBelow,h:s[2]||0})),this.isHidden=!1)},renderSplit:function(r,u){var c=this,o=[],f=this.chart,l=f.renderer,h=!0,e=this.options,s,a=this.getLabel();i(r.slice(0,u.length+1),function(n,i){i=u[i-1]||{isHeader:!0,plotX:u[0].plotX};var y=i.series||c,v=y.tt,r=i.series||{},p="highcharts-color-"+t(i.colorIndex,r.colorIndex,"none");v||(y.tt=v=l.label(null,null,null,"callout").addClass("highcharts-tooltip-box "+p).attr({padding:e.padding,r:e.borderRadius,fill:e.backgroundColor,stroke:i.color||r.color||"#333333","stroke-width":e.borderWidth}).add(a));v.isActive=!0;v.attr({text:n});v.css(e.style);n=v.getBBox();r=n.width+v.strokeWidth();i.isHeader?(s=n.height,r=Math.max(0,Math.min(i.plotX+f.plotLeft-r/2,f.chartWidth-r))):r=i.plotX+f.plotLeft-t(e.distance,16)-r;0>r&&(h=!1);n=(i.series&&i.series.yAxis&&i.series.yAxis.pos)+(i.plotY||0);n-=f.plotTop;o.push({target:i.isHeader?f.plotHeight+s:n,rank:i.isHeader?1:0,size:y.tt.getBBox().height+1,point:i,x:r,tt:v})});this.cleanSplit();n.distribute(o,f.plotHeight+s);i(o,function(n){var i=n.point,r=i.series;n.tt.attr({visibility:void 0===n.pos?"hidden":"inherit",x:h||i.isHeader?n.x:i.plotX+f.plotLeft+t(e.distance,16),y:n.pos+f.plotTop,anchorX:i.isHeader?i.plotX+f.plotLeft:i.plotX+r.xAxis.pos,anchorY:i.isHeader?n.pos+f.plotTop-15:i.plotY+r.yAxis.pos})})},updatePosition:function(n){var i=this.chart,t=this.getLabel(),t=(this.options.positioner||this.getPosition).call(this,t.width,t.height,n);this.move(Math.round(t.x),Math.round(t.y||0),n.plotX+i.plotLeft,n.plotY+i.plotTop)},getDateFormat:function(n,t,i,r){var s=f("%m-%d %H:%M:%S.%L",t),h,e,o={millisecond:15,second:12,minute:9,hour:6,day:3},c="millisecond";for(e in u){if(n===u.week&&+f("%w",t)===i&&"00:00:00.000"===s.substr(6)){e="week";break}if(u[e]>n){e=c;break}if(o[e]&&s.substr(o[e])!=="01-01 00:00:00.000".substr(o[e]))break;"week"!==e&&(c=e)}return e&&(h=r[e]),h},getXDateFormat:function(n,t,i){t=t.dateTimeLabelFormats;var r=i&&i.closestPointRange;return(r?this.getDateFormat(r,n.x,i.options.startOfWeek,t):t.day)||t.year},tooltipFooterHeaderFormatter:function(n,t){var i=t?"footer":"header";t=n.series;var u=t.tooltipOptions,r=u.xDateFormat,f=t.xAxis,e=f&&"datetime"===f.options.type&&h(n.key),i=u[i+"Format"];return e&&!r&&(r=this.getXDateFormat(n,u,f)),e&&r&&(i=i.replace("{point.key}","{point.key:"+r+"}")),s(i,{point:n,series:t})},bodyFormatter:function(n){return e(n,function(n){var t=n.series.tooltipOptions;return(t.pointFormatter||n.point.tooltipFormatter).call(n.point,t.pointFormat)})}}}(n),function(n){var u=n.addEvent,l=n.attr,i=n.charts,a=n.color,v=n.css,h=n.defined,r=n.doc,t=n.each,f=n.extend,o=n.fireEvent,y=n.offset,e=n.pick,s=n.removeEvent,p=n.splat,c=n.Tooltip,w=n.win;n.Pointer=function(n,t){this.init(n,t)};n.Pointer.prototype={init:function(n,t){this.options=t;this.chart=n;this.runChartClick=t.chart.events&&!!t.chart.events.click;this.pinchDown=[];this.lastValidTouch={};c&&t.tooltip.enabled&&(n.tooltip=new c(n,t.tooltip),this.followTouchMove=e(t.tooltip.followTouchMove,!0));this.setDOMEvents()},zoomOption:function(n){var i=this.chart,r=i.options.chart,t=r.zoomType||"",i=i.inverted;/touch/.test(n.type)&&(t=e(r.pinchType,t));this.zoomX=n=/x/.test(t);this.zoomY=t=/y/.test(t);this.zoomHor=n&&!i||t&&i;this.zoomVert=t&&!i||n&&i;this.hasZoom=n||t},normalize:function(n,t){var r,i;return n=n||w.event,n.target||(n.target=n.srcElement),i=n.touches?n.touches.length?n.touches.item(0):n.changedTouches[0]:n,t||(this.chartPosition=t=y(this.chart.container)),void 0===i.pageX?(r=Math.max(n.x,n.clientX-t.left),t=n.y):(r=i.pageX-t.left,t=i.pageY-t.top),f(n,{chartX:Math.round(r),chartY:Math.round(t)})},getCoordinates:function(n){var i={xAxis:[],yAxis:[]};return t(this.chart.axes,function(t){i[t.isXAxis?"xAxis":"yAxis"].push({axis:t,value:t.toValue(n[t.horiz?"chartX":"chartY"])})}),i},runPointActions:function(f){var v=this.chart,l=v.series,c=v.tooltip,a=c?c.shared:!1,b=!0,y=v.hoverPoint,h=v.hoverSeries,s,p,k,o=[],w;if(!a&&!h)for(s=0;s<l.length;s++)(l[s].directTouch||!l[s].options.stickyTracking)&&(l=[]);if(h&&(a?h.noSharedTooltip:h.directTouch)&&y?o=[y]:(a||!h||h.options.stickyTracking||(l=[h]),t(l,function(n){p=n.noSharedTooltip&&a;k=!a&&n.directTouch;n.visible&&!p&&!k&&e(n.options.enableMouseTracking,!0)&&(w=n.searchPoint(f,!p&&1===n.kdDimensions))&&w.series&&o.push(w)}),o.sort(function(n,t){var i=n.distX-t.distX,r=n.dist-t.dist,u=(t.series.group&&t.series.group.zIndex)-(n.series.group&&n.series.group.zIndex);return 0!==i&&a?i:0!==r?r:0!==u?u:n.series.index>t.series.index?-1:1})),a)for(s=o.length;s--;)(o[s].x!==o[0].x||o[s].series.noSharedTooltip)&&o.splice(s,1);if(o[0]&&(o[0]!==this.prevKDPoint||c&&c.isHidden)){if(a&&!o[0].series.noSharedTooltip){for(s=0;s<o.length;s++)o[s].onMouseOver(f,o[s]!==(h&&h.directTouch&&y||o[0]));o.length&&c&&c.refresh(o.sort(function(n,t){return n.series.index-t.series.index}),f)}else if(c&&c.refresh(o[0],f),!h||!h.directTouch)o[0].onMouseOver(f);this.prevKDPoint=o[0];b=!1}b&&(l=h&&h.tooltipOptions.followPointer,c&&l&&!c.isHidden&&(l=c.getAnchor([{}],f),c.updatePosition({plotX:l[0],plotY:l[1]})));this.unDocMouseMove||(this.unDocMouseMove=u(r,"mousemove",function(t){if(i[n.hoverChartIndex])i[n.hoverChartIndex].pointer.onDocumentMouseMove(t)}));t(a?o:[e(y,o[0])],function(n){t(v.axes,function(t){(!n||n.series&&n.series[t.coll]===t)&&t.drawCrosshair(f,n)})})},reset:function(n,i){var r=this.chart,s=r.hoverSeries,u=r.hoverPoint,o=r.hoverPoints,f=r.tooltip,e=f&&f.shared?o:u;n&&e&&t(p(e),function(t){t.series.isCartesian&&void 0===t.plotX&&(n=!1)});n?f&&e&&(f.refresh(e),u&&(u.setState(u.state,!0),t(r.axes,function(n){n.crosshair&&n.drawCrosshair(null,u)}))):(u&&u.onMouseOut(),o&&t(o,function(n){n.setState()}),s&&s.onMouseOut(),f&&f.hide(i),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),t(r.axes,function(n){n.hideCrosshair()}),this.hoverX=this.prevKDPoint=r.hoverPoints=r.hoverPoint=null)},scaleGroups:function(n,i){var r=this.chart,u;t(r.series,function(t){u=n||t.getPlotBox();t.xAxis&&t.xAxis.zoomEnabled&&t.group&&(t.group.attr(u),t.markerGroup&&(t.markerGroup.attr(u),t.markerGroup.clip(i?r.clipRect:null)),t.dataLabelsGroup&&t.dataLabelsGroup.attr(u))});r.clipRect.attr(i||r.clipBox)},dragStart:function(n){var t=this.chart;t.mouseIsDown=n.type;t.cancelClick=!1;t.mouseDownX=this.mouseDownX=n.chartX;t.mouseDownY=this.mouseDownY=n.chartY},drag:function(n){var i=this.chart,o=i.options.chart,t=n.chartX,u=n.chartY,y=this.zoomHor,p=this.zoomVert,f=i.plotLeft,e=i.plotTop,c=i.plotWidth,l=i.plotHeight,v,r=this.selectionMarker,s=this.mouseDownX,h=this.mouseDownY,w=o.panKey&&n[o.panKey+"Key"];r&&r.touch||(t<f?t=f:t>f+c&&(t=f+c),u<e?u=e:u>e+l&&(u=e+l),this.hasDragged=Math.sqrt(Math.pow(s-t,2)+Math.pow(h-u,2)),10<this.hasDragged&&(v=i.isInsidePlot(s-f,h-e),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&v&&!w&&!r&&(this.selectionMarker=r=i.renderer.rect(f,e,y?1:c,p?1:l,0).attr({fill:o.selectionMarkerFill||a("#335cad").setOpacity(.25).get(),"class":"highcharts-selection-marker",zIndex:7}).add()),r&&y&&(t-=s,r.attr({width:Math.abs(t),x:(0<t?0:t)+s})),r&&p&&(t=u-h,r.attr({height:Math.abs(t),y:(0<t?0:t)+h})),v&&!r&&o.panning&&i.pan(n,o.panning)))},drop:function(n){var a=this,r=this.chart,u=this.hasPinched;if(this.selectionMarker){var e={originalEvent:n,xAxis:[],yAxis:[]},i=this.selectionMarker,s=i.attr?i.attr("x"):i.x,c=i.attr?i.attr("y"):i.y,y=i.attr?i.attr("width"):i.width,p=i.attr?i.attr("height"):i.height,l;(this.hasDragged||u)&&(t(r.axes,function(t){if(t.zoomEnabled&&h(t.min)&&(u||a[{xAxis:"zoomX",yAxis:"zoomY"}[t.coll]])){var i=t.horiz,r="touchend"===n.type?t.minPixelPadding:0,f=t.toValue((i?s:c)+r),i=t.toValue((i?s+y:c+p)-r);e[t.coll].push({axis:t,min:Math.min(f,i),max:Math.max(f,i)});l=!0}}),l&&o(r,"selection",e,function(n){r.zoom(f(n,u?{animation:!1}:null))}));this.selectionMarker=this.selectionMarker.destroy();u&&this.scaleGroups()}r&&(v(r.container,{cursor:r._cursor}),r.cancelClick=10<this.hasDragged,r.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(n){n=this.normalize(n);this.zoomOption(n);n.preventDefault&&n.preventDefault();this.dragStart(n)},onDocumentMouseUp:function(t){i[n.hoverChartIndex]&&i[n.hoverChartIndex].pointer.drop(t)},onDocumentMouseMove:function(n){var t=this.chart,i=this.chartPosition;n=this.normalize(n,i);!i||this.inClass(n.target,"highcharts-tracker")||t.isInsidePlot(n.chartX-t.plotLeft,n.chartY-t.plotTop)||this.reset()},onContainerMouseLeave:function(t){var r=i[n.hoverChartIndex];r&&(t.relatedTarget||t.toElement)&&(r.pointer.reset(),r.pointer.chartPosition=null)},onContainerMouseMove:function(t){var r=this.chart;h(n.hoverChartIndex)&&i[n.hoverChartIndex]&&i[n.hoverChartIndex].mouseIsDown||(n.hoverChartIndex=r.index);t=this.normalize(t);t.returnValue=!1;"mousedown"===r.mouseIsDown&&this.drag(t);(this.inClass(t.target,"highcharts-tracker")||r.isInsidePlot(t.chartX-r.plotLeft,t.chartY-r.plotTop))&&!r.openMenu&&this.runPointActions(t)},inClass:function(n,t){for(var i;n;){if(i=l(n,"class")){if(-1!==i.indexOf(t))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}n=n.parentNode}},onTrackerMouseOut:function(n){var t=this.chart.hoverSeries;n=n.relatedTarget||n.toElement;!t||!n||t.options.stickyTracking||this.inClass(n,"highcharts-tooltip")||this.inClass(n,"highcharts-series-"+t.index)&&this.inClass(n,"highcharts-tracker")||t.onMouseOut()},onContainerClick:function(n){var t=this.chart,i=t.hoverPoint,r=t.plotLeft,u=t.plotTop;n=this.normalize(n);t.cancelClick||(i&&this.inClass(n.target,"highcharts-tracker")?(o(i.series,"click",f(n,{point:i})),t.hoverPoint&&i.firePointEvent("click",n)):(f(n,this.getCoordinates(n)),t.isInsidePlot(n.chartX-r,n.chartY-u)&&o(t,"click",n)))},setDOMEvents:function(){var t=this,i=t.chart.container;i.onmousedown=function(n){t.onContainerMouseDown(n)};i.onmousemove=function(n){t.onContainerMouseMove(n)};i.onclick=function(n){t.onContainerClick(n)};u(i,"mouseleave",t.onContainerMouseLeave);1===n.chartCount&&u(r,"mouseup",t.onDocumentMouseUp);n.hasTouch&&(i.ontouchstart=function(n){t.onContainerTouchStart(n)},i.ontouchmove=function(n){t.onContainerTouchMove(n)},1===n.chartCount&&u(r,"touchend",t.onDocumentTouchEnd))},destroy:function(){var t;s(this.chart.container,"mouseleave",this.onContainerMouseLeave);n.chartCount||(s(r,"mouseup",this.onDocumentMouseUp),s(r,"touchend",this.onDocumentTouchEnd));clearInterval(this.tooltipTimeout);for(t in this)this[t]=null}}}(n),function(n){var i=n.charts,r=n.each,u=n.extend,f=n.map,e=n.noop,t=n.pick;u(n.Pointer.prototype,{pinchTranslate:function(n,t,i,r,u,f){this.zoomHor&&this.pinchTranslateDirection(!0,n,t,i,r,u,f);this.zoomVert&&this.pinchTranslateDirection(!1,n,t,i,r,u,f)},pinchTranslateDirection:function(n,t,i,r,u,f,e,o){var a=this.chart,c=n?"x":"y",k=n?"X":"Y",v="chart"+k,it=n?"width":"height",d=a["plot"+(n?"Left":"Top")],l,g,s=o||1,nt=a.inverted,y=a.bounds[n?"h":"v"],p=1===t.length,w=t[0][v],h=i[0][v],rt=!p&&t[1][v],b=!p&&i[1][v],tt;i=function(){!p&&20<Math.abs(w-rt)&&(s=o||Math.abs(h-b)/Math.abs(w-rt));g=(d-h)/s+w;l=a["plot"+(n?"Width":"Height")]/s};i();t=g;t<y.min?(t=y.min,tt=!0):t+l>y.max&&(t=y.max-l,tt=!0);tt?(h-=.8*(h-e[c][0]),p||(b-=.8*(b-e[c][1])),i()):e[c]=[h,b];nt||(f[c]=g-d,f[it]=l);f=nt?1/s:s;u[it]=l;u[c]=t;r[nt?n?"scaleY":"scaleX":"scale"+k]=s;r["translate"+k]=f*d+(h-f*w)},pinch:function(n){var i=this,s=i.chart,o=i.pinchDown,h=n.touches,c=h.length,l=i.lastValidTouch,v=i.hasZoom,a=i.selectionMarker,y={},w=1===c&&(i.inClass(n.target,"highcharts-tracker")&&s.runTrackerClick||i.runChartClick),p={};1<c&&(i.initiated=!0);v&&i.initiated&&!w&&n.preventDefault();f(h,function(n){return i.normalize(n)});"touchstart"===n.type?(r(h,function(n,t){o[t]={chartX:n.chartX,chartY:n.chartY}}),l.x=[o[0].chartX,o[1]&&o[1].chartX],l.y=[o[0].chartY,o[1]&&o[1].chartY],r(s.axes,function(n){if(n.zoomEnabled){var i=s.bounds[n.horiz?"h":"v"],r=n.minPixelPadding,u=n.toPixels(t(n.options.min,n.dataMin)),f=n.toPixels(t(n.options.max,n.dataMax)),e=Math.max(u,f);i.min=Math.min(n.pos,Math.min(u,f)-r);i.max=Math.max(n.pos+n.len,e+r)}}),i.res=!0):i.followTouchMove&&1===c?this.runPointActions(i.normalize(n)):o.length&&(a||(i.selectionMarker=a=u({destroy:e,touch:!0},s.plotBox)),i.pinchTranslate(o,h,y,a,p,l),i.hasPinched=v,i.scaleGroups(y,p),i.res&&(i.res=!1,this.reset(!1,0)))},touch:function(i,r){var u=this.chart,f,e;if(u.index!==n.hoverChartIndex)this.onContainerMouseLeave({relatedTarget:!0});n.hoverChartIndex=u.index;1===i.touches.length?(i=this.normalize(i),(e=u.isInsidePlot(i.chartX-u.plotLeft,i.chartY-u.plotTop))&&!u.openMenu?(r&&this.runPointActions(i),"touchmove"===i.type&&(r=this.pinchDown,f=r[0]?4<=Math.sqrt(Math.pow(r[0].chartX-i.chartX,2)+Math.pow(r[0].chartY-i.chartY,2)):!1),t(f,!0)&&this.pinch(i)):r&&this.reset()):2===i.touches.length&&this.pinch(i)},onContainerTouchStart:function(n){this.zoomOption(n);this.touch(n,!0)},onContainerTouchMove:function(n){this.touch(n)},onDocumentTouchEnd:function(t){i[n.hoverChartIndex]&&i[n.hoverChartIndex].pointer.drop(t)}})}(n),function(n){var s=n.addEvent,o=n.charts,h=n.css,c=n.doc,l=n.extend,a=n.noop,i=n.Pointer,v=n.removeEvent,r=n.win,u=n.wrap;if(r.PointerEvent||r.MSPointerEvent){var t={},f=!!r.PointerEvent,y=function(){var n,i=[];i.item=function(n){return this[n]};for(n in t)t.hasOwnProperty(n)&&i.push({pageX:t[n].pageX,pageY:t[n].pageY,target:t[n].target});return i},e=function(t,i,r,u){("touch"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_TOUCH)&&o[n.hoverChartIndex]&&(u(t),u=o[n.hoverChartIndex].pointer,u[i]({type:r,target:t.currentTarget,preventDefault:a,touches:y()}))};l(i.prototype,{onContainerPointerDown:function(n){e(n,"onContainerTouchStart","touchstart",function(n){t[n.pointerId]={pageX:n.pageX,pageY:n.pageY,target:n.currentTarget}})},onContainerPointerMove:function(n){e(n,"onContainerTouchMove","touchmove",function(n){t[n.pointerId]={pageX:n.pageX,pageY:n.pageY};t[n.pointerId].target||(t[n.pointerId].target=n.currentTarget)})},onDocumentPointerUp:function(n){e(n,"onDocumentTouchEnd","touchend",function(n){delete t[n.pointerId]})},batchMSEvents:function(n){n(this.chart.container,f?"pointerdown":"MSPointerDown",this.onContainerPointerDown);n(this.chart.container,f?"pointermove":"MSPointerMove",this.onContainerPointerMove);n(c,f?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});u(i.prototype,"init",function(n,t,i){n.call(this,t,i);this.hasZoom&&h(t.container,{"-ms-touch-action":"none","touch-action":"none"})});u(i.prototype,"setDOMEvents",function(n){n.apply(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(s)});u(i.prototype,"destroy",function(n){this.batchMSEvents(v);n.call(this)})}}(n),function(n){var u,o=n.addEvent,s=n.css,h=n.discardElement,f=n.defined,t=n.each,c=n.extend,l=n.isFirefox,e=n.marginNames,r=n.merge,i=n.pick,a=n.setAnimation,v=n.stableSort,y=n.win,p=n.wrap;u=n.Legend=function(n,t){this.init(n,t)};u.prototype={init:function(n,t){this.chart=n;this.setOptions(t);t.enabled&&(this.render(),o(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function(n){var t=i(n.padding,8);this.options=n;this.itemStyle=n.itemStyle;this.itemHiddenStyle=r(this.itemStyle,n.itemHiddenStyle);this.itemMarginTop=n.itemMarginTop||0;this.initialItemX=this.padding=t;this.initialItemY=t-5;this.itemHeight=this.maxItemWidth=0;this.symbolWidth=i(n.symbolWidth,16);this.pages=[]},update:function(n,t){var u=this.chart;this.setOptions(r(!0,this.options,n));this.destroy();u.isDirtyLegend=u.isDirtyBox=!0;i(t,!0)&&u.redraw()},colorizeItem:function(n,t){n.legendGroup[t?"removeClass":"addClass"]("highcharts-legend-item-hidden");var u=this.options,e=n.legendItem,o=n.legendLine,f=n.legendSymbol,i=this.itemHiddenStyle.color,u=t?u.itemStyle.color:i,s=t?n.color||i:i,c=n.options&&n.options.marker,r={fill:s},h;if(e&&e.css({fill:u,color:u}),o&&o.attr({stroke:s}),f){if(c&&f.isMarker&&(r=n.pointAttribs(),!t))for(h in r)r[h]=i;f.attr(r)}},positionItem:function(n){var i=this.options,f=i.symbolPadding,i=!i.rtl,t=n._legendItemPos,r=t[0],t=t[1],u=n.checkbox;(n=n.legendGroup)&&n.element&&n.translate(i?r:this.legendWidth-r-2*f-4,t);u&&(u.x=r,u.y=t)},destroyItem:function(n){var i=n.checkbox;t(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){n[t]&&(n[t]=n[t].destroy())});i&&h(n.checkbox)},destroy:function(){function n(n){this[n]&&(this[n]=this[n].destroy())}t(this.getAllItems(),function(i){t(["legendItem","legendGroup"],n,i)});t(["box","title","group"],n,this);this.display=null},positionCheckboxes:function(n){var r=this.group&&this.group.alignAttr,i,u=this.clipHeight||this.legendHeight,f=this.titleHeight;r&&(i=r.translateY,t(this.allItems,function(t){var e=t.checkbox,o;e&&(o=i+f+e.y+(n||0)+3,s(e,{left:r.translateX+t.checkboxOffset+e.x-20+"px",top:o+"px",display:o>i-6&&o<i+u-6?"":"none"}))}))},renderTitle:function(){var n=this.padding,t=this.options.title,i=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,n-3,n-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),n=this.title.getBBox(),i=n.height,this.offsetWidth=n.width,this.contentGroup.attr({translateY:i}));this.titleHeight=i},setText:function(t){var i=this.options;t.legendItem.attr({text:i.labelFormat?n.format(i.labelFormat,t):i.labelFormatter.call(t)})},renderItem:function(n){var p=this.chart,e=p.renderer,t=this.options,s="horizontal"===t.layout,u=this.symbolWidth,f=t.symbolPadding,h=this.itemStyle,tt=this.itemHiddenStyle,w=this.padding,b=s?i(t.itemDistance,20):0,k=!t.rtl,d=t.width,v=t.itemMarginBottom||0,c=this.itemMarginTop,l=this.initialItemX,o=n.legendItem,g=!n.series,y=!g&&n.series.drawLegendSymbol?n.series:n,a=y.options,a=this.createCheckboxForItem&&a&&a.showCheckbox,nt=t.useHTML;o||(n.legendGroup=e.g("legend-item").addClass("highcharts-"+y.type+"-series highcharts-color-"+n.colorIndex+(n.options.className?" "+n.options.className:"")+(g?" highcharts-series-"+n.index:"")).attr({zIndex:1}).add(this.scrollGroup),n.legendItem=o=e.text("",k?u+f:-f,this.baseline||0,nt).css(r(n.visible?h:tt)).attr({align:k?"left":"right",zIndex:2}).add(n.legendGroup),this.baseline||(h=h.fontSize,this.fontMetrics=e.fontMetrics(h,o),this.baseline=this.fontMetrics.f+3+c,o.attr("y",this.baseline)),this.symbolHeight=t.symbolHeight||this.fontMetrics.f,y.drawLegendSymbol(this,n),this.setItemEvents&&this.setItemEvents(n,o,nt),a&&this.createCheckboxForItem(n));this.colorizeItem(n,n.visible);this.setText(n);e=o.getBBox();u=n.checkboxOffset=t.itemWidth||n.legendItemWidth||u+f+e.width+b+(a?20:0);this.itemHeight=f=Math.round(n.legendItemHeight||e.height);s&&this.itemX-l+u>(d||p.chartWidth-2*w-l-t.x)&&(this.itemX=l,this.itemY+=c+this.lastLineHeight+v,this.lastLineHeight=0);this.maxItemWidth=Math.max(this.maxItemWidth,u);this.lastItemY=c+this.itemY+v;this.lastLineHeight=Math.max(f,this.lastLineHeight);n._legendItemPos=[this.itemX,this.itemY];s?this.itemX+=u:(this.itemY+=c+f+v,this.lastLineHeight=f);this.offsetWidth=d||Math.max((s?this.itemX-l-b:u)+w,this.offsetWidth)},getAllItems:function(){var n=[];return t(this.chart.series,function(t){var r=t&&t.options;t&&i(r.showInLegend,f(r.linkedTo)?!1:void 0,!0)&&(n=n.concat(t.legendItems||("point"===r.legendType?t.data:t)))}),n},adjustMargins:function(n,r){var o=this.chart,u=this.options,s=u.align.charAt(0)+u.verticalAlign.charAt(0)+u.layout.charAt(0);u.floating||t([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(t,h){t.test(s)&&!f(n[h])&&(o[e[h]]=Math.max(o[e[h]],o.legend[(h+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][h]*u[h%2?"x":"y"]+i(u.margin,12)+r[h]))})},render:function(){var n=this,l=n.chart,s=l.renderer,e=n.group,f,h,o,r,i=n.box,u=n.options,a=n.padding;n.itemX=n.initialItemX;n.itemY=n.initialItemY;n.offsetWidth=0;n.lastItemY=0;e||(n.group=e=s.g("legend").attr({zIndex:7}).add(),n.contentGroup=s.g().attr({zIndex:1}).add(e),n.scrollGroup=s.g().add(n.contentGroup));n.renderTitle();f=n.getAllItems();v(f,function(n,t){return(n.options&&n.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)});u.reversed&&f.reverse();n.allItems=f;n.display=h=!!f.length;n.lastLineHeight=0;t(f,function(t){n.renderItem(t)});o=(u.width||n.offsetWidth)+a;r=n.lastItemY+n.lastLineHeight+n.titleHeight;r=n.handleOverflow(r);r+=a;i||(n.box=i=s.rect().addClass("highcharts-legend-box").attr({r:u.borderRadius}).add(e),i.isNew=!0);i.attr({stroke:u.borderColor,"stroke-width":u.borderWidth||0,fill:u.backgroundColor||"none"}).shadow(u.shadow);0<o&&0<r&&(i[i.isNew?"attr":"animate"](i.crisp({x:0,y:0,width:o,height:r},i.strokeWidth())),i.isNew=!1);i[h?"show":"hide"]();n.legendWidth=o;n.legendHeight=r;t(f,function(t){n.positionItem(t)});h&&e.align(c({width:o,height:r},u),!0,"spacingBox");l.isResizing||this.positionCheckboxes()},handleOverflow:function(n){var r=this,u=this.chart,h=u.renderer,f=this.options,c=f.y,u=u.spacingBox.height+("top"===f.verticalAlign?-c:c)-this.padding,c=f.maxHeight,l,s=this.clipRect,a=f.navigation,w=i(a.animation,!0),v=a.arrowSize||12,e=this.nav,o=this.pages,y=this.padding,p,b=this.allItems,k=function(n){n?s.attr({height:n}):s&&(r.clipRect=s.destroy(),r.contentGroup.clip());r.contentGroup.div&&(r.contentGroup.div.style.clip=n?"rect("+y+"px,9999px,"+(y+n)+"px,0)":"auto")};return"horizontal"!==f.layout||"middle"===f.verticalAlign||f.floating||(u/=2),c&&(u=Math.min(u,c)),o.length=0,n>u&&!1!==a.enabled?(this.clipHeight=l=Math.max(u-20-this.titleHeight-y,0),this.currentPage=i(this.currentPage,1),this.fullHeight=n,t(b,function(n,t){var i=n._legendItemPos[1],r;n=Math.round(n.legendItem.getBBox().height);r=o.length;(!r||i-o[r-1]>l&&(p||i)!==o[r-1])&&(o.push(p||i),r++);t===b.length-1&&i+n-o[r-1]>l&&o.push(i);i!==p&&(p=i)}),s||(s=r.clipRect=h.clipRect(0,y,9999,0),r.contentGroup.clip(s)),k(l),e||(this.nav=e=h.g().attr({zIndex:1}).add(this.group),this.up=h.symbol("triangle",0,0,v,v).on("click",function(){r.scroll(-1,w)}).add(e),this.pager=h.text("",15,10).addClass("highcharts-legend-navigation").css(a.style).add(e),this.down=h.symbol("triangle-down",0,0,v,v).on("click",function(){r.scroll(1,w)}).add(e)),r.scroll(0),n=u):e&&(k(),e.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),n},scroll:function(n,t){var u=this.pages,i=u.length;n=this.currentPage+n;var f=this.clipHeight,r=this.options.navigation,e=this.pager,o=this.padding;n>i&&(n=i);0<n&&(void 0!==t&&a(t,this.chart),this.nav.attr({translateX:o,translateY:f+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({"class":1===n?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),e.attr({text:n+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,"class":n===i?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===n?r.inactiveColor:r.activeColor}).css({cursor:1===n?"default":"pointer"}),this.down.attr({fill:n===i?r.inactiveColor:r.activeColor}).css({cursor:n===i?"default":"pointer"}),t=-u[n-1]+this.initialItemY,this.scrollGroup.animate({translateY:t}),this.currentPage=n,this.positionCheckboxes(t))}};n.LegendSymbolMixin={drawRectangle:function(n,t){var r=n.symbolHeight,u=n.options.squareSymbol;t.legendSymbol=this.chart.renderer.rect(u?(n.symbolWidth-r)/2:0,n.baseline-r+1,u?r:n.symbolWidth,r,i(n.options.symbolRadius,r/2)).addClass("highcharts-point").attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(n){var t=this.options,u=t.marker,o=n.symbolWidth,f=n.symbolHeight,s=f/2,h=this.chart.renderer,c=this.legendGroup,e;n=n.baseline-Math.round(.3*n.fontMetrics.b);e={"stroke-width":t.lineWidth||0};t.dashStyle&&(e.dashstyle=t.dashStyle);this.legendLine=h.path(["M",0,n,"L",o,n]).addClass("highcharts-graph").attr(e).add(c);u&&!1!==u.enabled&&(t=Math.min(i(u.radius,s),s),0===this.symbol.indexOf("url")&&(u=r(u,{width:f,height:f}),t=0),this.legendSymbol=u=h.symbol(this.symbol,o/2-t,n-t,2*t,2*t,u).addClass("highcharts-point").add(c),u.isMarker=!0)}};(/Trident\/7\.0/.test(y.navigator.userAgent)||l)&&p(u.prototype,"positionItem",function(n,t){var r=this,i=function(){t._legendItemPos&&n.call(r,t)};i();setTimeout(i)})}(n),function(n){var l=n.addEvent,ft=n.animate,et=n.animObject,w=n.attr,r=n.doc,ot=n.Axis,st=n.createElement,ht=n.defaultOptions,b=n.discardElement,u=n.charts,k=n.css,f=n.defined,t=n.each,o=n.extend,a=n.find,i=n.fireEvent,s=n.getStyle,d=n.grep,ct=n.isNumber,lt=n.isObject,v=n.isString,at=n.Legend,g=n.marginNames,h=n.merge,nt=n.Pointer,c=n.pick,y=n.pInt,tt=n.removeEvent,p=n.seriesTypes,it=n.splat,vt=n.svg,rt=n.syncTimeout,e=n.win,yt=n.Renderer,ut=n.Chart=function(){this.getArgs.apply(this,arguments)};n.chart=function(n,t,i){return new ut(n,t,i)};ut.prototype={callbacks:[],getArgs:function(){var n=[].slice.call(arguments);(v(n[0])||n[0].nodeName)&&(this.renderTo=n.shift());this.init(n[0],n[1])},init:function(t,i){var f,r=t.series,e;if(t.series=null,f=h(ht,t),f.series=t.series=r,this.userOptions=t,this.respRules=[],t=f.chart,r=t.events,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=f,this.axes=[],this.series=[],this.hasCartesianSeries=t.showAxes,this.index=u.length,u.push(this),n.chartCount++,r)for(e in r)l(this,e,r[e]);this.xAxis=[];this.yAxis=[];this.pointCount=this.colorCounter=this.symbolCounter=0;this.firstRender()},initSeries:function(t){var i=this.options.chart;return(i=p[t.type||i.type||i.defaultSeriesType])||n.error(17,!0),i=new i,i.init(this,t),i},orderSeries:function(n){var t=this.series;for(n=n||0;n<t.length;n++)t[n]&&(t[n].index=n,t[n].name=t[n].name||"Series "+(t[n].index+1))},isInsidePlot:function(n,t,i){var r=i?t:n;return n=i?n:t,0<=r&&r<=this.plotWidth&&0<=n&&n<=this.plotHeight},redraw:function(r){var s=this.axes,u=this.series,c=this.pointer,l=this.legend,a=this.isDirtyLegend,h,v,y=this.hasCartesianSeries,e=this.isDirtyBox,p=u.length,f=p,w=this.renderer,b=w.isHidden(),k=[];for(this.setResponsive&&this.setResponsive(!1),n.setAnimation(r,this),b&&this.cloneRenderTo(),this.layOutTitles();f--;)if(r=u[f],r.options.stacking&&(h=!0,r.isDirty)){v=!0;break}if(v)for(f=p;f--;)r=u[f],r.options.stacking&&(r.isDirty=!0);t(u,function(n){n.isDirty&&"point"===n.options.legendType&&(n.updateTotals&&n.updateTotals(),a=!0);n.isDirtyData&&i(n,"updatedData")});a&&l.options.enabled&&(l.render(),this.isDirtyLegend=!1);h&&this.getStacks();y&&t(s,function(n){n.updateNames();n.setScale()});this.getMargins();y&&(t(s,function(n){n.isDirty&&(e=!0)}),t(s,function(n){var t=n.min+","+n.max;n.extKey!==t&&(n.extKey=t,k.push(function(){i(n,"afterSetExtremes",o(n.eventArgs,n.getExtremes()));delete n.eventArgs}));(e||h)&&n.redraw()}));e&&this.drawChartBox();i(this,"predraw");t(u,function(n){(e||n.isDirty)&&n.visible&&n.redraw();n.isDirtyData=!1});c&&c.reset(!0);w.draw();i(this,"redraw");i(this,"render");b&&this.cloneRenderTo(!0);t(k,function(n){n.call()})},get:function(n){function r(t){return t.id===n||t.options&&t.options.id===n}for(var u=this.series,t=a(this.axes,r)||a(this.series,r),i=0;!t&&i<u.length;i++)t=a(u[i].points||[],r);return t},getAxes:function(){var r=this,n=this.options,i=n.xAxis=it(n.xAxis||{}),n=n.yAxis=it(n.yAxis||{});t(i,function(n,t){n.index=t;n.isX=!0});t(n,function(n,t){n.index=t});i=i.concat(n);t(i,function(n){new ot(r,n)})},getSelectedPoints:function(){var n=[];return t(this.series,function(t){n=n.concat(d(t.points||[],function(n){return n.selected}))}),n},getSelectedSeries:function(){return d(this.series,function(n){return n.selected})},setTitle:function(n,i,r){var u=this,f=u.options,e;e=f.title=h({style:{color:"#333333",fontSize:f.isStock?"16px":"18px"}},f.title,n);f=f.subtitle=h({style:{color:"#666666"}},f.subtitle,i);t([["title",n,e],["subtitle",i,f]],function(n,t){var i=n[0],r=u[i],f=n[1];n=n[2];r&&f&&(u[i]=r=r.destroy());n&&n.text&&!r&&(u[i]=u.renderer.text(n.text,0,0,n.useHTML).attr({align:n.align,"class":"highcharts-"+i,zIndex:n.zIndex||4}).add(),u[i].update=function(n){u.setTitle(!t&&n,t&&n)},u[i].css(n.style))});u.layOutTitles(r)},layOutTitles:function(n){var i=0,r,u=this.renderer,f=this.spacingBox;t(["title","subtitle"],function(n){var r=this[n],t=this.options[n],e;r&&(e=t.style.fontSize,e=u.fontMetrics(e,r).b,r.css({width:(t.width||f.width+t.widthAdjust)+"px"}).align(o({y:i+e+("title"===n?-3:2)},t),!1,"spacingBox"),t.floating||t.verticalAlign||(i=Math.ceil(i+r.getBBox().height)))},this);r=this.titleOffset!==i;this.titleOffset=i;!this.isDirtyBox&&r&&(this.isDirtyBox=r,this.hasRendered&&c(n,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var n=this.options.chart,t=n.width,n=n.height,i=this.renderToClone||this.renderTo;f(t)||(this.containerWidth=s(i,"width"));f(n)||(this.containerHeight=s(i,"height"));this.chartWidth=Math.max(0,t||this.containerWidth||600);this.chartHeight=Math.max(0,n||this.containerHeight||400)},cloneRenderTo:function(n){var t=this.renderToClone,i=this.container;if(n){if(t){for(;t.childNodes.length;)this.renderTo.appendChild(t.firstChild);b(t);delete this.renderToClone}}else i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=t=this.renderTo.cloneNode(0),k(t,{position:"absolute",top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),r.body.appendChild(t),i&&t.appendChild(i)},setClassName:function(n){this.container.className="highcharts-container "+(n||"")},getContainer:function(){var t,e=this.options,f=e.chart,i,s,h,c;t=this.renderTo;h=n.uniqueKey();t||(this.renderTo=t=f.renderTo);v(t)&&(this.renderTo=t=r.getElementById(t));t||n.error(13,!0);i=y(w(t,"data-highcharts-chart"));ct(i)&&u[i]&&u[i].hasRendered&&u[i].destroy();w(t,"data-highcharts-chart",this.index);t.innerHTML="";f.skipClone||t.offsetWidth||this.cloneRenderTo();this.getChartSize();i=this.chartWidth;s=this.chartHeight;c=o({position:"relative",overflow:"hidden",width:i+"px",height:s+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},f.style);this.container=t=st("div",{id:h},c,this.renderToClone||t);this._cursor=t.style.cursor;this.renderer=new(n[f.renderer]||yt)(t,i,s,null,f.forExport,e.exporting&&e.exporting.allowHTML);this.setClassName(f.className);this.renderer.setStyle(f.style);this.renderer.chartIndex=this.index},getMargins:function(n){var t=this.spacing,i=this.margin,r=this.titleOffset;this.resetMargins();r&&!f(i[0])&&(this.plotTop=Math.max(this.plotTop,r+this.options.title.margin+t[0]));this.legend.display&&this.legend.adjustMargins(i,t);this.extraMargin&&(this[this.extraMargin.type]=(this[this.extraMargin.type]||0)+this.extraMargin.value);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);n||this.getAxisMargins()},getAxisMargins:function(){var n=this,i=n.axisOffset=[0,0,0,0],r=n.margin;n.hasCartesianSeries&&t(n.axes,function(n){n.visible&&n.getOffset()});t(g,function(t,u){f(r[u])||(n[t]+=i[u])});n.setChartSize()},reflow:function(n){var t=this,i=t.options.chart,u=t.renderTo,h=f(i.width),o=i.width||s(u,"width"),i=i.height||s(u,"height"),u=n?n.target:e;!h&&!t.isPrinting&&o&&i&&(u===e||u===r)&&((o!==t.containerWidth||i!==t.containerHeight)&&(clearTimeout(t.reflowTimeout),t.reflowTimeout=rt(function(){t.container&&t.setSize(void 0,void 0,!1)},n?100:0)),t.containerWidth=o,t.containerHeight=i)},initReflow:function(){var n=this,t;t=l(e,"resize",function(t){n.reflow(t)});l(n,"destroy",t)},setSize:function(r,u,f){var e=this,o=e.renderer;e.isResizing+=1;n.setAnimation(f,e);e.oldChartHeight=e.chartHeight;e.oldChartWidth=e.chartWidth;void 0!==r&&(e.options.chart.width=r);void 0!==u&&(e.options.chart.height=u);e.getChartSize();r=o.globalAnimation;(r?ft:k)(e.container,{width:e.chartWidth+"px",height:e.chartHeight+"px"},r);e.setChartSize(!0);o.setSize(e.chartWidth,e.chartHeight,f);t(e.axes,function(n){n.isDirty=!0;n.setScale()});e.isDirtyLegend=!0;e.isDirtyBox=!0;e.layOutTitles();e.getMargins();e.redraw(f);e.oldChartHeight=null;i(e,"resize");rt(function(){e&&i(e,"endResize",null,function(){--e.isResizing})},et(r).duration)},setChartSize:function(n){var u=this.inverted,f=this.renderer,i=this.chartWidth,l=this.chartHeight,a=this.options.chart,r=this.spacing,e=this.clipOffset,h,c,o,s;this.plotLeft=h=Math.round(this.plotLeft);this.plotTop=c=Math.round(this.plotTop);this.plotWidth=o=Math.max(0,Math.round(i-h-this.marginRight));this.plotHeight=s=Math.max(0,Math.round(l-c-this.marginBottom));this.plotSizeX=u?s:o;this.plotSizeY=u?o:s;this.plotBorderWidth=a.plotBorderWidth||0;this.spacingBox=f.spacingBox={x:r[3],y:r[0],width:i-r[3]-r[1],height:l-r[0]-r[2]};this.plotBox=f.plotBox={x:h,y:c,width:o,height:s};i=2*Math.floor(this.plotBorderWidth/2);u=Math.ceil(Math.max(i,e[3])/2);f=Math.ceil(Math.max(i,e[0])/2);this.clipBox={x:u,y:f,width:Math.floor(this.plotSizeX-Math.max(i,e[1])/2-u),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(i,e[2])/2-f))};n||t(this.axes,function(n){n.setAxisSize();n.setAxisTranslation()})},resetMargins:function(){var n=this,i=n.options.chart;t(["margin","spacing"],function(r){var u=i[r],f=lt(u)?u:[u,u,u,u];t(["Top","Right","Bottom","Left"],function(t,u){n[r][u]=c(i[r+t],f[u])})});t(g,function(t,i){n[t]=c(n.margin[i],n.spacing[i])});n.axisOffset=[0,0,0,0];n.clipOffset=[0,0,0,0]},drawChartBox:function(){var n=this.options.chart,u=this.renderer,k=this.chartWidth,d=this.chartHeight,f=this.chartBackground,s=this.plotBackground,i=this.plotBorder,r,c=this.plotBGImage,e=n.backgroundColor,g=n.plotBackgroundColor,l=n.plotBackgroundImage,o,a=this.plotLeft,v=this.plotTop,y=this.plotWidth,p=this.plotHeight,w=this.plotBox,b=this.clipRect,h=this.clipBox,t="animate";f||(this.chartBackground=f=u.rect().addClass("highcharts-background").add(),t="attr");r=n.borderWidth||0;o=r+(n.shadow?8:0);e={fill:e||"none"};(r||f["stroke-width"])&&(e.stroke=n.borderColor,e["stroke-width"]=r);f.attr(e).shadow(n.shadow);f[t]({x:o/2,y:o/2,width:k-o-r%2,height:d-o-r%2,r:n.borderRadius});t="animate";s||(t="attr",this.plotBackground=s=u.rect().addClass("highcharts-plot-background").add());s[t](w);s.attr({fill:g||"none"}).shadow(n.plotShadow);l&&(c?c.animate(w):this.plotBGImage=u.image(l,a,v,y,p).add());b?b.animate({width:h.width,height:h.height}):this.clipRect=u.clipRect(h);t="animate";i||(t="attr",this.plotBorder=i=u.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add());i.attr({stroke:n.plotBorderColor,"stroke-width":n.plotBorderWidth||0,fill:"none"});i[t](i.crisp({x:a,y:v,width:y,height:p},-i.strokeWidth()));this.isDirtyBox=!1},propFromSeries:function(){var r=this,u=r.options.chart,n,f=r.options.series,e,i;t(["inverted","angular","polar"],function(t){for(n=p[u.type||u.defaultSeriesType],i=u[t]||n&&n.prototype[t],e=f&&f.length;!i&&e--;)(n=p[f[e].type])&&n.prototype[t]&&(i=!0);r[t]=i})},linkSeries:function(){var n=this,i=n.series;t(i,function(n){n.linkedSeries.length=0});t(i,function(t){var i=t.options.linkedTo;v(i)&&(i=":previous"===i?n.series[t.index-1]:n.get(i))&&i.linkedParent!==t&&(i.linkedSeries.push(t),t.linkedParent=i,t.visible=c(t.options.visible,i.options.visible,t.visible))})},renderSeries:function(){t(this.series,function(n){n.translate();n.render()})},renderLabels:function(){var n=this,i=n.options.labels;i.items&&t(i.items,function(t){var r=o(i.style,t.style),u=y(r.left)+n.plotLeft,f=y(r.top)+n.plotTop+12;delete r.left;delete r.top;n.renderer.text(t.html,u,f).attr({zIndex:2}).css(r).add()})},render:function(){var n=this.axes,e=this.renderer,i=this.options,f,r,u;this.setTitle();this.legend=new at(this,i.legend);this.getStacks&&this.getStacks();this.getMargins(!0);this.setChartSize();i=this.plotWidth;f=this.plotHeight-=21;t(n,function(n){n.setScale()});this.getAxisMargins();r=1.1<i/this.plotWidth;u=1.05<f/this.plotHeight;(r||u)&&(t(n,function(n){(n.horiz&&r||!n.horiz&&u)&&n.setTickInterval(!0)}),this.getMargins());this.drawChartBox();this.hasCartesianSeries&&t(n,function(n){n.visible&&n.render()});this.seriesGroup||(this.seriesGroup=e.g("series-group").attr({zIndex:3}).add());this.renderSeries();this.renderLabels();this.addCredits();this.setResponsive&&this.setResponsive();this.hasRendered=!0},addCredits:function(n){var t=this;n=h(!0,this.options.credits,n);n.enabled&&!this.credits&&(this.credits=this.renderer.text(n.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){n.href&&(e.location.href=n.href)}).attr({align:n.position.align,zIndex:8}).css(n.style).add().align(n.position),this.credits.update=function(n){t.credits=t.credits.destroy();t.addCredits(n)})},destroy:function(){var r=this,o=r.axes,s=r.series,e=r.container,f,h=e&&e.parentNode;for(i(r,"destroy"),u[r.index]=void 0,n.chartCount--,r.renderTo.removeAttribute("data-highcharts-chart"),tt(r),f=o.length;f--;)o[f]=o[f].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),f=s.length;f--;)s[f]=s[f].destroy();t("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(n){var t=r[n];t&&t.destroy&&(r[n]=t.destroy())});e&&(e.innerHTML="",tt(e),h&&b(e));for(f in r)delete r[f]},isReadyToRender:function(){var n=this;return vt||e!=e.top||"complete"===r.readyState?!0:(r.attachEvent("onreadystatechange",function(){r.detachEvent("onreadystatechange",n.firstRender);"complete"===r.readyState&&n.firstRender()}),!1)},firstRender:function(){var n=this,r=n.options;n.isReadyToRender()&&(n.getContainer(),i(n,"init"),n.resetMargins(),n.setChartSize(),n.propFromSeries(),n.getAxes(),t(r.series||[],function(t){n.initSeries(t)}),n.linkSeries(),i(n,"beforeRender"),nt&&(n.pointer=new nt(n,r)),n.render(),!n.renderer.imgCount&&n.onload&&n.onload(),n.cloneRenderTo(!0))},onload:function(){t([this.callback].concat(this.callbacks),function(n){n&&void 0!==this.index&&n.apply(this,[this])},this);i(this,"load");i(this,"render");f(this.index)&&!1!==this.options.chart.reflow&&this.initReflow();this.onload=null}}}(n),function(n){var t,f=n.each,r=n.extend,e=n.erase,o=n.fireEvent,s=n.format,h=n.isArray,u=n.isNumber,i=n.pick,c=n.removeEvent;t=n.Point=function(){};t.prototype={init:function(n,t,r){return this.series=n,this.color=n.color,this.applyOptions(t,r),n.options.colorByPoint?(t=n.options.colors||n.chart.options.colors,this.color=this.color||t[n.colorCounter],t=t.length,r=n.colorCounter,n.colorCounter++,n.colorCounter===t&&(n.colorCounter=0)):r=n.colorIndex,this.colorIndex=i(this.colorIndex,r),n.chart.pointCount++,this},applyOptions:function(n,f){var e=this.series,o=e.options.pointValKey||e.pointValKey;return n=t.prototype.optionsToObject.call(this,n),r(this,n),this.options=this.options?r(this.options,n):n,n.group&&delete this.group,o&&(this.y=this[o]),this.isNull=i(this.isValid&&!this.isValid(),null===this.x||!u(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===f&&e.xAxis&&e.xAxis.hasNames&&(this.x=e.xAxis.nameToX(this)),void 0===this.x&&e&&(this.x=void 0===f?e.autoIncrement(this):f),this},optionsToObject:function(n){var i={},t=this.series,f=t.options.keys,e=f||t.pointArrayMap||["y"],s=e.length,r=0,o=0;if(u(n)||null===n)i[e[0]]=n;else if(h(n))for(!f&&n.length>s&&(t=typeof n[0],"string"===t?i.name=n[0]:"number"===t&&(i.x=n[0]),r++);o<s;)f&&void 0===n[r]||(i[e[o]]=n[r]),r++,o++;else"object"==typeof n&&(i=n,n.dataLabels&&(t._hasPointLabels=!0),n.marker&&(t._hasPointMarkers=!0));return i},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){for(var t=this.series,i=t.zones,t=t.zoneAxis||"y",r=0,n=i[r];this[t]>=n.value;)n=i[++r];return n&&n.color&&!this.options.color&&(this.color=n.color),n},destroy:function(){var n=this.series.chart,t=n.hoverPoints,i;n.pointCount--;t&&(this.setState(),e(t,this),t.length||(n.hoverPoints=null));this===n.hoverPoint&&this.onMouseOut();(this.graphic||this.dataLabel)&&(c(this),this.destroyElements());this.legendItem&&n.legend.destroyItem(this);for(i in this)this[i]=null},destroyElements:function(){for(var i=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],n,t=6;t--;)n=i[t],this[n]&&(this[n]=this[n].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(n){var r=this.series,t=r.tooltipOptions,o=i(t.valueDecimals,""),u=t.valuePrefix||"",e=t.valueSuffix||"";return f(r.pointArrayMap||["y"],function(t){t="{point."+t;(u||e)&&(n=n.replace(t+"}",u+t+"}"+e));n=n.replace(t+"}",t+":,."+o+"f}")}),s(n,{point:this,series:this.series})},firePointEvent:function(n,t,i){var r=this,u=this.series.options;(u.point.events[n]||r.options&&r.options.events&&r.options.events[n])&&this.importEvents();"click"===n&&u.allowPointSelect&&(i=function(n){r.select&&r.select(null,n.ctrlKey||n.metaKey||n.shiftKey)});o(this,n,t,i)},visible:!0}}(n),function(n){var e=n.addEvent,o=n.animObject,p=n.arrayMax,w=n.arrayMin,s=n.correctFloat,u=n.Date,h=n.defaultOptions,b=n.defaultPlotOptions,r=n.defined,i=n.each,c=n.erase,k=n.extend,l=n.fireEvent,d=n.grep,a=n.isArray,f=n.isNumber,g=n.isString,v=n.merge,t=n.pick,nt=n.removeEvent,tt=n.splat,it=n.SVGElement,y=n.syncTimeout,rt=n.win;n.Series=n.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":n.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3},{isCartesian:!0,pointClass:n.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(n,r){var u=this,s,f,o=n.series,h;u.chart=n;u.options=r=u.setOptions(r);u.linkedSeries=[];u.bindAxes();k(u,{name:r.name,state:"",visible:!1!==r.visible,selected:!0===r.selected});f=r.events;for(s in f)e(u,s,f[s]);(f&&f.click||r.point&&r.point.events&&r.point.events.click||r.allowPointSelect)&&(n.runTrackerClick=!0);u.getColor();u.getSymbol();i(u.parallelArrays,function(n){u[n+"Data"]=[]});u.setData(r.data,!1);u.isCartesian&&(n.hasCartesianSeries=!0);o.length&&(h=o[o.length-1]);u._i=t(h&&h._i,-1)+1;n.orderSeries(this.insert(o))},insert:function(n){var r=this.options.index,i;if(f(r)){for(i=n.length;i--;)if(r>=t(n[i].options.index,n[i]._i)){n.splice(i+1,0,this);break}-1===i&&n.unshift(this);i+=1}else n.push(this);return t(i,n.length-1)},bindAxes:function(){var t=this,r=t.options,f=t.chart,u;i(t.axisTypes||[],function(e){i(f[e],function(n){u=n.options;(r[e]===u.index||void 0!==r[e]&&r[e]===u.id||void 0===r[e]&&0===u.index)&&(t.insert(n.series),t[e]=n,n.isDirty=!0)});t[e]||t.optionalAxis===e||n.error(18,!0)})},updateParallelArrays:function(n,t){var r=n.series,u=arguments,e=f(t)?function(i){var u="y"===i&&r.toYData?r.toYData(n):n[i];r[i+"Data"][t]=u}:function(n){Array.prototype[t].apply(r[n+"Data"],Array.prototype.slice.call(u,2))};i(r.parallelArrays,e)},autoIncrement:function(){var n=this.options,r=this.xIncrement,i,f=n.pointIntervalUnit,r=t(r,n.pointStart,0);return this.pointInterval=i=t(this.pointInterval,n.pointInterval,1),f&&(n=new u(r),"day"===f?n=+n[u.hcSetDate](n[u.hcGetDate]()+i):"month"===f?n=+n[u.hcSetMonth](n[u.hcGetMonth]()+i):"year"===f&&(n=+n[u.hcSetFullYear](n[u.hcGetFullYear]()+i)),i=n-r),this.xIncrement=r+i,r},setOptions:function(n){var i=this.chart,t=i.options.plotOptions,i=i.userOptions||{},u=i.plotOptions||{},f=t[this.type];return this.userOptions=n,t=v(f,t.series,n),this.tooltipOptions=v(h.tooltip,h.plotOptions[this.type].tooltip,i.tooltip,u.series&&u.series.tooltip,u[this.type]&&u[this.type].tooltip,n.tooltip),null===f.marker&&delete t.marker,this.zoneAxis=t.zoneAxis,n=this.zones=(t.zones||[]).slice(),(t.negativeColor||t.negativeFillColor)&&!t.zones&&n.push({value:t[this.zoneAxis+"Threshold"]||t.threshold||0,className:"highcharts-negative",color:t.negativeColor,fillColor:t.negativeFillColor}),n.length&&r(n[n.length-1].value)&&n.push({color:this.color,fillColor:this.fillColor}),t},getCyclic:function(n,i,u){var f,e=this.chart,s=this.userOptions,o=n+"Index",h=n+"Counter",c=u?u.length:t(e.options.chart[n+"Count"],e[n+"Count"]);i||(f=t(s[o],s["_"+o]),r(f)||(e.series.length||(e[h]=0),s["_"+o]=f=e[h]%c,e[h]+=1),u&&(i=u[f]));void 0!==f&&(this[o]=f);this[n]=i},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||b[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:n.LegendSymbolMixin.drawLineMarker,setData:function(r,u,e,o){var s=this,l=s.points,b=l&&l.length||0,c,y=s.options,k=s.chart,h=null,p=s.xAxis,d=y.turboThreshold,w=this.xData,v=this.yData,nt=(c=s.pointArrayMap)&&c.length;if(r=r||[],c=r.length,u=t(u,!0),!1!==o&&c&&b===c&&!s.cropped&&!s.hasGroupedData&&s.visible)i(r,function(n,t){l[t].update&&n!==y.data[t]&&l[t].update(n,!1,null,!1)});else{if(s.xIncrement=null,s.colorCounter=0,i(this.parallelArrays,function(n){s[n+"Data"].length=0}),d&&c>d){for(e=0;null===h&&e<c;)h=r[e],e++;if(f(h))for(e=0;e<c;e++)w[e]=this.autoIncrement(),v[e]=r[e];else if(a(h))if(nt)for(e=0;e<c;e++)h=r[e],w[e]=h[0],v[e]=h.slice(1,nt+1);else for(e=0;e<c;e++)h=r[e],w[e]=h[0],v[e]=h[1];else n.error(12)}else for(e=0;e<c;e++)void 0!==r[e]&&(h={series:s},s.pointClass.prototype.applyOptions.apply(h,[r[e]]),s.updateParallelArrays(h,e));for(g(v[0])&&n.error(14,!0),s.data=[],s.options.data=s.userOptions.data=r,e=b;e--;)l[e]&&l[e].destroy&&l[e].destroy();p&&(p.minRange=p.userMinRange);s.isDirty=k.isDirtyBox=!0;s.isDirtyData=!!l;e=!1}"point"===y.legendType&&(this.processData(),this.generatePoints());u&&k.redraw(e)},processData:function(t){var i=this.xData,l=this.yData,u=i.length,e,a,s,f,r,o;e=0;f=this.xAxis;o=this.options;r=o.cropThreshold;var y=this.getExtremesFromAll||o.getExtremesFromAll,v=this.isCartesian,o=f&&f.val2lin,p=f&&f.isLog,h,c;if(v&&!this.isDirty&&!f.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(f&&(t=f.getExtremes(),h=t.min,c=t.max),v&&this.sorted&&!y&&(!r||u>r||this.forceCrop)&&(i[u-1]<h||i[0]>c?(i=[],l=[]):(i[0]<h||i[u-1]>c)&&(e=this.cropData(this.xData,this.yData,h,c),i=e.xData,l=e.yData,e=e.start,a=!0)),r=i.length||1;--r;)u=p?o(i[r])-o(i[r-1]):i[r]-i[r-1],0<u&&(void 0===s||u<s)?s=u:0>u&&this.requireSorting&&n.error(15);this.cropped=a;this.cropStart=e;this.processedXData=i;this.processedYData=l;this.closestPointRange=s},cropData:function(n,i,r,u){for(var s=n.length,e=0,o=s,h=t(this.cropShoulder,1),f=0;f<s;f++)if(n[f]>=r){e=Math.max(0,f-h);break}for(r=f;r<s;r++)if(n[r]>u){o=r+h;break}return{xData:n.slice(e,o),yData:i.slice(e,o),start:e,end:o}},generatePoints:function(){var f=this.options.data,t=this.data,s,e=this.processedXData,a=this.processedYData,h=this.pointClass,o=e.length,c=this.cropStart||0,i,u=this.hasGroupedData,r,l=[],n;for(t||u||(t=[],t.length=f.length,t=this.data=t),n=0;n<o;n++)i=c+n,u?(r=(new h).init(this,[e[n]].concat(tt(a[n]))),r.dataGroup=this.groupMap[n]):(r=t[i])||void 0===f[i]||(t[i]=r=(new h).init(this,f[i],e[n])),r.index=i,l[n]=r;if(t&&(o!==(s=t.length)||u))for(n=0;n<s;n++)n!==c||u||(n+=o),t[n]&&(t[n].destroyElements(),t[n].plotX=void 0);this.data=t;this.points=l},getExtremes:function(n){var v=this.yAxis,s=this.processedXData,u,o=[],h=0,c,l,r,e,t,i;for(u=this.xAxis.getExtremes(),c=u.min,l=u.max,n=n||this.stackedYData||this.processedYData||[],u=n.length,i=0;i<u;i++)if(e=s[i],t=n[i],r=(f(t,!0)||a(t))&&(!v.isLog||t.length||0<t),e=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(s[i+1]||e)>=c&&(s[i-1]||e)<=l,r&&e)if(r=t.length)for(;r--;)null!==t[r]&&(o[h++]=t[r]);else o[h++]=t;this.dataMin=w(o);this.dataMax=p(o)},translate:function(){var y,a;this.processedXData||this.processData();this.generatePoints();var e=this.options,g=e.stacking,v=this.xAxis,b=v.categories,h=this.yAxis,nt=this.points,it=nt.length,rt=!!this.modifyValue,o=e.pointPlacement,ut="between"===o||f(o),p=e.threshold,tt=e.startFromThreshold?p:0,c,u,k,w,d=Number.MAX_VALUE;for("between"===o&&(o=.5),f(o)&&(o*=t(e.pointRange||v.pointRange)),e=0;e<it;e++){var n=nt[e],l=n.x,i=n.y;u=n.low;y=g&&h.stacks[(this.negStacks&&i<(tt?0:p)?"-":"")+this.stackKey];h.isLog&&null!==i&&0>=i&&(n.isNull=!0);n.plotX=c=s(Math.min(Math.max(-1e5,v.translate(l,0,0,0,1,o,"flags"===this.type)),1e5));g&&this.visible&&!n.isNull&&y&&y[l]&&(w=this.getStackIndicator(w,l,this.index),a=y[l],i=a.points[w.key],u=i[0],i=i[1],u===tt&&w.key===y[l].base&&(u=t(p,h.min)),h.isLog&&0>=u&&(u=null),n.total=n.stackTotal=a.total,n.percentage=a.total&&n.y/a.total*100,n.stackY=i,a.setOffset(this.pointXOffset||0,this.barW||0));n.yBottom=r(u)?h.translate(u,0,1,0,1):null;rt&&(i=this.modifyValue(i,n));n.plotY=u="number"==typeof i&&Infinity!==i?Math.min(Math.max(-1e5,h.translate(i,0,1,0,1)),1e5):void 0;n.isInside=void 0!==u&&0<=u&&u<=h.len&&0<=c&&c<=v.len;n.clientX=ut?s(v.translate(l,0,0,0,1,o)):c;n.negative=n.y<(p||0);n.category=b&&void 0!==b[n.x]?b[n.x]:n.x;n.isNull||(void 0!==k&&(d=Math.min(d,Math.abs(c-k))),k=c);n.zone=this.zones.length&&n.getZone()}this.closestPointRangePx=d},getValidPoints:function(n,t){var i=this.chart;return d(n||this.points||[],function(n){return t&&!i.isInsidePlot(n.plotX,n.plotY,i.inverted)?!1:!n.isNull})},setClip:function(n){var t=this.chart,u=this.options,o=t.renderer,s=t.inverted,f=this.clipBox,e=f||t.clipBox,i=this.sharedClipKey||["_sharedClip",n&&n.duration,n&&n.easing,e.height,u.xAxis,u.yAxis].join(),r=t[i],h=t[i+"m"];r||(n&&(e.width=0,t[i+"m"]=h=o.clipRect(-99,s?-t.plotLeft:-t.plotTop,99,s?t.chartWidth:t.chartHeight)),t[i]=r=o.clipRect(e),r.count={length:0});n&&!r.count[this.index]&&(r.count[this.index]=!0,r.count.length+=1);!1!==u.clip&&(this.group.clip(n||f?r:t.clipRect),this.markerGroup.clip(h),this.sharedClipKey=i);n||(r.count[this.index]&&(delete r.count[this.index],--r.count.length),0===r.count.length&&i&&t[i]&&(f||(t[i]=t[i].destroy()),t[i+"m"]&&(this.markerGroup.clip(),t[i+"m"]=t[i+"m"].destroy())))},animate:function(n){var t=this.chart,r=o(this.options.animation),i;n?this.setClip(r):(i=this.sharedClipKey,(n=t[i])&&n.animate({width:t.plotSizeX},r),t[i+"m"]&&t[i+"m"].animate({width:t.plotSizeX+99},r),this.animate=null)},afterAnimate:function(){this.setClip();l(this,"afterAnimate")},drawPoints:function(){var c=this.points,a=this.chart,u,o,n,i,s=this.options.marker,e,l,r,h,v=this.markerGroup,y=t(s.enabled,this.xAxis.isRadial?!0:null,this.closestPointRangePx>2*s.radius);if(!1!==s.enabled||this._hasPointMarkers)for(o=0;o<c.length;o++)n=c[o],u=n.plotY,i=n.graphic,e=n.marker||{},l=!!n.marker,r=y&&void 0===e.enabled||e.enabled,h=n.isInside,r&&f(u)&&null!==n.y?(u=t(e.symbol,this.symbol),n.hasImage=0===u.indexOf("url"),r=this.markerAttribs(n,n.selected&&"select"),i?i[h?"show":"hide"](!0).animate(r):h&&(0<r.width||n.hasImage)&&(n.graphic=i=a.renderer.symbol(u,r.x,r.y,r.width,r.height,l?e:s).add(v)),i&&i.attr(this.pointAttribs(n,n.selected&&"select")),i&&i.addClass(n.getClassName(),!0)):i&&(n.graphic=i.destroy())},markerAttribs:function(n,i){var r=this.options.marker,f=n.marker||{},u=t(f.radius,r.radius);return i&&(r=r.states[i],i=f.states&&f.states[i],u=t(i&&i.radius,r&&r.radius,u+(r&&r.radiusPlus||0))),n.hasImage&&(u=0),n={x:Math.floor(n.plotX)-u,y:n.plotY-u},u&&(n.width=n.height=2*u),n},pointAttribs:function(n,i){var r=this.options.marker,f=n&&n.options,e=f&&f.marker||{},u=this.color,o=f&&f.color,s=n&&n.color,f=t(e.lineWidth,r.lineWidth);return n=n&&n.zone&&n.zone.color,u=o||n||s||u,n=e.fillColor||r.fillColor||u,u=e.lineColor||r.lineColor||u,i&&(r=r.states[i],i=e.states&&e.states[i]||{},f=t(i.lineWidth,r.lineWidth,f+t(i.lineWidthPlus,r.lineWidthPlus,0)),n=i.fillColor||r.fillColor||n,u=i.lineColor||r.lineColor||u),{stroke:u,"stroke-width":f,fill:n}},destroy:function(){var n=this,f=n.chart,s=/AppleWebKit\/533/.test(rt.navigator.userAgent),r,o=n.data||[],e,t,u;for(l(n,"destroy"),nt(n),i(n.axisTypes||[],function(t){(u=n[t])&&u.series&&(c(u.series,n),u.isDirty=u.forceRedraw=!0)}),n.legendItem&&n.chart.legend.destroyItem(n),r=o.length;r--;)(e=o[r])&&e.destroy&&e.destroy();n.points=null;clearTimeout(n.animationTimeout);for(t in n)n[t]instanceof it&&!n[t].survive&&(r=s&&"group"===t?"hide":"destroy",n[t][r]());f.hoverSeries===n&&(f.hoverSeries=null);c(f.series,n);f.orderSeries();for(t in n)delete n[t]},getGraphPath:function(n,t,u){var e=this,h=e.options,f=h.step,l,s=[],c=[],o;return n=n||e.points,(l=n.reversed)&&n.reverse(),(f={right:1,center:2}[f]||f&&3)&&l&&(f=4-f),!h.connectNulls||t||u||(n=this.getValidPoints(n)),i(n,function(i,l){var v=i.plotX,y=i.plotY,a=n[l-1];(i.leftCliff||a&&a.rightCliff)&&!u&&(o=!0);i.isNull&&!r(t)&&0<l?o=!h.connectNulls:i.isNull&&!t?o=!0:(0===l||o?l=["M",i.plotX,i.plotY]:e.getPointSpline?l=e.getPointSpline(n,i,l):f?(l=1===f?["L",a.plotX,y]:2===f?["L",(a.plotX+v)/2,a.plotY,"L",(a.plotX+v)/2,y]:["L",v,a.plotY],l.push("L",v,y)):l=["L",v,y],c.push(i.x),f&&c.push(i.x),s.push.apply(s,l),o=!1)}),s.xMap=c,e.graphPath=s},drawGraph:function(){var n=this,t=this.options,r=(this.gappedPath||this.getGraphPath).call(this),u=[["graph","highcharts-graph",t.lineColor||this.color,t.dashStyle]];i(this.zones,function(i,r){u.push(["zone-graph-"+r,"highcharts-graph highcharts-zone-graph-"+r+" "+(i.className||""),i.color||n.color,i.dashStyle||t.dashStyle])});i(u,function(i,u){var e=i[0],f=n[e];f?(f.endX=r.xMap,f.animate({d:r})):r.length&&(n[e]=n.chart.renderer.path(r).addClass(i[1]).attr({zIndex:1}).add(n.group),f={stroke:i[2],"stroke-width":t.lineWidth,fill:n.fillGraph&&n.color||"none"},i[3]?f.dashstyle=i[3]:"square"!==t.linecap&&(f["stroke-linecap"]=f["stroke-linejoin"]="round"),f=n[e].attr(f).shadow(2>u&&t.shadow));f&&(f.startX=r.xMap,f.isArea=r.isArea)})},applyZones:function(){var k=this,r=this.chart,d=r.renderer,g=this.zones,f,e,o=this.clips||[],n,c=this.graph,l=this.area,a=Math.max(r.chartWidth,r.chartHeight),u=this[(this.zoneAxis||"y")+"Axis"],s,p,w=r.inverted,h,b,v,y,nt=!1;g.length&&(c||l)&&u&&void 0!==u.min&&(p=u.reversed,h=u.horiz,c&&c.hide(),l&&l.hide(),s=u.getExtremes(),i(g,function(i,g){f=p?h?r.plotWidth:0:h?0:u.toPixels(s.min);f=Math.min(Math.max(t(e,f),0),a);e=Math.min(Math.max(Math.round(u.toPixels(t(i.value,s.max),!0)),0),a);nt&&(f=e=u.toPixels(s.max));b=Math.abs(f-e);v=Math.min(f,e);y=Math.max(f,e);u.isXAxis?(n={x:w?y:v,y:0,width:b,height:a},h||(n.x=r.plotHeight-n.x)):(n={x:0,y:w?y:v,width:a,height:b},h&&(n.y=r.plotWidth-n.y));w&&d.isVML&&(n=u.isXAxis?{x:0,y:p?v:y,height:n.width,width:r.chartWidth}:{x:n.y-r.plotLeft-r.spacingBox.x,y:0,width:n.height,height:r.chartHeight});o[g]?o[g].animate(n):(o[g]=d.clipRect(n),c&&k["zone-graph-"+g].clip(o[g]),l&&k["zone-area-"+g].clip(o[g]));nt=i.value>s.max}),this.clips=o)},invertGroups:function(n){function r(){i(["group","markerGroup"],function(i){t[i]&&(t[i].width=t.yAxis.len,t[i].height=t.xAxis.len,t[i].invert(n))})}var t=this,u;t.xAxis&&(u=e(t.chart,"resize",r),e(t,"destroy",u),r(n),t.invertGroups=r)},plotGroup:function(n,t,i,r,u){var f=this[n],e=!f;return e&&(this[n]=f=this.chart.renderer.g(t).attr({zIndex:r||.1}).add(u),f.addClass("highcharts-series-"+this.index+" highcharts-"+this.type+"-series highcharts-color-"+this.colorIndex+" "+(this.options.className||""))),f.attr({visibility:i})[e?"attr":"animate"](this.getPlotBox()),f},getPlotBox:function(){var t=this.chart,i=this.xAxis,n=this.yAxis;return t.inverted&&(i=n,n=this.xAxis),{translateX:i?i.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var n=this,t=n.chart,i,r=n.options,u=!!n.animate&&t.renderer.isSVG&&o(r.animation).duration,f=n.visible?"inherit":"hidden",e=r.zIndex,s=n.hasRendered,h=t.seriesGroup,c=t.inverted;i=n.plotGroup("group","series",f,e,h);n.markerGroup=n.plotGroup("markerGroup","markers",f,e,h);u&&n.animate(!0);i.inverted=n.isCartesian?c:!1;n.drawGraph&&(n.drawGraph(),n.applyZones());n.drawDataLabels&&n.drawDataLabels();n.visible&&n.drawPoints();n.drawTracker&&!1!==n.options.enableMouseTracking&&n.drawTracker();n.invertGroups(c);!1===r.clip||n.sharedClipKey||s||i.clip(t.clipRect);u&&n.animate();s||(n.animationTimeout=y(function(){n.afterAnimate()},u));n.isDirty=!1;n.hasRendered=!0},redraw:function(){var n=this.chart,f=this.isDirty||this.isDirtyData,i=this.group,r=this.xAxis,u=this.yAxis;i&&(n.inverted&&i.attr({width:n.plotWidth,height:n.plotHeight}),i.animate({translateX:t(r&&r.left,n.plotLeft),translateY:t(u&&u.top,n.plotTop)}));this.translate();this.render();f&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(n,t){var i=this.xAxis,r=this.yAxis,u=this.chart.inverted;return this.searchKDTree({clientX:u?i.len-n.chartY+i.pos:n.chartX-i.pos,plotY:u?r.len-n.chartX+r.pos:n.chartY-r.pos},t)},buildKDTree:function(){function t(i,r,u){var e,f;if(f=i&&i.length)return e=n.kdAxisArray[r%u],i.sort(function(n,t){return n[e]-t[e]}),f=Math.floor(f/2),{point:i[f],left:t(i.slice(0,f),r+1,u),right:t(i.slice(f+1),r+1,u)}}this.buildingKdTree=!0;var n=this,i=n.kdDimensions;delete n.kdTree;y(function(){n.kdTree=t(n.getValidPoints(null,!n.directTouch),i,i);n.buildingKdTree=!1},n.options.kdNow?0:1)},searchKDTree:function(n,t){function e(n,t,s,h){var l=t.point,a=o.kdAxisArray[s%h],c,v,y=l;return v=r(n[u])&&r(l[u])?Math.pow(n[u]-l[u],2):null,c=r(n[f])&&r(l[f])?Math.pow(n[f]-l[f],2):null,c=(v||0)+(c||0),l.dist=r(c)?Math.sqrt(c):Number.MAX_VALUE,l.distX=r(v)?Math.sqrt(v):Number.MAX_VALUE,a=n[a]-l[a],c=0>a?"left":"right",v=0>a?"right":"left",t[c]&&(c=e(n,t[c],s+1,h),y=c[i]<y[i]?c:l),t[v]&&Math.sqrt(a*a)<y[i]&&(n=e(n,t[v],s+1,h),y=n[i]<y[i]?n:y),y}var o=this,u=this.kdAxisArray[0],f=this.kdAxisArray[1],i=t?"distX":"dist";return this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree?e(n,this.kdTree,this.kdDimensions,this.kdDimensions):void 0}})}(n),function(n){function f(n,i,r,u,f){var e=n.chart.inverted;this.axis=n;this.isNegative=r;this.options=i;this.x=u;this.total=null;this.points={};this.stack=f;this.rightCliff=this.leftCliff=0;this.alignOptions={align:i.align||(e?r?"left":"right":"center"),verticalAlign:i.verticalAlign||(e?"middle":r?"bottom":"top"),y:t(i.y,e?4:r?14:-6),x:t(i.x,e?r?-6:6:0)};this.textAlign=i.textAlign||(e?r?"right":"left":"center")}var i=n.Axis,o=n.Chart,r=n.correctFloat,e=n.defined,s=n.destroyObjectProperties,u=n.each,h=n.format,t=n.pick;n=n.Series;f.prototype={destroy:function(){s(this,this.axis)},render:function(n){var t=this.options,i=t.format,i=i?h(i,this):t.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(n)},setOffset:function(n,t){var i=this.axis,f=i.chart,r=f.inverted,e=i.reversed,e=this.isNegative&&!e||!this.isNegative&&e,u=i.translate(i.usePercentage?100:this.total,0,0,0,1),i=i.translate(0),i=Math.abs(u-i),o;n=f.xAxis[0].translate(this.x)+n;o=f.plotHeight;r={x:r?e?u:u-i:n,y:r?o-n-t:e?o-u-i:o-u,width:r?i:t,height:r?t:i};(t=this.label)&&(t.align(this.alignOptions,null,r),r=t.alignAttr,t[!1===this.options.crop||f.isInsidePlot(r.x,r.y)?"show":"hide"](!0))}};o.prototype.getStacks=function(){var n=this;u(n.yAxis,function(n){n.stacks&&n.hasVisibleSeries&&(n.oldStacks=n.stacks)});u(n.series,function(i){i.options.stacking&&(!0===i.visible||!1===n.options.chart.ignoreHiddenSeries)&&(i.stackKey=i.type+t(i.options.stack,""))})};i.prototype.buildStacks=function(){var r=this.series,u,f=t(this.options.reversedStacks,!0),i=r.length,n;if(!this.isXAxis){for(this.usePercentage=!1,n=i;n--;)r[f?n:i-n-1].setStackedPoints();for(n=i;n--;)u=r[f?n:i-n-1],u.setStackCliffs&&u.setStackCliffs();if(this.usePercentage)for(n=0;n<i;n++)r[n].setPercentStacks()}};i.prototype.renderStackTotals=function(){var n=this.chart,f=n.renderer,i=this.stacks,r,u,t=this.stackTotalGroup;t||(this.stackTotalGroup=t=f.g("stack-labels").attr({visibility:"visible",zIndex:6}).add());t.translate(n.plotLeft,n.plotTop);for(r in i)for(u in n=i[r],n)n[u].render(t)};i.prototype.resetStacks=function(){var n=this.stacks,t,i;if(!this.isXAxis)for(t in n)for(i in n[t])n[t][i].touched<this.stacksTouched?(n[t][i].destroy(),delete n[t][i]):(n[t][i].total=null,n[t][i].cum=null)};i.prototype.cleanStacks=function(){var n,t,i;if(!this.isXAxis)for(t in this.oldStacks&&(n=this.stacks=this.oldStacks),n)for(i in n[t])n[t][i].cum=n[t][i].total};n.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var tt=this.processedXData,b=this.processedYData,k=[],it=b.length,c=this.options,d=c.threshold,y=c.startFromThreshold?d:0,rt=c.stack,c=c.stacking,p=this.stackKey,g="-"+p,nt=this.negStacks,s=this.yAxis,u=s.stacks,w=s.oldStacks,v,o,n,a,l,i,h;for(s.stacksTouched+=1,l=0;l<it;l++)i=tt[l],h=b[l],v=this.getStackIndicator(v,i,this.index),a=v.key,n=(o=nt&&h<(y?0:d))?g:p,u[n]||(u[n]={}),u[n][i]||(w[n]&&w[n][i]?(u[n][i]=w[n][i],u[n][i].total=null):u[n][i]=new f(s,s.options.stackLabels,o,i,rt)),n=u[n][i],null!==h&&(n.points[a]=n.points[this.index]=[t(n.cum,y)],e(n.cum)||(n.base=a),n.touched=s.stacksTouched,0<v.index&&!1===this.singleStacks&&(n.points[a][0]=n.points[this.index+","+i+",0"][0])),"percent"===c?(o=o?p:g,nt&&u[o]&&u[o][i]?(o=u[o][i],n.total=o.total=Math.max(o.total,n.total)+Math.abs(h)||0):n.total=r(n.total+(Math.abs(h)||0))):n.total=r(n.total+(h||0)),n.cum=t(n.cum,y)+(h||0),null!==h&&(n.points[a].push(n.cum),k[l]=n.cum);"percent"===c&&(s.usePercentage=!0);this.stackedYData=k;s.oldStacks={}}};n.prototype.setPercentStacks=function(){var n=this,i=n.stackKey,f=n.yAxis.stacks,e=n.processedXData,t;u([i,"-"+i],function(i){for(var s=e.length,u,o;s--;)(u=e[s],t=n.getStackIndicator(t,u,n.index,i),u=(o=f[i]&&f[i][u])&&o.points[t.key])&&(o=o.total?100/o.total:0,u[0]=r(u[0]*o),u[1]=r(u[1]*o),n.stackedYData[s]=u[1])})};n.prototype.getStackIndicator=function(n,t,i,r){return!e(n)||n.x!==t||r&&n.key!==r?n={x:t,index:0,key:r}:n.index++,n.key=[i,t,n.index].join(),n}}(n),function(n){var w=n.addEvent,o=n.animate,s=n.Axis,h=n.createElement,f=n.css,b=n.defined,i=n.each,c=n.erase,r=n.extend,l=n.fireEvent,e=n.inArray,a=n.isNumber,v=n.isObject,u=n.merge,t=n.pick,k=n.Point,d=n.Series,y=n.seriesTypes,g=n.setAnimation,p=n.splat;r(n.Chart.prototype,{addSeries:function(n,i,r){var f,u=this;return n&&(i=t(i,!0),l(u,"addSeries",{options:n},function(){f=u.initSeries(n);u.isDirtyLegend=!0;u.linkSeries();i&&u.redraw(r)})),f},addAxis:function(n,i,r,f){var e=i?"xAxis":"yAxis",o=this.options;n=u(n,{index:this[e].length,isX:i});new s(this,n);o[e]=p(o[e]||{});o[e].push(n);t(r,!0)&&this.redraw(f)},showLoading:function(n){var t=this,e=t.options,i=t.loadingDiv,u=e.loading,s=function(){i&&f(i,{left:t.plotLeft+"px",top:t.plotTop+"px",width:t.plotWidth+"px",height:t.plotHeight+"px"})};i||(t.loadingDiv=i=h("div",{className:"highcharts-loading highcharts-loading-hidden"},null,t.container),t.loadingSpan=h("span",{className:"highcharts-loading-inner"},null,i),w(t,"redraw",s));i.className="highcharts-loading";t.loadingSpan.innerHTML=n||e.lang.loading;f(i,r(u.style,{zIndex:10}));f(t.loadingSpan,u.labelStyle);t.loadingShown||(f(i,{opacity:0,display:""}),o(i,{opacity:u.style.opacity||.5},{duration:u.showDuration||0}));t.loadingShown=!0;s()},hideLoading:function(){var t=this.options,n=this.loadingDiv;n&&(n.className="highcharts-loading highcharts-loading-hidden",o(n,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){f(n,{display:"none"})}}));this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions".split(" "),update:function(n,r){var f,h={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},o=n.chart,c,s;if(o){u(!0,this.options.chart,o);"className"in o&&this.setClassName(o.className);("inverted"in o||"polar"in o)&&(this.propFromSeries(),c=!0);for(f in o)o.hasOwnProperty(f)&&(-1!==e("chart."+f,this.propsRequireUpdateSeries)&&(s=!0),-1!==e(f,this.propsRequireDirtyBox)&&(this.isDirtyBox=!0));"style"in o&&this.renderer.setStyle(o.style)}for(f in n)this[f]&&"function"==typeof this[f].update?this[f].update(n[f],!1):"function"==typeof this[h[f]]&&this[h[f]](n[f]),"chart"!==f&&-1!==e(f,this.propsRequireUpdateSeries)&&(s=!0);n.colors&&(this.options.colors=n.colors);n.plotOptions&&u(!0,this.options.plotOptions,n.plotOptions);i(["xAxis","yAxis","series"],function(t){n[t]&&i(p(n[t]),function(n,i){(i=b(n.id)&&this.get(n.id)||this[t][i])&&i.coll===t&&i.update(n,!1)},this)},this);c&&i(this.axes,function(n){n.update({},!1)});s&&i(this.series,function(n){n.update({},!1)});n.loading&&u(!0,this.options.loading,n.loading);f=o&&o.width;o=o&&o.height;a(f)&&f!==this.chartWidth||a(o)&&o!==this.chartHeight?this.setSize(f,o):t(r,!0)&&this.redraw()},setSubtitle:function(n){this.setTitle(void 0,n)}});r(k.prototype,{update:function(n,i,r,u){function l(){f.applyOptions(n);null===f.y&&o&&(f.graphic=o.destroy());v(n,!0)&&(o&&o.element&&n&&n.marker&&n.marker.symbol&&(f.graphic=o.destroy()),n&&n.dataLabels&&f.dataLabel&&(f.dataLabel=f.dataLabel.destroy()));s=f.index;e.updateParallelArrays(f,s);c.data[s]=v(c.data[s],!0)?f.options:n;e.isDirty=e.isDirtyData=!0;!e.fixedBox&&e.hasCartesianSeries&&(h.isDirtyBox=!0);"point"===c.legendType&&(h.isDirtyLegend=!0);i&&h.redraw(r)}var f=this,e=f.series,o=f.graphic,s,h=e.chart,c=e.options;i=t(i,!0);!1===u?l():f.firePointEvent("update",{options:n},l)},remove:function(n,t){this.series.removePoint(e(this,this.series.data),n,t)}});r(d.prototype,{addPoint:function(n,i,r,u){var l=this.options,s=this.data,y=this.chart,o=this.xAxis,o=o&&o.hasNames&&o.names,a=l.data,e,v,c=this.xData,f,h;if(i=t(i,!0),e={series:this},this.pointClass.prototype.applyOptions.apply(e,[n]),h=e.x,f=c.length,this.requireSorting&&h<c[f-1])for(v=!0;f&&c[f-1]>h;)f--;this.updateParallelArrays(e,"splice",f,0,0);this.updateParallelArrays(e,f);o&&e.name&&(o[h]=e.name);a.splice(f,0,n);v&&(this.data.splice(f,0,null),this.processData());"point"===l.legendType&&this.generatePoints();r&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),this.updateParallelArrays(e,"shift"),a.shift()));this.isDirtyData=this.isDirty=!0;i&&y.redraw(u)},removePoint:function(n,i,r){var u=this,e=u.data,f=e[n],o=u.points,s=u.chart,h=function(){o&&o.length===e.length&&o.splice(n,1);e.splice(n,1);u.options.data.splice(n,1);u.updateParallelArrays(f||{series:u},"splice",n,1);f&&f.destroy();u.isDirty=!0;u.isDirtyData=!0;i&&s.redraw()};g(r,s);i=t(i,!0);f?f.firePointEvent("remove",null,h):h()},remove:function(n,i,r){function e(){f.destroy();u.isDirtyLegend=u.isDirtyBox=!0;u.linkSeries();t(n,!0)&&u.redraw(i)}var f=this,u=f.chart;!1!==r?l(f,"remove",null,e):e()},update:function(n,f){var s=this,o=this.chart,l=this.userOptions,h=this.type,c=n.type||l.type||o.options.chart.type,v=y[h].prototype,e=["group","markerGroup","dataLabelsGroup"],a;(c&&c!==h||void 0!==n.zIndex)&&(e.length=0);i(e,function(n){e[n]=s[n];delete s[n]});n=u(l,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},n);this.remove(!1,null,!1);for(a in v)this[a]=void 0;r(this,y[c||h].prototype);i(e,function(n){s[n]=e[n]});this.init(o,n);o.linkSeries();t(f,!0)&&o.redraw(!1)}});r(s.prototype,{update:function(n,i){var f=this.chart;n=f.options[this.coll][this.options.index]=u(this.userOptions,n);this.destroy(!0);this.init(f,r(n,{events:void 0}));f.isDirtyBox=!0;t(i,!0)&&f.redraw()},remove:function(n){for(var r=this.chart,u=this.coll,f=this.series,e=f.length;e--;)f[e]&&f[e].remove(!1);c(r.axes,this);c(r[u],this);r.options[u].splice(this.options.index,1);i(r[u],function(n,t){n.options.index=t});this.destroy();r.isDirtyBox=!0;t(n,!0)&&r.redraw()},setTitle:function(n,t){this.update({title:n},t)},setCategories:function(n,t){this.update({categories:n},t)}})}(n),function(n){var u=n.color,i=n.each,f=n.map,t=n.pick,r=n.Series,e=n.seriesType;e("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(){var s=[],e=[],w=this.xAxis,o=this.yAxis,u=o.stacks[this.stackKey],r={},h=this.points,c=this.index,a=o.series,v=a.length,y,p=t(o.options.reversedStacks,!0)?1:-1,n,l;if(this.options.stacking){for(n=0;n<h.length;n++)r[h[n].x]=h[n];for(l in u)null!==u[l].total&&e.push(l);e.sort(function(n,t){return n-t});y=f(a,function(){return this.visible});i(e,function(t,f){var h=0,l,a;if(r[t]&&!r[t].isNull)s.push(r[t]),i([-1,1],function(i){var h=1===i?"rightNull":"leftNull",o=0,s=u[e[f+i]];if(s)for(n=c;0<=n&&n<v;)l=s.points[n],l||(n===c?r[t][h]=!0:y[n]&&(a=u[t].points[n])&&(o-=a[1]-a[0])),n+=p;r[t][1===i?"rightCliff":"leftCliff"]=o});else{for(n=c;0<=n&&n<v;){if(l=u[t].points[n]){h=l[1];break}n+=p}h=o.toPixels(h,!0);s.push({isNull:!0,plotX:w.toPixels(t,!0),plotY:h,yBottom:h})}})}return s},getGraphPath:function(n){var e=r.prototype.getGraphPath,f=this.options,o=f.stacking,s=this.yAxis,i,u,h=[],c=[],p=this.index,l,w=s.stacks[this.stackKey],b=f.threshold,a=s.getThreshold(f.threshold),v,f=f.connectNulls||"percent"===o,y=function(t,i,r){var u=n[t],e,f,v;t=o&&w[u.x].points[p];e=u[r+"Null"]||0;r=u[r+"Cliff"]||0;u=!0;r||e?(f=(e?t[0]:t[1])+r,v=t[0]+r,u=!!e):!o&&n[i]&&n[i].isNull&&(f=v=b);void 0!==f&&(c.push({plotX:l,plotY:null===f?a:s.getThreshold(f),isNull:u}),h.push({plotX:l,plotY:null===v?a:s.getThreshold(v),doCurve:!1}))};for(n=n||this.points,o&&(n=this.getStackPoints()),i=0;i<n.length;i++)(u=n[i].isNull,l=t(n[i].rectPlotX,n[i].plotX),v=t(n[i].yBottom,a),!u||f)&&(f||y(i,i-1,"left"),u&&!o&&f||(c.push(n[i]),h.push({x:i,plotX:l,plotY:v})),f||y(i,i+1,"right"));return i=e.call(this,c,!0,!0),h.reversed=!0,u=e.call(this,h,!0,!0),u.length&&(u[0]="L"),u=i.concat(u),e=e.call(this,c,!1,f),u.xMap=i.xMap,this.areaPath=u,e},drawGraph:function(){this.areaPath=[];r.prototype.drawGraph.apply(this);var n=this,f=this.areaPath,e=this.options,o=[["area","highcharts-area",this.color,e.fillColor]];i(this.zones,function(t,i){o.push(["zone-area-"+i,"highcharts-area highcharts-zone-area-"+i+" "+t.className,t.color||n.color,t.fillColor||e.fillColor])});i(o,function(i){var o=i[0],r=n[o];r?(r.endX=f.xMap,r.animate({d:f})):(r=n[o]=n.chart.renderer.path(f).addClass(i[1]).attr({fill:t(i[3],u(i[2]).setOpacity(t(e.fillOpacity,.75)).get()),zIndex:0}).add(n.group),r.isArea=!0);r.startX=f.xMap;r.shiftUnit=e.step?2:1})},drawLegendSymbol:n.LegendSymbolMixin.drawRectangle})}(n),function(n){var t=n.pick;n=n.seriesType;n("spline","line",{},{getPointSpline:function(n,i,r){var h=i.plotX,u=i.plotY,o=n[r-1],c,e,s,f,l;return r=n[r+1],o&&!o.isNull&&!1!==o.doCurve&&r&&!r.isNull&&!1!==r.doCurve&&(n=o.plotY,s=r.plotX,r=r.plotY,l=0,c=(1.5*h+o.plotX)/2.5,e=(1.5*u+n)/2.5,s=(1.5*h+s)/2.5,f=(1.5*u+r)/2.5,s!==c&&(l=(f-e)*(s-h)/(s-c)+u-f),e+=l,f+=l,e>n&&e>u?(e=Math.max(n,u),f=2*u-e):e<n&&e<u&&(e=Math.min(n,u),f=2*u-e),f>r&&f>u?(f=Math.max(r,u),e=2*u-f):f<r&&f<u&&(f=Math.min(r,u),e=2*u-f),i.rightContX=s,i.rightContY=f),i=["C",t(o.rightContX,o.plotX),t(o.rightContY,o.plotY),t(c,h),t(e,u),h,u],o.rightContX=o.rightContY=null,i}})}(n),function(n){var t=n.seriesTypes.area.prototype,i=n.seriesType;i("areaspline","spline",n.defaultPlotOptions.area,{getStackPoints:t.getStackPoints,getGraphPath:t.getGraphPath,setStackCliffs:t.setStackCliffs,drawGraph:t.drawGraph,drawLegendSymbol:n.LegendSymbolMixin.drawRectangle})}(n),function(n){var u=n.animObject,f=n.color,t=n.each,e=n.extend,o=n.isNumber,s=n.merge,i=n.pick,r=n.Series,h=n.seriesType,c=n.svg;h("column","line",{borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1,shadow:!1},select:{color:"#cccccc",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){r.prototype.init.apply(this,arguments);var n=this,i=n.chart;i.hasRendered&&t(i.series,function(t){t.type===n.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var n=this,r=n.options,u=n.xAxis,c=n.yAxis,l=u.reversed,f,o={},e=0;!1===r.grouping?e=1:t(n.chart.series,function(t){var r=t.options,u=t.yAxis,i;t.type===n.type&&t.visible&&c.len===u.len&&c.pos===u.pos&&(r.stacking?(f=t.stackKey,void 0===o[f]&&(o[f]=e++),i=o[f]):!1!==r.grouping&&(i=e++),t.columnIndex=i)});var s=Math.min(Math.abs(u.transA)*(u.ordinalSlope||r.pointRange||u.closestPointRange||u.tickInterval||1),u.len),a=s*r.groupPadding,h=(s-2*a)/(e||1),r=Math.min(r.maxPointWidth||u.len,i(r.pointWidth,h*(1-2*r.pointPadding)));return n.columnMetrics={width:r,offset:(h-r)/2+(a+((n.columnIndex||0)+(l?1:0))*h-s/2)*(l?-1:1)},n.columnMetrics},crispCol:function(n,t,i,r){var e=this.chart,u=this.borderWidth,f=-(u%2?.5:0),u=u%2?.5:1;return e.inverted&&e.renderer.isVML&&(u+=1),i=Math.round(n+i)+f,n=Math.round(n)+f,r=Math.round(t+r)+u,f=.5>=Math.abs(t)&&.5<r,t=Math.round(t)+u,r-=t,f&&r&&(--t,r+=1),{x:n,y:t,width:i-n,height:r}},translate:function(){var n=this,e=n.chart,o=n.options,c=n.dense=2>n.closestPointRange*n.xAxis.transA,c=n.borderWidth=i(o.borderWidth,c?0:1),u=n.yAxis,s=n.translatedThreshold=u.getThreshold(o.threshold),f=i(o.minPointLength,5),l=n.getColumnMetrics(),a=l.width,h=n.barW=Math.max(a,1+2*c),v=n.pointXOffset=l.offset;e.inverted&&(s-=.5);o.pointPadding&&(h=Math.ceil(h));r.prototype.translate.apply(n);t(n.points,function(t){var c=i(t.yBottom,s),r=999+Math.abs(c),r=Math.min(Math.max(-r,t.plotY),u.len+r),l=t.plotX+v,p=h,y=Math.min(r,c),w,o=Math.max(r,c)-y;Math.abs(o)<f&&f&&(o=f,w=!u.reversed&&!t.negative||u.reversed&&t.negative,y=Math.abs(y-s)>f?c-f:s-(w?f:0));t.barX=l;t.pointWidth=a;t.tooltipPos=e.inverted?[u.len+u.pos-e.plotLeft-r,n.xAxis.len-l-p/2,o]:[l+p/2,r+u.pos-e.plotTop,o];t.shapeType="rect";t.shapeArgs=n.crispCol.apply(n,t.isNull?[t.plotX,u.len/2,0,0]:[l,y,p,o])})},getSymbol:n.noop,drawLegendSymbol:n.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(n,t){var u=this.options,i,e=this.pointAttrToOptions||{};i=e.stroke||"borderColor";var o=e["stroke-width"]||"borderWidth",r=n&&n.color||this.color,s=n[i]||u[i]||this.color||r,h=n[o]||u[o]||this[o]||0,e=u.dashStyle;return n&&this.zones.length&&(r=(r=n.getZone())&&r.color||n.options.color||this.color),t&&(n=u.states[t],t=n.brightness,r=n.color||void 0!==t&&f(r).brighten(n.brightness).get()||r,s=n[i]||s,h=n[o]||h,e=n.dashStyle||e),i={fill:r,stroke:s,"stroke-width":h},u.borderRadius&&(i.r=u.borderRadius),e&&(i.dashstyle=e),i},drawPoints:function(){var n=this,u=this.chart,i=n.options,f=u.renderer,e=i.animationLimit||250,r;t(n.points,function(t){var h=t.graphic;o(t.plotY)&&null!==t.y?(r=t.shapeArgs,h?h[u.pointCount<e?"animate":"attr"](s(r)):t.graphic=h=f[t.shapeType](r).attr({"class":t.getClassName()}).add(t.group||n.group),h.attr(n.pointAttribs(t,t.selected&&"select")).shadow(i.shadow,null,i.stacking&&!i.borderRadius)):h&&(t.graphic=h.destroy())})},animate:function(n){var t=this,i=this.yAxis,o=t.options,f=this.chart.inverted,r={};c&&(n?(r.scaleY=.001,n=Math.min(i.pos+i.len,Math.max(i.pos,i.toPixels(o.threshold))),f?r.translateX=n-i.len:r.translateY=n,t.group.attr(r)):(r[f?"translateX":"translateY"]=i.pos,t.group.animate(r,e(u(t.options.animation),{step:function(n,i){t.group.attr({scaleY:Math.max(.001,i.pos)})}})),t.animate=null))},remove:function(){var n=this,i=n.chart;i.hasRendered&&t(i.series,function(t){t.type===n.type&&(t.isDirty=!0)});r.prototype.remove.apply(n,arguments)}})}(n),function(n){n=n.seriesType;n("bar","column",null,{inverted:!0})}(n),function(n){var t=n.Series;n=n.seriesType;n("scatter","line",{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●<\/span> <span style="font-size: 0.85em"> {series.name}<\/span><br/>',pointFormat:"x: <b>{point.x}<\/b><br/>y: <b>{point.y}<\/b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&t.prototype.drawGraph.call(this)}})}(n),function(n){var t=n.pick,i=n.relativeLength;n.CenteredSeriesMixin={getCenter:function(){for(var u=this.options,f=this.chart,e=2*(u.slicedOffset||0),s=f.plotWidth-2*e,f=f.plotHeight-2*e,n=u.center,n=[t(n[0],"50%"),t(n[1],"50%"),u.size||"100%",u.innerSize||0],h=Math.min(s,f),o,r=0;4>r;++r)o=n[r],u=2>r||2===r&&/%$/.test(o),n[r]=i(o,[s,f,h,n[2]][r])+(u?e:0);return n[3]>n[2]&&(n[3]=n[2]),n}}}(n),function(n){var r=n.addEvent,e=n.defined,i=n.each,o=n.extend,u=n.inArray,f=n.noop,t=n.pick,s=n.Point,h=n.Series,c=n.seriesType,l=n.setAnimation;c("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){if(null!==this.y)return this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:n.seriesTypes.column.prototype.pointAttribs,animate:function(n){var t=this,u=t.points,r=t.startAngleRad;n||(i(u,function(n){var i=n.graphic,u=n.shapeArgs;i&&(i.attr({r:n.startR||t.center[3]/2,start:r,end:r}),i.animate({r:u.r,start:u.start,end:u.end},t.options.animation))}),t.animate=null)},updateTotals:function(){for(var i=0,r=this.points,u=r.length,n,f=this.options.ignoreHiddenPoint,t=0;t<u;t++)n=r[t],0>n.y&&(n.y=null),i+=f&&!n.visible?0:n.y;for(this.total=i,t=0;t<u;t++)n=r[t],n.percentage=0<i&&(n.visible||!f)?n.y/i*100:0,n.total=i},generatePoints:function(){h.prototype.generatePoints.call(this);this.updateTotals()},translate:function(n){this.generatePoints();var l=0,e=this.options,a=e.slicedOffset,s=a+(e.borderWidth||0),u,f,i,h=e.startAngle||0,v=this.startAngleRad=Math.PI/180*(h-90),h=(this.endAngleRad=Math.PI/180*(t(e.endAngle,h+360)-90))-v,y=this.points,o=e.dataLabels.distance,e=e.ignoreHiddenPoint,c,p=y.length,r;for(n||(this.center=n=this.getCenter()),this.getX=function(t,r){return i=Math.asin(Math.min((t-n[1])/(n[2]/2+o),1)),n[0]+(r?-1:1)*Math.cos(i)*(n[2]/2+o)},c=0;c<p;c++)r=y[c],u=v+l*h,(!e||r.visible)&&(l+=r.percentage/100),f=v+l*h,r.shapeType="arc",r.shapeArgs={x:n[0],y:n[1],r:n[2]/2,innerR:n[3]/2,start:Math.round(1e3*u)/1e3,end:Math.round(1e3*f)/1e3},i=(f+u)/2,i>1.5*Math.PI?i-=2*Math.PI:i<-Math.PI/2&&(i+=2*Math.PI),r.slicedTranslation={translateX:Math.round(Math.cos(i)*a),translateY:Math.round(Math.sin(i)*a)},u=Math.cos(i)*n[2]/2,f=Math.sin(i)*n[2]/2,r.tooltipPos=[n[0]+.7*u,n[1]+.7*f],r.half=i<-Math.PI/2||i>Math.PI/2?1:0,r.angle=i,s=Math.min(s,o/5),r.labelPos=[n[0]+u+Math.cos(i)*o,n[1]+f+Math.sin(i)*o,n[0]+u+Math.cos(i)*s,n[1]+f+Math.sin(i)*s,n[0]+u,n[1]+f,0>o?"center":r.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var n=this,u=n.chart.renderer,r,t,f,e,s=n.options.shadow;s&&!n.shadowGroup&&(n.shadowGroup=u.g("shadow").add(n.group));i(n.points,function(i){if(null!==i.y){t=i.graphic;e=i.shapeArgs;r=i.sliced?i.slicedTranslation:{};var h=i.shadowGroup;s&&!h&&(h=i.shadowGroup=u.g("shadow").add(n.shadowGroup));h&&h.attr(r);f=n.pointAttribs(i,i.selected&&"select");t?t.setRadialReference(n.center).attr(f).animate(o(e,r)):(i.graphic=t=u[i.shapeType](e).addClass(i.getClassName()).setRadialReference(n.center).attr(r).add(n.group),i.visible||t.attr({visibility:"hidden"}),t.attr(f).attr({"stroke-linejoin":"round"}).shadow(s,h))}})},searchPoint:f,sortByAngle:function(n,t){n.sort(function(n,i){return void 0!==n.angle&&(i.angle-n.angle)*t})},drawLegendSymbol:n.LegendSymbolMixin.drawRectangle,getCenter:n.CenteredSeriesMixin.getCenter,getSymbol:f},{init:function(){s.prototype.init.apply(this,arguments);var n=this,i;return n.name=t(n.name,"Slice"),i=function(t){n.slice("select"===t.type)},r(n,"select",i),r(n,"unselect",i),n},setVisible:function(n,r){var f=this,e=f.series,o=e.chart,s=e.options.ignoreHiddenPoint;r=t(r,s);n!==f.visible&&(f.visible=f.options.visible=n=void 0===n?!f.visible:n,e.options.data[u(f,e.data)]=f.options,i(["graphic","dataLabel","connector","shadowGroup"],function(t){f[t]&&f[t][n?"show":"hide"](!0)}),f.legendItem&&o.legend.colorizeItem(f,n),n||"hover"!==f.state||f.setState(""),s&&(e.isDirty=!0),r&&o.redraw())},slice:function(n,i,r){var f=this.series;l(r,f.chart);t(i,!0);this.sliced=this.options.sliced=n=e(n)?n:!this.sliced;f.options.data[u(this,f.data)]=this.options;n=n?this.slicedTranslation:{translateX:0,translateY:0};this.graphic.animate(n);this.shadowGroup&&this.shadowGroup.animate(n)},haloPath:function(n){var t=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(t.x,t.y,t.r+n,t.r+n,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}})}(n),function(n){var c=n.addEvent,l=n.arrayMax,e=n.defined,r=n.each,o=n.extend,a=n.format,s=n.map,h=n.merge,v=n.noop,t=n.pick,y=n.relativeLength,u=n.Series,i=n.seriesTypes,f=n.stableSort;n.distribute=function(n,t){function h(n,t){return n.target-t.target}for(var u=!0,o=n,c=[],e=0,i=n.length;i--;)e+=n[i].size;if(e>t){for(f(n,function(n,t){return(t.rank||0)-(n.rank||0)}),e=i=0;e<=t;)e+=n[i].size,i++;c=n.splice(i-1,n.length)}for(f(n,h),n=s(n,function(n){return{size:n.size,targets:[n.target]}});u;){for(i=n.length;i--;)u=n[i],e=(Math.min.apply(0,u.targets)+Math.max.apply(0,u.targets))/2,u.pos=Math.min(Math.max(0,e-u.size/2),t-u.size);for(i=n.length,u=!1;i--;)0<i&&n[i-1].pos+n[i-1].size>n[i].pos&&(n[i-1].size+=n[i].size,n[i-1].targets=n[i-1].targets.concat(n[i].targets),n[i-1].pos+n[i-1].size>t&&(n[i-1].pos=t-n[i-1].size),n.splice(i,1),u=!0)}i=0;r(n,function(n){var t=0;r(n.targets,function(){o[i].pos=n.pos+t;t+=o[i].size;i++})});o.push.apply(o,c);f(o,h)};u.prototype.drawDataLabels=function(){var i=this,u=i.options,n=u.dataLabels,w=i.points,s,l,v=i.hasRendered||0,f,o,y=t(n.defer,!0),p=i.chart.renderer;(n.enabled||i._hasPointLabels)&&(i.dlProcessOptions&&i.dlProcessOptions(n),o=i.plotGroup("dataLabelsGroup","data-labels",y&&!v?"hidden":"visible",n.zIndex||6),y&&(o.attr({opacity:+v}),v||c(i,"afterAnimate",function(){i.visible&&o.show(!0);o[u.animation?"animate":"attr"]({opacity:1},{duration:200})})),l=n,r(w,function(r){var w,c=r.dataLabel,v,b,k,d=r.connector,g=!c,y;if(s=r.dlOptions||r.options&&r.options.dataLabels,w=t(s&&s.enabled,l.enabled)&&null!==r.y)for(b in n=h(l,s),v=r.getLabelConfig(),f=n.format?a(n.format,v):n.formatter.call(v,n),y=n.style,k=n.rotation,y.color=t(n.color,y.color,i.color,"#000000"),"contrast"===y.color&&(y.color=n.inside||0>n.distance||u.stacking?p.getContrast(r.color||i.color):"#000000"),u.cursor&&(y.cursor=u.cursor),v={fill:n.backgroundColor,stroke:n.borderColor,"stroke-width":n.borderWidth,r:n.borderRadius||0,rotation:k,padding:n.padding,zIndex:1},v)void 0===v[b]&&delete v[b];!c||w&&e(f)?w&&e(f)&&(c?v.text=f:(c=r.dataLabel=p[k?"text":"label"](f,0,-9999,n.shape,null,null,n.useHTML,null,"data-label"),c.addClass("highcharts-data-label-color-"+r.colorIndex+" "+(n.className||"")+(n.useHTML?"highcharts-tracker":""))),c.attr(v),c.css(y).shadow(n.shadow),c.added||c.add(o),i.alignDataLabel(r,c,n,null,g)):(r.dataLabel=c.destroy(),d&&(r.connector=d.destroy()))}))};u.prototype.alignDataLabel=function(n,i,r,u,f){var c=this.chart,e=c.inverted,s=t(n.plotX,-9999),y=t(n.plotY,-9999),h=i.getBBox(),l,a=r.rotation,v=r.align,p=this.visible&&(n.series.forceDL||c.isInsidePlot(s,Math.round(y),e)||u&&c.isInsidePlot(s,e?u.x+1:u.y+u.height-1,e)),w="justify"===t(r.overflow,"justify");p&&(l=r.style.fontSize,l=c.renderer.fontMetrics(l,i).b,u=o({x:e?c.plotWidth-y:s,y:Math.round(e?c.plotHeight-s:y),width:0,height:0},u),o(r,{width:h.width,height:h.height}),a?(w=!1,e=c.renderer.rotCorr(l,a),e={x:u.x+r.x+u.width/2+e.x,y:u.y+r.y+{top:0,middle:.5,bottom:1}[r.verticalAlign]*u.height},i[f?"attr":"animate"](e).attr({align:v}),s=(a+720)%360,s=180<s&&360>s,"left"===v?e.y-=s?h.height:0:"center"===v?(e.x-=h.width/2,e.y-=h.height/2):"right"===v&&(e.x-=h.width,e.y-=s?0:h.height)):(i.align(r,null,u),e=i.alignAttr),w?this.justifyDataLabel(i,r,e,h,u,f):t(r.crop,!0)&&(p=c.isInsidePlot(e.x,e.y)&&c.isInsidePlot(e.x+h.width,e.y+h.height)),r.shape&&!a&&i.attr({anchorX:n.plotX,anchorY:n.plotY}));p||(i.attr({y:-9999}),i.placed=!1)};u.prototype.justifyDataLabel=function(n,t,i,r,u,f){var s=this.chart,c=t.align,l=t.verticalAlign,e,o,h=n.box?0:n.padding||0;e=i.x+h;0>e&&("right"===c?t.align="left":t.x=-e,o=!0);e=i.x+r.width-h;e>s.plotWidth&&("left"===c?t.align="right":t.x=s.plotWidth-e,o=!0);e=i.y+h;0>e&&("bottom"===l?t.verticalAlign="top":t.y=-e,o=!0);e=i.y+r.height-h;e>s.plotHeight&&("top"===l?t.verticalAlign="bottom":t.y=s.plotHeight-e,o=!0);o&&(n.placed=!f,n.align(t,null,u))};i.pie&&(i.pie.prototype.drawDataLabels=function(){var i=this,st=i.data,g,nt=i.chart,o=i.options.dataLabels,y=t(o.connectorPadding,10),rt=t(o.connectorWidth,1),ut=nt.plotWidth,ft=nt.plotHeight,h,w=o.distance,tt=i.center,it=tt[2]/2,et=tt[1],ht=0<w,c,b,p,k,ot=[[],[]],a,f,d,v,e=[0,0,0,0];i.visible&&(o.enabled||i._hasPointLabels)&&(u.prototype.drawDataLabels.apply(i),r(st,function(n){n.dataLabel&&n.visible&&(ot[n.half].push(n),n.dataLabel._pos=null)}),r(ot,function(t,r){var h,rt,st=t.length,u,ot,l;if(st)for(i.sortByAngle(t,r-.5),0<w&&(h=Math.max(0,et-it-w),rt=Math.min(et+it+w,nt.plotHeight),u=s(t,function(n){if(n.dataLabel)return l=n.dataLabel.getBBox().height||21,{target:n.labelPos[1]-h+l/2,size:l,rank:n.y}}),n.distribute(u,rt+l-h)),v=0;v<st;v++)g=t[v],p=g.labelPos,c=g.dataLabel,d=!1===g.visible?"hidden":"inherit",ot=p[1],u?void 0===u[v].pos?d="hidden":(k=u[v].size,f=h+u[v].pos):f=ot,a=o.justify?tt[0]+(r?-1:1)*(it+w):i.getX(f<h+2||f>rt-2?ot:f,r),c._attr={visibility:d,align:p[6]},c._pos={x:a+o.x+({left:y,right:-y}[p[6]]||0),y:f+o.y-10},p.x=a,p.y=f,null===i.options.size&&(b=c.width,a-b<y?e[3]=Math.max(Math.round(b-a+y),e[3]):a+b>ut-y&&(e[1]=Math.max(Math.round(a+b-ut+y),e[1])),0>f-k/2?e[0]=Math.max(Math.round(-f+k/2),e[0]):f+k/2>ft&&(e[2]=Math.max(Math.round(f+k/2-ft),e[2])))}),0===l(e)||this.verifyDataLabelOverflow(e))&&(this.placeDataLabels(),ht&&rt&&r(this.points,function(n){var t;h=n.connector;(c=n.dataLabel)&&c._pos&&n.visible?(d=c._attr.visibility,(t=!h)&&(n.connector=h=nt.renderer.path().addClass("highcharts-data-label-connector highcharts-color-"+n.colorIndex).add(i.dataLabelsGroup),h.attr({"stroke-width":rt,stroke:o.connectorColor||n.color||"#666666"})),h[t?"attr":"animate"]({d:i.connectorPath(n.labelPos)}),h.attr("visibility",d)):h&&(n.connector=h.destroy())}))},i.pie.prototype.connectorPath=function(n){var i=n.x,r=n.y;return t(this.options.dataLabels.softConnector,!0)?["M",i+("left"===n[6]?5:-5),r,"C",i,r,2*n[2]-n[4],2*n[3]-n[5],n[2],n[3],"L",n[4],n[5]]:["M",i+("left"===n[6]?5:-5),r,"L",n[2],n[3],"L",n[4],n[5]]},i.pie.prototype.placeDataLabels=function(){r(this.points,function(n){var t=n.dataLabel;t&&n.visible&&((n=t._pos)?(t.attr(t._attr),t[t.moved?"animate":"attr"](n),t.moved=!0):t&&t.attr({y:-9999}))})},i.pie.prototype.alignDataLabel=v,i.pie.prototype.verifyDataLabelOverflow=function(n){var t=this.center,u=this.options,f=u.center,r=u.minSize||80,i,e;return null!==f[0]?i=Math.max(t[2]-Math.max(n[1],n[3]),r):(i=Math.max(t[2]-n[1]-n[3],r),t[0]+=(n[3]-n[1])/2),null!==f[1]?i=Math.max(Math.min(i,t[2]-Math.max(n[0],n[2])),r):(i=Math.max(Math.min(i,t[2]-n[0]-n[2]),r),t[1]+=(n[0]-n[2])/2),i<t[2]?(t[2]=i,t[3]=Math.min(y(u.innerSize||0,i),i),this.translate(t),this.drawDataLabels&&this.drawDataLabels()):e=!0,e});i.column&&(i.column.prototype.alignDataLabel=function(n,i,r,f,e){var s=this.chart.inverted,c=n.series,o=n.dlBox||n.shapeArgs,l=t(n.below,n.plotY>t(this.translatedThreshold,c.yAxis.len)),a=t(r.inside,!!this.options.stacking);o&&(f=h(o),0>f.y&&(f.height+=f.y,f.y=0),o=f.y+f.height-c.yAxis.len,0<o&&(f.height-=o),s&&(f={x:c.yAxis.len-f.y-f.height,y:c.xAxis.len-f.x-f.width,width:f.height,height:f.width}),a||(s?(f.x+=l?0:f.width,f.width=0):(f.y+=l?f.height:0,f.height=0)));r.align=t(r.align,!s||a?"center":l?"right":"left");r.verticalAlign=t(r.verticalAlign,s||a?"middle":l?"top":"bottom");u.prototype.alignDataLabel.call(this,n,i,r,f,e)})}(n),function(n){var i=n.Chart,t=n.each,r=n.pick,u=n.addEvent;i.prototype.callbacks.push(function(n){function i(){var i=[];t(n.series,function(n){var u=n.options.dataLabels,f=n.dataLabelCollections||["dataLabel"];(u.enabled||n._hasPointLabels)&&!u.allowOverlap&&n.visible&&t(f,function(u){t(n.points,function(n){n[u]&&(n[u].labelrank=r(n.labelrank,n.shapeArgs&&n.shapeArgs.height),i.push(n[u]))})})});n.hideOverlappingLabels(i)}i();u(n,"redraw",i)});i.prototype.hideOverlappingLabels=function(n){for(var s=n.length,f,i,r,o,h,c,l,e,a=function(n,t,i,r,u,f,e,o){return!(u>n+i||u+e<n||f>t+r||f+o<t)},u=0;u<s;u++)(f=n[u])&&(f.oldOpacity=f.opacity,f.newOpacity=1);for(n.sort(function(n,t){return(t.labelrank||0)-(n.labelrank||0)}),u=0;u<s;u++)for(i=n[u],f=u+1;f<s;++f)(r=n[f],i&&r&&i.placed&&r.placed&&0!==i.newOpacity&&0!==r.newOpacity&&(o=i.alignAttr,h=r.alignAttr,c=i.parentGroup,l=r.parentGroup,e=2*(i.box?0:i.padding),o=a(o.x+c.translateX,o.y+c.translateY,i.width-e,i.height-e,h.x+l.translateX,h.y+l.translateY,r.width-e,r.height-e)))&&((i.labelrank<r.labelrank?i:r).newOpacity=0);t(n,function(n){var i,t;n&&(t=n.newOpacity,n.oldOpacity!==t&&n.placed&&(t?n.show(!0):i=function(){n.hide()},n.alignAttr.opacity=t,n[n.isOld?"animate":"attr"](n.alignAttr,null,i)),n.isOld=!0)})}}(n),function(n){var o=n.addEvent,l=n.Chart,a=n.createElement,s=n.css,h=n.defaultOptions,v=n.defaultPlotOptions,t=n.each,u=n.extend,i=n.fireEvent,c=n.hasTouch,e=n.inArray,y=n.isObject,p=n.Legend,w=n.merge,f=n.pick,b=n.Point,k=n.Series,r=n.seriesTypes,d=n.svg;n=n.TrackerMixin={drawTrackerPoint:function(){var n=this,i=n.chart,u=i.pointer,r=function(n){for(var r=n.target,t;r&&!t;)t=r.point,r=r.parentNode;if(void 0!==t&&t!==i.hoverPoint)t.onMouseOver(n)};t(n.points,function(n){n.graphic&&(n.graphic.element.point=n);n.dataLabel&&(n.dataLabel.div?n.dataLabel.div.point=n:n.dataLabel.element.point=n)});n._hasTracking||(t(n.trackerGroups,function(t){if(n[t]){n[t].addClass("highcharts-tracker").on("mouseover",r).on("mouseout",function(n){u.onTrackerMouseOut(n)});if(c)n[t].on("touchstart",r);n.options.cursor&&n[t].css(s).css({cursor:n.options.cursor})}}),n._hasTracking=!0)},drawTrackerGraph:function(){var n=this,e=n.options,u=e.trackByArea,r=[].concat(u?n.areaPath:n.graphPath),o=r.length,f=n.chart,v=f.pointer,y=f.renderer,s=f.options.tooltip.snap,h=n.tracker,i,l=function(){f.hoverSeries!==n&&n.onMouseOver()},a="rgba(192,192,192,"+(d?.0001:.002)+")";if(o&&!u)for(i=o+1;i--;)"M"===r[i]&&r.splice(i+1,0,r[i+1]-s,r[i+2],"L"),(i&&"M"===r[i]||i===o)&&r.splice(i,0,"L",r[i-2]+s,r[i-1]);h?h.attr({d:r}):n.graph&&(n.tracker=y.path(r).attr({"stroke-linejoin":"round",visibility:n.visible?"visible":"hidden",stroke:a,fill:u?a:"none","stroke-width":n.graph.strokeWidth()+(u?0:2*s),zIndex:2}).add(n.group),t([n.tracker,n.markerGroup],function(n){n.addClass("highcharts-tracker").on("mouseover",l).on("mouseout",function(n){v.onTrackerMouseOut(n)});if(e.cursor&&n.css({cursor:e.cursor}),c)n.on("touchstart",l)}))}};r.column&&(r.column.prototype.drawTracker=n.drawTrackerPoint);r.pie&&(r.pie.prototype.drawTracker=n.drawTrackerPoint);r.scatter&&(r.scatter.prototype.drawTracker=n.drawTrackerPoint);u(p.prototype,{setItemEvents:function(n,t,r){var u=this,f=u.chart,e="highcharts-legend-"+(n.series?"point":"series")+"-active";(r?t:n.legendGroup).on("mouseover",function(){n.setState("hover");f.seriesGroup.addClass(e);t.css(u.options.itemHoverStyle)}).on("mouseout",function(){t.css(n.visible?u.itemStyle:u.itemHiddenStyle);f.seriesGroup.removeClass(e);n.setState()}).on("click",function(t){var r=function(){n.setVisible&&n.setVisible()};t={browserEvent:t};n.firePointEvent?n.firePointEvent("legendItemClick",t,r):i(n,"legendItemClick",t,r)})},createCheckboxForItem:function(n){n.checkbox=a("input",{type:"checkbox",checked:n.selected,defaultChecked:n.selected},this.options.itemCheckboxStyle,this.chart.container);o(n.checkbox,"click",function(t){i(n.series||n,"checkboxClick",{checked:t.target.checked,item:n},function(){n.select()})})}});h.legend.itemStyle.cursor="pointer";u(l.prototype,{showResetZoom:function(){var t=this,i=h.lang,n=t.options.chart.resetZoomButton,r=n.theme,u=r.states,f="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(i.resetZoom,null,null,function(){t.zoomOut()},r,u&&u.hover).attr({align:n.position.align,title:i.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(n.position,!1,f)},zoomOut:function(){var n=this;i(n,"selection",{resetSelection:!0},function(){n.zoom()})},zoom:function(n){var r,e=this.pointer,u=!1,i;!n||n.resetSelection?t(this.axes,function(n){r=n.zoom()}):t(n.xAxis.concat(n.yAxis),function(n){var t=n.axis;e[t.isXAxis?"zoomX":"zoomY"]&&(r=t.zoom(n.min,n.max),t.displayBtn&&(u=!0))});i=this.resetZoomButton;u&&!i?this.showResetZoom():!u&&y(i)&&(this.resetZoomButton=i.destroy());r&&this.redraw(f(this.options.chart.animation,n&&n.animation,100>this.pointCount))},pan:function(n,i){var r=this,u=r.hoverPoints,f;u&&t(u,function(n){n.setState()});t("xy"===i?[1,0]:[1],function(t){t=r[t?"xAxis":"yAxis"][0];var o=t.horiz,h=n[o?"chartX":"chartY"],o=o?"mouseDownX":"mouseDownY",s=r[o],i=(t.pointRange||0)/2,u=t.getExtremes(),e=t.toValue(s-h,!0)+i,i=t.toValue(s+t.len-h,!0)-i,c=i<e,s=c?i:e,e=c?e:i,i=Math.min(u.dataMin,u.min)-s,u=e-Math.max(u.dataMax,u.max);t.series.length&&0>i&&0>u&&(t.setExtremes(s,e,!1,!1,{trigger:"pan"}),f=!0);r[o]=h});f&&r.redraw(!1);s(r.container,{cursor:"move"})}});u(b.prototype,{select:function(n,i){var r=this,u=r.series,o=u.chart;n=f(n,!r.selected);r.firePointEvent(n?"select":"unselect",{accumulate:i},function(){r.selected=r.options.selected=n;u.options.data[e(r,u.data)]=r.options;r.setState(n&&"select");i||t(o.getSelectedPoints(),function(n){n.selected&&n!==r&&(n.selected=n.options.selected=!1,u.options.data[e(n,u.data)]=n.options,n.setState(""),n.firePointEvent("unselect"))})})},onMouseOver:function(n,t){var i=this.series,r=i.chart,u=r.tooltip,f=r.hoverPoint;this.series&&(t||(f&&f!==this&&f.onMouseOut(),r.hoverSeries!==i&&i.onMouseOver(),r.hoverPoint=this),!u||u.shared&&!i.noSharedTooltip?u||this.setState("hover"):(this.setState("hover"),u.refresh(this,n)),this.firePointEvent("mouseOver"))},onMouseOut:function(){var n=this.series.chart,t=n.hoverPoints;this.firePointEvent("mouseOut");t&&-1!==e(this,t)||(this.setState(),n.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var n=w(this.series.options.point,this.options).events,t;this.events=n;for(t in n)o(this,t,n[t]);this.hasImportedEvents=!0}},setState:function(n,t){var h=Math.floor(this.plotX),w=this.plotY,i=this.series,y=i.options.states[n]||{},e=v[i.type].marker&&i.options.marker,b=e&&!1===e.enabled,l=e&&e.states&&e.states[n]||{},k=!1===l.enabled,r=i.stateMarkerGraphic,a=this.marker||{},c=i.chart,o=i.halo,s,p=e&&i.markerAttribs;n=n||"";n===this.state&&!t||this.selected&&"select"!==n||!1===y.enabled||n&&(k||b&&!1===l.enabled)||n&&a.states&&a.states[n]&&!1===a.states[n].enabled||(p&&(s=i.markerAttribs(this,n)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),n&&this.graphic.addClass("highcharts-point-"+n),this.graphic.attr(i.pointAttribs(this,n)),s&&this.graphic.animate(s,f(c.options.chart.animation,l.animation,e.animation)),r&&r.hide()):(n&&l&&(e=a.symbol||i.symbol,r&&r.currentSymbol!==e&&(r=r.destroy()),r?r[t?"animate":"attr"]({x:s.x,y:s.y}):e&&(i.stateMarkerGraphic=r=c.renderer.symbol(e,s.x,s.y,s.width,s.height).add(i.markerGroup),r.currentSymbol=e),r&&r.attr(i.pointAttribs(this,n))),r&&(r[n&&c.isInsidePlot(h,w,c.inverted)?"show":"hide"](),r.element.point=this)),(h=y.halo)&&h.size?(o||(i.halo=o=c.renderer.path().add(p?i.markerGroup:i.group)),o[t?"animate":"attr"]({d:this.haloPath(h.size)}),o.attr({"class":"highcharts-halo highcharts-color-"+f(this.colorIndex,i.colorIndex)}),o.point=this,o.attr(u({fill:this.color||i.color,"fill-opacity":h.opacity,zIndex:-1},h.attributes))):o&&o.point&&o.point.haloPath&&o.animate({d:o.point.haloPath(0)}),this.state=n)},haloPath:function(n){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-n,this.plotY-n,2*n,2*n)}});u(k.prototype,{onMouseOver:function(){var t=this.chart,n=t.hoverSeries;n&&n!==this&&n.onMouseOut();this.options.events.mouseOver&&i(this,"mouseOver");this.setState("hover");t.hoverSeries=this},onMouseOut:function(){var r=this.options,n=this.chart,t=n.tooltip,u=n.hoverPoint;n.hoverSeries=null;u&&u.onMouseOut();this&&r.events.mouseOut&&i(this,"mouseOut");!t||r.stickyTracking||t.shared&&!this.noSharedTooltip||t.hide();this.setState()},setState:function(n){var i=this,u=i.options,f=i.graph,r=u.states,e=u.lineWidth,u=0;if(n=n||"",i.state!==n&&(t([i.group,i.markerGroup],function(t){t&&(i.state&&t.removeClass("highcharts-series-"+i.state),n&&t.addClass("highcharts-series-"+n))}),i.state=n,!r[n]||!1!==r[n].enabled)&&(n&&(e=r[n].lineWidth||e+(r[n].lineWidthPlus||0)),f&&!f.dashstyle))for(r={"stroke-width":e},f.attr(r);i["zone-graph-"+u];)i["zone-graph-"+u].attr(r),u+=1},setVisible:function(n,r){var u=this,f=u.chart,o=u.legendItem,e,s=f.options.chart.ignoreHiddenSeries,h=u.visible;e=(u.visible=n=u.options.visible=u.userOptions.visible=void 0===n?!h:n)?"show":"hide";t(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(n){u[n]&&u[n][e]()});(f.hoverSeries===u||(f.hoverPoint&&f.hoverPoint.series)===u)&&u.onMouseOut();o&&f.legend.colorizeItem(u,n);u.isDirty=!0;u.options.stacking&&t(f.series,function(n){n.options.stacking&&n.visible&&(n.isDirty=!0)});t(u.linkedSeries,function(t){t.setVisible(n,!1)});s&&(f.isDirtyBox=!0);!1!==r&&f.redraw();i(u,e)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(n){this.selected=n=void 0===n?!this.selected:n;this.checkbox&&(this.checkbox.checked=n);i(this,n?"select":"unselect")},drawTracker:n.drawTrackerGraph})}(n),function(n){var i=n.Chart,r=n.each,u=n.inArray,f=n.isObject,t=n.pick,e=n.splat;i.prototype.setResponsive=function(n){var t=this.options.responsive;t&&t.rules&&r(t.rules,function(t){this.matchResponsiveRule(t,n)},this)};i.prototype.matchResponsiveRule=function(i,r){var u=this.respRules,f=i.condition,e;e=f.callback||function(){return this.chartWidth<=t(f.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=t(f.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=t(f.minWidth,0)&&this.chartHeight>=t(f.minHeight,0)};void 0===i._id&&(i._id=n.uniqueKey());e=e.call(this);!u[i._id]&&e?i.chartOptions&&(u[i._id]=this.currentOptions(i.chartOptions),this.update(i.chartOptions,r)):u[i._id]&&!e&&(this.update(u[i._id],r),delete u[i._id])};i.prototype.currentOptions=function(n){function t(n,i,r,o){var s,h;for(s in n)if(!o&&-1<u(s,["series","xAxis","yAxis"]))for(n[s]=e(n[s]),r[s]=[],h=0;h<n[s].length;h++)r[s][h]={},t(n[s][h],i[s][h],r[s][h],o+1);else f(n[s])?(r[s]={},t(n[s],i[s]||{},r[s],o+1)):r[s]=i[s]||null}var i={};return t(n,this.options,i,0),i}}(n),n}),function(n){"object"==typeof module&&module.exports?module.exports=n:n(Highcharts)}(function(n){(function(n){function t(n,t,i){this.init(n,t,i)}var r=n.each,u=n.extend,i=n.merge,f=n.splat;u(t.prototype,{init:function(n,t,u){var e=this,o=e.defaultOptions;e.chart=t;e.options=n=i(o,t.angular?{background:{}}:void 0,n);(n=n.background)&&r([].concat(f(n)).reverse(),function(n){var t,r=u.userOptions;t=i(e.defaultBackgroundOptions,n);n.backgroundColor&&(t.backgroundColor=n.backgroundColor);t.color=t.backgroundColor;u.options.plotBands.unshift(t);r.plotBands=r.plotBands||[];r.plotBands!==u.options.plotBands&&r.plotBands.unshift(t)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{className:"highcharts-pane",shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});n.Pane=t})(n),function(n){var e=n.CenteredSeriesMixin,o=n.each,s=n.extend,l=n.map,h=n.merge,u=n.noop,a=n.Pane,t=n.pick,v=n.pInt,y=n.splat,i=n.wrap,c,f,r=n.Axis.prototype;n=n.Tick.prototype;c={getOffset:u,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:u,setCategories:u,setTitle:u};f={defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(n){n=this.options=h(this.defaultOptions,this.defaultRadialOptions,n);n.plotBands||(n.plotBands=[])},getOffset:function(){r.getOffset.call(this);this.chart.axisOffset[this.side]=0;this.center=this.pane.center=e.getCenter.call(this.pane)},getLinePath:function(n,i){n=this.center;var u=this.chart,r=t(i,n[2]/2-this.offset);return this.isCircular||void 0!==i?i=this.chart.renderer.symbols.arc(this.left+n[0],this.top+n[1],r,r,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}):(i=this.postTranslate(this.angleRad,r),i=["M",n[0]+u.plotLeft,n[1]+u.plotTop,"L",i.x,i.y]),i},setAxisTranslation:function(){r.setAxisTranslation.call(this);this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)},beforeSetTickPositions:function(){(this.autoConnect=this.isCircular&&void 0===t(this.userMax,this.options.max)&&this.endAngleRad-this.startAngleRad==2*Math.PI)&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){r.setAxisSize.call(this);this.isRadial&&(this.center=this.pane.center=e.getCenter.call(this.pane),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*t(this.sector,1)/2)},getPosition:function(n,i){return this.postTranslate(this.isCircular?this.translate(n):this.angleRad,t(this.isCircular?i:this.translate(n),this.center[2]/2)-this.offset)},postTranslate:function(n,t){var i=this.chart,r=this.center;return n=this.startAngleRad+n,{x:i.plotLeft+r[0]+Math.cos(n)*t,y:i.plotTop+r[1]+Math.sin(n)*t}},getPlotBandPath:function(n,i,r){var f=this.center,e=this.startAngleRad,c=f[2]/2,u=[t(r.outerRadius,"100%"),r.innerRadius,t(r.thickness,10)],o=Math.min(this.offset,0),a=/%$/,s,h=this.isCircular;return"polygon"===this.options.gridLineInterpolation?f=this.getPlotLinePath(n).concat(this.getPlotLinePath(i,!0)):(n=Math.max(n,this.min),i=Math.min(i,this.max),h||(u[0]=this.translate(n),u[1]=this.translate(i)),u=l(u,function(n){return a.test(n)&&(n=v(n,10)*c/100),n}),"circle"!==r.shape&&h?(n=e+this.translate(n),i=e+this.translate(i)):(n=-Math.PI/2,i=1.5*Math.PI,s=!0),u[0]-=o,u[2]-=o,f=this.chart.renderer.symbols.arc(this.left+f[0],this.top+f[1],u[0],u[0],{start:Math.min(n,i),end:Math.max(n,i),innerR:t(u[1],u[0]-u[2]),open:s})),f},getPlotLinePath:function(n,t){var i=this,r=i.center,e=i.chart,h=i.getPosition(n),f,s,u;return i.isCircular?u=["M",r[0]+e.plotLeft,r[1]+e.plotTop,"L",h.x,h.y]:"circle"===i.options.gridLineInterpolation?(n=i.translate(n))&&(u=i.getLinePath(0,n)):(o(e.xAxis,function(n){n.pane===i.pane&&(f=n)}),u=[],n=i.translate(n),r=f.tickPositions,f.autoConnect&&(r=r.concat([r[0]])),t&&(r=[].concat(r).reverse()),o(r,function(t,i){s=f.getPosition(t,n);u.push(i?"L":"M",s.x,s.y)})),u},getTitlePosition:function(){var n=this.center,i=this.chart,t=this.options.title;return{x:i.plotLeft+n[0]+(t.x||0),y:i.plotTop+n[1]-{high:.5,middle:.25,low:0}[t.align]*n[2]+(t.y||0)}}};i(r,"init",function(n,i,r){var u=i.angular,e=i.polar,o=r.isX,p=u&&o,l,w=i.options,v=r.pane||0;u?(s(this,p?c:f),l=!o)&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions):e&&(s(this,f),this.defaultRadialOptions=(l=o)?this.defaultRadialXOptions:h(this.defaultYAxisOptions,this.defaultRadialYOptions));u||e?(this.isRadial=!0,i.inverted=!1,w.chart.zoomType=null):this.isRadial=!1;n.call(this,i,r);!p&&(u||e)&&(n=this.options,i.panes||(i.panes=[]),this.pane=i=i.panes[v]=i.panes[v]||new a(y(w.pane)[v],i,this),i=i.options,this.angleRad=(n.angle||0)*Math.PI/180,this.startAngleRad=(i.startAngle-90)*Math.PI/180,this.endAngleRad=(t(i.endAngle,i.startAngle+360)-90)*Math.PI/180,this.offset=n.offset||0,this.isCircular=l)});i(r,"autoLabelAlign",function(n){if(!this.isRadial)return n.apply(this,[].slice.call(arguments,1))});i(n,"getPosition",function(n,t,i,r,u){var f=this.axis;return f.getPosition?f.getPosition(i):n.call(this,t,i,r,u)});i(n,"getLabelPosition",function(n,i,r,u,f,e,o,s,h){var c=this.axis,y=e.y,l=20,v=e.align,a=(c.translate(this.pos)+c.startAngleRad+Math.PI/2)/Math.PI*180%360;return c.isRadial?(n=c.getPosition(this.pos,c.center[2]/2+t(e.distance,-25)),"auto"===e.rotation?u.attr({rotation:a}):null===y&&(y=c.chart.renderer.fontMetrics(u.styles.fontSize).b-u.getBBox().height/2),null===v&&(c.isCircular?(this.label.getBBox().width>c.len*c.tickInterval/(c.max-c.min)&&(l=0),v=a>l&&a<180-l?"left":a>180+l&&a<360-l?"right":"center"):v="center",u.attr({align:v})),n.x+=e.x,n.y+=y):n=n.call(this,i,r,u,f,e,o,s,h),n});i(n,"getMarkPath",function(n,t,i,r,u,f,e){var o=this.axis;return o.isRadial?(n=o.getPosition(this.pos,o.center[2]/2+r),t=["M",t,i,"L",n.x,n.y]):t=n.call(this,t,i,r,u,f,e),t})}(n),function(n){var r=n.each,t=n.noop,u=n.pick,f=n.Series,e=n.seriesType,i=n.seriesTypes;e("arearange","area",{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●<\/span> {series.name}: <b>{point.low}<\/b> - <b>{point.high}<\/b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}},{pointArrayMap:["low","high"],dataLabelCollections:["dataLabel","dataLabelUpper"],toYData:function(n){return[n.low,n.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(n){var t=this.chart,i=this.xAxis.postTranslate(n.rectPlotX,this.yAxis.len-n.plotHigh);n.plotHighX=i.x-t.plotLeft;n.plotHigh=i.y-t.plotTop},translate:function(){var n=this,u=n.yAxis,t=!!n.modifyValue;i.area.prototype.translate.apply(n);r(n.points,function(i){var f=i.low,r=i.high,e=i.plotY;null===r||null===f?i.isNull=!0:(i.plotLow=e,i.plotHigh=u.translate(t?n.modifyValue(r,i):r,0,1,0,1),t&&(i.yBottom=i.plotHigh))});this.chart.polar&&r(this.points,function(t){n.highToXY(t)})},getGraphPath:function(n){var s=[],f=[],e,h=i.area.prototype.getGraphPath,t,c,r,l,o;for(r=this.options,l=this.chart.polar&&!1!==r.connectEnds,o=r.step,n=n||this.points,e=n.length;e--;)t=n[e],t.isNull||l||n[e+1]&&!n[e+1].isNull||f.push({plotX:t.plotX,plotY:t.plotY,doCurve:!1}),c={polarPlotY:t.polarPlotY,rectPlotX:t.rectPlotX,yBottom:t.yBottom,plotX:u(t.plotHighX,t.plotX),plotY:t.plotHigh,isNull:t.isNull},f.push(c),s.push(c),t.isNull||l||n[e-1]&&!n[e-1].isNull||f.push({plotX:t.plotX,plotY:t.plotY,doCurve:!1});return n=h.call(this,n),o&&(!0===o&&(o="left"),r.step={left:"right",center:"center",right:"left"}[o]),s=h.call(this,s),f=h.call(this,f),r.step=o,r=[].concat(n,s),this.chart.polar||"M"!==f[0]||(f[0]="L"),this.graphPath=r,this.areaPath=this.areaPath.concat(n,f),r.isArea=!0,r.xMap=n.xMap,this.areaPath.xMap=n.xMap,r},drawDataLabels:function(){var e=this.data,h=e.length,i,c=[],u=f.prototype,t=this.options.dataLabels,o=t.align,s=t.verticalAlign,l=t.inside,n,r,a=this.chart.inverted;if(t.enabled||this._hasPointLabels){for(i=h;i--;)(n=e[i])&&(r=l?n.plotHigh<n.plotLow:n.plotHigh>n.plotLow,n.y=n.high,n._plotY=n.plotY,n.plotY=n.plotHigh,c[i]=n.dataLabel,n.dataLabel=n.dataLabelUpper,n.below=r,a?o||(t.align=r?"right":"left"):s||(t.verticalAlign=r?"top":"bottom"),t.x=t.xHigh,t.y=t.yHigh);for(u.drawDataLabels&&u.drawDataLabels.apply(this,arguments),i=h;i--;)(n=e[i])&&(r=l?n.plotHigh<n.plotLow:n.plotHigh>n.plotLow,n.dataLabelUpper=n.dataLabel,n.dataLabel=c[i],n.y=n.low,n.plotY=n._plotY,n.below=!r,a?o||(t.align=r?"left":"right"):s||(t.verticalAlign=r?"bottom":"top"),t.x=t.xLow,t.y=t.yLow);u.drawDataLabels&&u.drawDataLabels.apply(this,arguments)}t.align=o;t.verticalAlign=s},alignDataLabel:function(){i.column.prototype.alignDataLabel.apply(this,arguments)},setStackedPoints:t,getSymbol:t,drawPoints:t})}(n),function(n){var t=n.seriesType;t("areasplinerange","arearange",null,{getPointSpline:n.seriesTypes.spline.prototype.getPointSpline})}(n),function(n){var i=n.defaultPlotOptions,r=n.each,u=n.merge,f=n.noop,e=n.pick,o=n.seriesType,t=n.seriesTypes.column.prototype;o("columnrange","arearange",u(i.column,i.arearange,{lineWidth:1,pointRange:null}),{translate:function(){var n=this,u=n.yAxis,f=n.xAxis,h=f.startAngleRad,o,i=n.chart,c=n.xAxis.isRadial,s;t.translate.apply(n);r(n.points,function(t){var a=t.shapeArgs,v=n.options.minPointLength,r,l;t.plotHigh=s=u.translate(t.high,0,1,0,1);t.plotLow=t.plotY;l=s;r=e(t.rectPlotY,t.plotY)-s;Math.abs(r)<v?(v-=r,r+=v,l-=v/2):0>r&&(r*=-1,l-=r);c?(o=t.barX+h,t.shapeType="path",t.shapeArgs={d:n.polarArc(l+r,l,o,o+t.pointWidth)}):(a.height=r,a.y=l,t.tooltipPos=i.inverted?[u.len+u.pos-i.plotLeft-l-r/2,f.len+f.pos-i.plotTop-a.x-a.width/2,r]:[f.left-i.plotLeft+a.x+a.width/2,u.pos-i.plotTop+l+r/2,r])})},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:f,crispCol:t.crispCol,drawPoints:t.drawPoints,drawTracker:t.drawTracker,getColumnMetrics:t.getColumnMetrics,animate:function(){return t.animate.apply(this,arguments)},polarArc:function(){return t.polarArc.apply(this,arguments)},pointAttribs:t.pointAttribs})}(n),function(n){var i=n.each,o=n.isNumber,u=n.merge,t=n.pick,r=n.pInt,f=n.Series,s=n.seriesType,e=n.TrackerMixin;s("gauge","line",{dataLabels:{enabled:!0,defer:!1,y:15,borderRadius:3,crop:!1,verticalAlign:"top",zIndex:2,borderWidth:1,borderColor:"#cccccc"},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1},{angular:!0,directTouch:!0,drawGraph:n.noop,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var n=this.yAxis,e=this.options,f=n.center;this.generatePoints();i(this.points,function(i){var h=u(e.dial,i.dial),l=r(t(h.radius,80))*f[2]/200,v=r(t(h.baseLength,70))*l/100,y=r(t(h.rearLength,10))*l/100,a=h.baseWidth||3,p=h.topWidth||1,c=e.overshoot,s=n.startAngleRad+n.translate(i.y,null,null,null,!0);o(c)?(c=c/180*Math.PI,s=Math.max(n.startAngleRad-c,Math.min(n.endAngleRad+c,s))):!1===e.wrap&&(s=Math.max(n.startAngleRad,Math.min(n.endAngleRad,s)));s=180*s/Math.PI;i.shapeType="path";i.shapeArgs={d:h.path||["M",-y,-a/2,"L",v,-a/2,l,-p/2,l,p/2,v,a/2,-y,a/2,"z"],translateX:f[0],translateY:f[1],rotation:s};i.plotX=f[0];i.plotY=f[1]})},drawPoints:function(){var n=this,r=n.yAxis.center,e=n.pivot,o=n.options,f=o.pivot,s=n.chart.renderer;i(n.points,function(t){var f=t.graphic,i=t.shapeArgs,e=i.d,r=u(o.dial,t.dial);f?(f.animate(i),i.d=e):(t.graphic=s[t.shapeType](i).attr({rotation:i.rotation,zIndex:1}).addClass("highcharts-dial").add(n.group),t.graphic.attr({stroke:r.borderColor||"none","stroke-width":r.borderWidth||0,fill:r.backgroundColor||"#000000"}))});e?e.animate({translateX:r[0],translateY:r[1]}):(n.pivot=s.circle(0,0,t(f.radius,5)).attr({zIndex:2}).addClass("highcharts-pivot").translate(r[0],r[1]).add(n.group),n.pivot.attr({"stroke-width":f.borderWidth||0,stroke:f.borderColor||"#cccccc",fill:f.backgroundColor||"#000000"}))},animate:function(n){var t=this;n||(i(t.points,function(n){var i=n.graphic;i&&(i.attr({rotation:180*t.yAxis.startAngleRad/Math.PI}),i.animate({rotation:n.shapeArgs.rotation},t.options.animation))}),t.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup);f.prototype.render.call(this);this.group.clip(this.chart.clipRect)},setData:function(n,i){f.prototype.setData.call(this,n,!1);this.processData();this.generatePoints();t(i,!0)&&this.chart.redraw()},drawTracker:e&&e.drawTrackerPoint},{setState:function(n){this.state=n}})}(n),function(n){var t=n.each,r=n.noop,i=n.pick,u=n.seriesType,f=n.seriesTypes;u("boxplot","column",{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●<\/span> <b> {series.name}<\/b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,states:{hover:{brightness:-.3}},whiskerWidth:2},{pointArrayMap:["low","q1","median","q3","high"],toYData:function(n){return[n.low,n.q1,n.median,n.q3,n.high]},pointValKey:"high",pointAttribs:function(n){var t=this.options,i=n&&n.color||this.color;return{fill:n.fillColor||t.fillColor||i,stroke:t.lineColor||i,"stroke-width":t.lineWidth||0}},drawDataLabels:r,translate:function(){var n=this.yAxis,i=this.pointArrayMap;f.column.prototype.translate.apply(this);t(this.points,function(r){t(i,function(t){null!==r[t]&&(r[t+"Plot"]=n.translate(r[t],0,1,0,1))})})},drawPoints:function(){var f=this,r=f.options,c=f.chart.renderer,s,o,l,a,w,n,u=0,b,e,v,k,y=!1!==f.doQuartiles,p,h=f.options.whiskerLength;t(f.points,function(t){var d=t.graphic,g=d?"animate":"attr",ut=t.shapeArgs,nt={},tt={},it={},rt=t.color||f.color;void 0!==t.plotY&&(b=ut.width,e=Math.floor(ut.x),v=e+b,k=Math.round(b/2),s=Math.floor(y?t.q1Plot:t.lowPlot),o=Math.floor(y?t.q3Plot:t.lowPlot),l=Math.floor(t.highPlot),a=Math.floor(t.lowPlot),d||(t.graphic=d=c.g("point").add(f.group),t.stem=c.path().addClass("highcharts-boxplot-stem").add(d),h&&(t.whiskers=c.path().addClass("highcharts-boxplot-whisker").add(d)),y&&(t.box=c.path(void 0).addClass("highcharts-boxplot-box").add(d)),t.medianShape=c.path(void 0).addClass("highcharts-boxplot-median").add(d),nt.stroke=t.stemColor||r.stemColor||rt,nt["stroke-width"]=i(t.stemWidth,r.stemWidth,r.lineWidth),nt.dashstyle=t.stemDashStyle||r.stemDashStyle,t.stem.attr(nt),h&&(tt.stroke=t.whiskerColor||r.whiskerColor||rt,tt["stroke-width"]=i(t.whiskerWidth,r.whiskerWidth,r.lineWidth),t.whiskers.attr(tt)),y&&(d=f.pointAttribs(t),t.box.attr(d)),it.stroke=t.medianColor||r.medianColor||rt,it["stroke-width"]=i(t.medianWidth,r.medianWidth,r.lineWidth),t.medianShape.attr(it)),n=t.stem.strokeWidth()%2/2,u=e+k+n,t.stem[g]({d:["M",u,o,"L",u,l,"M",u,s,"L",u,a]}),y&&(n=t.box.strokeWidth()%2/2,s=Math.floor(s)+n,o=Math.floor(o)+n,e+=n,v+=n,t.box[g]({d:["M",e,o,"L",e,s,"L",v,s,"L",v,o,"L",e,o,"z"]})),h&&(n=t.whiskers.strokeWidth()%2/2,l+=n,a+=n,p=/%$/.test(h)?k*parseFloat(h)/100:h/2,t.whiskers[g]({d:["M",u-p,l,"L",u+p,l,"M",u-p,a,"L",u+p,a]})),w=Math.round(t.medianPlot),n=t.medianShape.strokeWidth()%2/2,w+=n,t.medianShape[g]({d:["M",e,w,"L",v,w]}))})},setStackedPoints:r})}(n),function(n){var i=n.each,r=n.noop,u=n.seriesType,t=n.seriesTypes;u("errorbar","boxplot",{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●<\/span> {series.name}: <b>{point.low}<\/b> - <b>{point.high}<\/b><br/>'},whiskerWidth:null},{type:"errorbar",pointArrayMap:["low","high"],toYData:function(n){return[n.low,n.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:t.arearange?function(){var n=this.pointValKey;t.arearange.prototype.drawDataLabels.call(this);i(this.data,function(t){t.y=t[n]})}:r,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||t.column.prototype.getColumnMetrics.call(this)}})}(n),function(n){var t=n.correctFloat,u=n.isNumber,f=n.pick,e=n.Point,i=n.Series,o=n.seriesType,r=n.seriesTypes;o("waterfall","column",{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}},{pointValKey:"y",translate:function(){var l=this.options,u=this.yAxis,s,w,i,n,a,e,o,y,h,p=f(l.minPointLength,5),k=l.threshold,d=l.stacking,v=0,c=0,b;for(r.column.prototype.translate.apply(this),o=y=k,w=this.points,s=0,l=w.length;s<l;s++)i=w[s],e=this.processedYData[s],n=i.shapeArgs,a=d&&u.stacks[(this.negStacks&&e<k?"-":"")+this.stackKey],b=this.getStackIndicator(b,i.x),h=a?a[i.x].points[this.index+","+s+","+b.index]:[0,e],i.isSum?i.y=t(e):i.isIntermediateSum&&(i.y=t(e-y)),a=Math.max(o,o+i.y)+h[0],n.y=u.toPixels(a,!0),i.isSum?(n.y=u.toPixels(h[1],!0),n.height=Math.min(u.toPixels(h[0],!0),u.len)-n.y+v+c):i.isIntermediateSum?(n.y=u.toPixels(h[1],!0),n.height=Math.min(u.toPixels(y,!0),u.len)-n.y+v+c,y=h[1]):(n.height=0<e?u.toPixels(o,!0)-n.y:u.toPixels(o,!0)-u.toPixels(o-e,!0),o+=e),0>n.height&&(n.y+=n.height,n.height*=-1),i.plotY=n.y=Math.round(n.y)-this.borderWidth%2/2,n.height=Math.max(Math.round(n.height),.001),i.yBottom=n.y+n.height,n.y-=c,n.height<=p&&!i.isNull&&(n.height=p,0>i.y?c-=p:v+=p),n.y-=v,n=i.plotY-c-v+(i.negative&&0<=c?n.height:0),this.chart.inverted?i.tooltipPos[0]=u.len-n:i.tooltipPos[1]=n},processData:function(n){for(var e=this.yData,h=this.options.data,c,a=e.length,l,o,s,f,u=l=o=s=this.options.threshold||0,r=0;r<a;r++)f=e[r],c=h&&h[r]?h[r]:{},"sum"===f||c.isSum?e[r]=t(u):"intermediateSum"===f||c.isIntermediateSum?e[r]=t(l):(u+=f,l+=f),o=Math.min(u,o),s=Math.max(u,s);i.prototype.processData.call(this,n);this.dataMin=o;this.dataMax=s},toYData:function(n){return n.isSum?0===n.x?null:"sum":n.isIntermediateSum?0===n.x?null:"intermediateSum":n.y},pointAttribs:function(n,t){var i=this.options.upColor;return i&&!n.options.color&&(n.color=0<n.y?i:null),n=r.column.prototype.pointAttribs.call(this,n,t),delete n.dashstyle,n},getGraphPath:function(){return["M",0,0]},getCrispPath:function(){for(var r=this.data,e=r.length,u=this.graph.strokeWidth()+this.borderWidth,u=Math.round(u)%2/2,f=[],n,t,i=1;i<e;i++)t=r[i].shapeArgs,n=r[i-1].shapeArgs,t=["M",n.x+n.width,n.y+u,"L",t.x,n.y+u],0>r[i-1].y&&(t[2]+=n.height,t[5]+=n.height),f=f.concat(t);return f},drawGraph:function(){i.prototype.drawGraph.call(this);this.graph.attr({d:this.getCrispPath()})},getExtremes:n.noop},{getClassName:function(){var n=e.prototype.getClassName.call(this);return this.isSum?n+=" highcharts-sum":this.isIntermediateSum&&(n+=" highcharts-intermediate-sum"),n},isValid:function(){return u(this.y,!0)||this.isSum||this.isIntermediateSum}})}(n),function(n){var t=n.Series,i=n.seriesType,r=n.seriesTypes;i("polygon","scatter",{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0},{type:"polygon",getGraphPath:function(){for(var n=t.prototype.getGraphPath.call(this),i=n.length+1;i--;)(i===n.length||"M"===n[i])&&0<i&&n.splice(i,0,"z");return this.areaPath=n},drawGraph:function(){this.options.fillColor=this.color;r.area.prototype.drawGraph.call(this)},drawLegendSymbol:n.LegendSymbolMixin.drawRectangle,drawTracker:t.prototype.drawTracker,setStackedPoints:n.noop})}(n),function(n){var e=n.arrayMax,o=n.arrayMin,s=n.Axis,h=n.color,t=n.each,r=n.isNumber,u=n.noop,i=n.pick,c=n.pInt,l=n.Point,a=n.Series,v=n.seriesType,f=n.seriesTypes;v("bubble","scatter",{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["markerGroup","dataLabelsGroup"],bubblePadding:!0,zoneAxis:"z",pointAttribs:function(n,t){var r=i(this.options.marker.fillOpacity,.5);return n=a.prototype.pointAttribs.call(this,n,t),1!==r&&(n.fill=h(n.fill).setOpacity(r).get("rgba")),n},getRadii:function(n,t,i,r){for(var u,h=this.zData,c=[],e=this.options,a="width"!==e.sizeBy,o=e.zThreshold,l=t-n,f=0,s=h.length;f<s;f++)u=h[f],e.sizeByAbsoluteValue&&null!==u&&(u=Math.abs(u-o),t=Math.max(t-o,Math.abs(n-o)),n=0),null===u?u=null:u<n?u=i/2-1:(u=0<l?(u-n)/l:.5,a&&0<=u&&(u=Math.sqrt(u)),u=Math.ceil(i+u*(r-i))/2),c.push(u);this.radii=c},animate:function(n){var i=this.options.animation;n||(t(this.points,function(n){var t=n.graphic,r;t&&t.width&&(r={x:t.x,y:t.y,width:t.width,height:t.height},t.attr({x:n.plotX,y:n.plotY,width:1,height:1}),t.animate(r,i))}),this.animate=null)},translate:function(){var i,u=this.data,t,n,e=this.radii;for(f.scatter.prototype.translate.call(this),i=u.length;i--;)t=u[i],n=e?e[i]:0,r(n)&&n>=this.minPxSize/2?(t.marker={radius:n,width:2*n,height:2*n},t.dlBox={x:t.plotX-n,y:t.plotY-n,width:2*n,height:2*n}):t.shapeArgs=t.plotY=t.dlBox=void 0},alignDataLabel:f.column.prototype.alignDataLabel,buildKDTree:u,applyZones:u},{haloPath:function(n){return l.prototype.haloPath.call(this,0===n?0:this.marker.radius+n)},ttBelow:!1});s.prototype.beforePadding=function(){var n=this,u=this.len,a=this.chart,s=0,f=u,v=this.isXAxis,d=v?"xData":"yData",y=this.min,h={},g=Math.min(a.plotWidth,a.plotHeight),p=Number.MAX_VALUE,w=-Number.MAX_VALUE,b=this.max-y,l=u/b,k=[];t(this.series,function(r){var u=r.options;r.bubblePadding&&(r.visible||!a.options.chart.ignoreHiddenSeries)&&(n.allowZoomOutside=!0,k.push(r),v&&(t(["minSize","maxSize"],function(n){var t=u[n],i=/%$/.test(t),t=c(t);h[n]=i?g*t/100:t}),r.minPxSize=h.minSize,r.maxPxSize=Math.max(h.maxSize,h.minSize),r=r.zData,r.length&&(p=i(u.zMin,Math.min(p,Math.max(o(r),!1===u.displayNegative?u.zThreshold:-Number.MAX_VALUE))),w=i(u.zMax,Math.max(w,e(r))))))});t(k,function(t){var u=t[d],i=u.length,e;if(v&&t.getRadii(p,w,t.minPxSize,t.maxPxSize),0<b)for(;i--;)r(u[i])&&n.dataMin<=u[i]&&u[i]<=n.dataMax&&(e=t.radii[i],s=Math.min((u[i]-y)*l-e,s),f=Math.max((u[i]-y)*l+e,f))});k.length&&0<b&&!this.isLog&&(f-=u,l*=(u+s-f)/u,t([["min","userMin",s],["max","userMax",f]],function(t){void 0===i(n.options[t[0]],n[t[1]])&&(n[t[0]]+=t[2]/l)}))}}(n),function(n){function u(n,t){var i=this.chart,r=this.options.animation,f=this.group,u=this.markerGroup,e=this.xAxis.center,o=i.plotLeft,s=i.plotTop;i.polar?i.renderer.isSVG&&(!0===r&&(r={}),t?(n={translateX:e[0]+o,translateY:e[1]+s,scaleX:.001,scaleY:.001},f.attr(n),u&&u.attr(n)):(n={translateX:o,translateY:s,scaleX:1,scaleY:1},f.animate(n,r),u&&u.animate(n,r),this.animate=null)):n.call(this,t)}var f=n.each,e=n.pick,t=n.seriesTypes,i=n.wrap,r=n.Series.prototype;n=n.Pointer.prototype;r.searchPointByAngle=function(n){var t=this.chart,i=this.xAxis.pane.center;return this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(n.chartX-i[0]-t.plotLeft,n.chartY-i[1]-t.plotTop)})};i(r,"buildKDTree",function(n){this.chart.polar&&(this.kdByAngle?this.searchPoint=this.searchPointByAngle:this.kdDimensions=2);n.apply(this)});r.toXY=function(n){var t,i=this.chart,r=n.plotX;t=n.plotY;n.rectPlotX=r;n.rectPlotY=t;t=this.xAxis.postTranslate(n.plotX,this.yAxis.len-t);n.plotX=n.polarPlotX=t.x-i.plotLeft;n.plotY=n.polarPlotY=t.y-i.plotTop;this.kdByAngle?(i=(r/Math.PI*180+this.xAxis.pane.options.startAngle)%360,0>i&&(i+=360),n.clientX=i):n.clientX=n.plotX};t.spline&&i(t.spline.prototype,"getPointSpline",function(n,t,i,r){var u,f,o,s,h,c,e;return this.chart.polar?(u=i.plotX,f=i.plotY,n=t[r-1],o=t[r+1],this.connectEnds&&(n||(n=t[t.length-2]),o||(o=t[1])),n&&o&&(s=n.plotX,h=n.plotY,t=o.plotX,c=o.plotY,s=(1.5*u+s)/2.5,h=(1.5*f+h)/2.5,o=(1.5*u+t)/2.5,e=(1.5*f+c)/2.5,t=Math.sqrt(Math.pow(s-u,2)+Math.pow(h-f,2)),c=Math.sqrt(Math.pow(o-u,2)+Math.pow(e-f,2)),s=Math.atan2(h-f,s-u),h=Math.atan2(e-f,o-u),e=Math.PI/2+(s+h)/2,Math.abs(s-e)>Math.PI/2&&(e-=Math.PI),s=u+Math.cos(e)*t,h=f+Math.sin(e)*t,o=u+Math.cos(Math.PI+e)*c,e=f+Math.sin(Math.PI+e)*c,i.rightContX=o,i.rightContY=e),r?(i=["C",n.rightContX||n.plotX,n.rightContY||n.plotY,s||u,h||f,u,f],n.rightContX=n.rightContY=null):i=["M",u,f]):i=n.call(this,t,i,r),i});i(r,"translate",function(n){var t=this.chart;if(n.call(this),t.polar&&(this.kdByAngle=t.tooltip&&t.tooltip.shared,!this.preventPostTranslate))for(n=this.points,t=n.length;t--;)this.toXY(n[t])});i(r,"getGraphPath",function(n,t){var u=this,i,r;if(this.chart.polar){for(t=t||this.points,i=0;i<t.length;i++)if(!t[i].isNull){r=i;break}!1!==this.options.connectEnds&&void 0!==r&&(this.connectEnds=!0,t.splice(t.length,0,t[r]));f(t,function(n){void 0===n.polarPlotY&&u.toXY(n)})}return n.apply(this,[].slice.call(arguments,1))});i(r,"animate",u);t.column&&(t=t.column.prototype,t.polarArc=function(n,t,i,r){var f=this.xAxis.center,u=this.yAxis.len;return this.chart.renderer.symbols.arc(f[0],f[1],u-t,null,{start:i,end:r,innerR:u-e(n,u)})},i(t,"animate",u),i(t,"translate",function(n){var i=this.xAxis,f=i.startAngleRad,r,t,u;if(this.preventPostTranslate=!0,n.call(this),i.isRadial)for(r=this.points,u=r.length;u--;)t=r[u],n=t.barX+f,t.shapeType="path",t.shapeArgs={d:this.polarArc(t.yBottom,t.plotY,n,n+t.pointWidth)},this.toXY(t),t.tooltipPos=[t.plotX,t.plotY],t.ttBelow=t.plotY>i.center[1]}),i(t,"alignDataLabel",function(n,t,i,u,f,e){this.chart.polar?(n=t.rectPlotX/Math.PI*180,null===u.align&&(u.align=20<n&&160>n?"left":200<n&&340>n?"right":"center"),null===u.verticalAlign&&(u.verticalAlign=45>n||315<n?"bottom":135<n&&225>n?"top":"middle"),r.alignDataLabel.call(this,t,i,u,f,e)):n.call(this,t,i,u,f,e)}));i(n,"getCoordinates",function(n,t){var i=this.chart,r={xAxis:[],yAxis:[]};return i.polar?f(i.axes,function(n){var f=n.isXAxis,u=n.center,e=t.chartX-u[0]-i.plotLeft,u=t.chartY-u[1]-i.plotTop;r[f?"xAxis":"yAxis"].push({axis:n,value:n.translate(f?Math.PI-Math.atan2(e,u):Math.sqrt(Math.pow(e,2)+Math.pow(u,2)),!0)})}):r=n.call(this,t),r})}(n)});
/*!
 * Bootstrap v4.0.0-alpha.6 (https://getbootstrap.com)
 * Copyright 2011-2017 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");+function(n){var t=n.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0");}(jQuery);+function(){function f(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function e(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function t(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},i=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),n=function(n){function u(n){return{}.toString.call(n).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function f(n){return(n[0]||n).nodeType}function e(){return{bindType:t.end,delegateType:t.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}}function o(){var t,n;if(window.QUnit)return!1;t=document.createElement("bootstrap");for(n in r)if(void 0!==t.style[n])return{end:r[n]};return!1}function s(t){var u=this,r=!1;return n(this).one(i.TRANSITION_END,function(){r=!0}),setTimeout(function(){r||i.triggerTransitionEnd(u)},t),this}function h(){t=o();n.fn.emulateTransitionEnd=s;i.supportsTransitionEnd()&&(n.event.special[i.TRANSITION_END]=e())}var t=!1,c=1e6,r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i={TRANSITION_END:"bsTransitionEnd",getUID:function(n){do n+=~~(Math.random()*c);while(document.getElementById(n));return n},getSelectorFromElement:function(n){var t=n.getAttribute("data-target");return t||(t=n.getAttribute("href")||"",t=/^#[a-z]/i.test(t)?t:null),t},reflow:function(n){return n.offsetHeight},triggerTransitionEnd:function(i){n(i).trigger(t.end)},supportsTransitionEnd:function(){return Boolean(t)},typeCheckConfig:function(n,t,i){for(var r in i)if(i.hasOwnProperty(r)){var o=i[r],e=t[r],s=e&&f(e)?"element":u(e);if(!new RegExp(o).test(s))throw new Error(n.toUpperCase()+": "+('Option "'+r+'" provided type "'+s+'" ')+('but expected type "'+o+'".'));}}};return h(),i}(jQuery),u=(function(r){var f="alert",c="4.0.0-alpha.6",e="bs.alert",o="."+e,l=r.fn[f],a=150,s={CLOSE:"close"+o,CLOSED:"closed"+o,CLICK_DATA_API:"click"+o+".data-api"},h={ALERT:"alert",FADE:"fade",SHOW:"show"},u=function(){function u(n){t(this,u);this._element=n}return u.prototype.close=function(n){n=n||this._element;var t=this._getRootElement(n),i=this._triggerCloseEvent(t);i.isDefaultPrevented()||this._removeElement(t)},u.prototype.dispose=function(){r.removeData(this._element,e);this._element=null},u.prototype._getRootElement=function(t){var u=n.getSelectorFromElement(t),i=!1;return u&&(i=r(u)[0]),i||(i=r(t).closest("."+h.ALERT)[0]),i},u.prototype._triggerCloseEvent=function(n){var t=r.Event(s.CLOSE);return r(n).trigger(t),t},u.prototype._removeElement=function(t){var i=this;return r(t).removeClass(h.SHOW),n.supportsTransitionEnd()&&r(t).hasClass(h.FADE)?void r(t).one(n.TRANSITION_END,function(n){return i._destroyElement(t,n)}).emulateTransitionEnd(a):void this._destroyElement(t)},u.prototype._destroyElement=function(n){r(n).detach().trigger(s.CLOSED).remove()},u._jQueryInterface=function(n){return this.each(function(){var i=r(this),t=i.data(e);t||(t=new u(this),i.data(e,t));"close"===n&&t[n](this)})},u._handleDismiss=function(n){return function(t){t&&t.preventDefault();n.close(this)}},i(u,null,[{key:"VERSION",get:function(){return c}}]),u}();return r(document).on(s.CLICK_DATA_API,{DISMISS:'[data-dismiss="alert"]'}.DISMISS,u._handleDismiss(new u)),r.fn[f]=u._jQueryInterface,r.fn[f].Constructor=u,r.fn[f].noConflict=function(){return r.fn[f]=l,u._jQueryInterface},u}(jQuery),function(n){var f="button",l="4.0.0-alpha.6",o="bs.button",s="."+o,h=".data-api",a=n.fn[f],r={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},u={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:"input",ACTIVE:".active",BUTTON:".btn"},c={CLICK_DATA_API:"click"+s+h,FOCUS_BLUR_DATA_API:"focus"+s+h+" "+("blur"+s+h)},e=function(){function f(n){t(this,f);this._element=n}return f.prototype.toggle=function(){var i=!0,e=n(this._element).closest(u.DATA_TOGGLE)[0],t,f;e&&(t=n(this._element).find(u.INPUT)[0],t&&("radio"===t.type&&(t.checked&&n(this._element).hasClass(r.ACTIVE)?i=!1:(f=n(e).find(u.ACTIVE)[0],f&&n(f).removeClass(r.ACTIVE))),i&&(t.checked=!n(this._element).hasClass(r.ACTIVE),n(t).trigger("change")),t.focus()));this._element.setAttribute("aria-pressed",!n(this._element).hasClass(r.ACTIVE));i&&n(this._element).toggleClass(r.ACTIVE)},f.prototype.dispose=function(){n.removeData(this._element,o);this._element=null},f._jQueryInterface=function(t){return this.each(function(){var i=n(this).data(o);i||(i=new f(this),n(this).data(o,i));"toggle"===t&&i[t]()})},i(f,null,[{key:"VERSION",get:function(){return l}}]),f}();return n(document).on(c.CLICK_DATA_API,u.DATA_TOGGLE_CARROT,function(t){t.preventDefault();var i=t.target;n(i).hasClass(r.BUTTON)||(i=n(i).closest(u.BUTTON));e._jQueryInterface.call(n(i),"toggle")}).on(c.FOCUS_BLUR_DATA_API,u.DATA_TOGGLE_CARROT,function(t){var i=n(t.target).closest(u.BUTTON)[0];n(i).toggleClass(r.FOCUS,/^focus(in)?$/.test(t.type))}),n.fn[f]=e._jQueryInterface,n.fn[f].Constructor=e,n.fn[f].noConflict=function(){return n.fn[f]=a,e._jQueryInterface},e}(jQuery),function(u){var c="carousel",p="4.0.0-alpha.6",a="bs.carousel",o="."+a,y=".data-api",w=u.fn[c],b=600,k=37,d=39,v={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},g={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},e={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},s={SLIDE:"slide"+o,SLID:"slid"+o,KEYDOWN:"keydown"+o,MOUSEENTER:"mouseenter"+o,MOUSELEAVE:"mouseleave"+o,LOAD_DATA_API:"load"+o+y,CLICK_DATA_API:"click"+o+y},f={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item"},h={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},l=function(){function l(n,i){t(this,l);this._items=null;this._interval=null;this._activeElement=null;this._isPaused=!1;this._isSliding=!1;this._config=this._getConfig(i);this._element=u(n)[0];this._indicatorsElement=u(this._element).find(h.INDICATORS)[0];this._addEventListeners()}return l.prototype.next=function(){if(this._isSliding)throw new Error("Carousel is sliding");this._slide(e.NEXT)},l.prototype.nextWhenVisible=function(){document.hidden||this.next()},l.prototype.prev=function(){if(this._isSliding)throw new Error("Carousel is sliding");this._slide(e.PREVIOUS)},l.prototype.pause=function(t){t||(this._isPaused=!0);u(this._element).find(h.NEXT_PREV)[0]&&n.supportsTransitionEnd()&&(n.triggerTransitionEnd(this._element),this.cycle(!0));clearInterval(this._interval);this._interval=null},l.prototype.cycle=function(n){n||(this._isPaused=!1);this._interval&&(clearInterval(this._interval),this._interval=null);this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},l.prototype.to=function(n){var r=this,t,i;if(this._activeElement=u(this._element).find(h.ACTIVE_ITEM)[0],t=this._getItemIndex(this._activeElement),!(n>this._items.length-1||n<0)){if(this._isSliding)return void u(this._element).one(s.SLID,function(){return r.to(n)});if(t===n)return this.pause(),void this.cycle();i=n>t?e.NEXT:e.PREVIOUS;this._slide(i,this._items[n])}},l.prototype.dispose=function(){u(this._element).off(o);u.removeData(this._element,a);this._items=null;this._config=null;this._element=null;this._interval=null;this._isPaused=null;this._isSliding=null;this._activeElement=null;this._indicatorsElement=null},l.prototype._getConfig=function(t){return t=u.extend({},v,t),n.typeCheckConfig(c,t,g),t},l.prototype._addEventListeners=function(){var n=this;this._config.keyboard&&u(this._element).on(s.KEYDOWN,function(t){return n._keydown(t)});"hover"!==this._config.pause||"ontouchstart"in document.documentElement||u(this._element).on(s.MOUSEENTER,function(t){return n.pause(t)}).on(s.MOUSELEAVE,function(t){return n.cycle(t)})},l.prototype._keydown=function(n){if(!/input|textarea/i.test(n.target.tagName))switch(n.which){case k:n.preventDefault();this.prev();break;case d:n.preventDefault();this.next();break;default:return}},l.prototype._getItemIndex=function(n){return this._items=u.makeArray(u(n).parent().find(h.ITEM)),this._items.indexOf(n)},l.prototype._getItemByDirection=function(n,t){var f=n===e.NEXT,o=n===e.PREVIOUS,i=this._getItemIndex(t),s=this._items.length-1,h=o&&0===i||f&&i===s,u,r;return h&&!this._config.wrap?t:(u=n===e.PREVIOUS?-1:1,r=(i+u)%this._items.length,r===-1?this._items[this._items.length-1]:this._items[r])},l.prototype._triggerSlideEvent=function(n,t){var i=u.Event(s.SLIDE,{relatedTarget:n,direction:t});return u(this._element).trigger(i),i},l.prototype._setActiveIndicatorElement=function(n){if(this._indicatorsElement){u(this._indicatorsElement).find(h.ACTIVE).removeClass(f.ACTIVE);var t=this._indicatorsElement.children[this._getItemIndex(n)];t&&u(t).addClass(f.ACTIVE)}},l.prototype._slide=function(t,i){var y=this,o=u(this._element).find(h.ACTIVE_ITEM)[0],r=i||o&&this._getItemByDirection(t,o),p=Boolean(this._interval),c=void 0,l=void 0,a=void 0,w,v;if(t===e.NEXT?(c=f.LEFT,l=f.NEXT,a=e.LEFT):(c=f.RIGHT,l=f.PREV,a=e.RIGHT),r&&u(r).hasClass(f.ACTIVE))return void(this._isSliding=!1);w=this._triggerSlideEvent(r,a);!w.isDefaultPrevented()&&o&&r&&(this._isSliding=!0,p&&this.pause(),this._setActiveIndicatorElement(r),v=u.Event(s.SLID,{relatedTarget:r,direction:a}),n.supportsTransitionEnd()&&u(this._element).hasClass(f.SLIDE)?(u(r).addClass(l),n.reflow(r),u(o).addClass(c),u(r).addClass(c),u(o).one(n.TRANSITION_END,function(){u(r).removeClass(c+" "+l).addClass(f.ACTIVE);u(o).removeClass(f.ACTIVE+" "+l+" "+c);y._isSliding=!1;setTimeout(function(){return u(y._element).trigger(v)},0)}).emulateTransitionEnd(b)):(u(o).removeClass(f.ACTIVE),u(r).addClass(f.ACTIVE),this._isSliding=!1,u(this._element).trigger(v)),p&&this.cycle())},l._jQueryInterface=function(n){return this.each(function(){var t=u(this).data(a),f=u.extend({},v,u(this).data()),i;if("object"===("undefined"==typeof n?"undefined":r(n))&&u.extend(f,n),i="string"==typeof n?n:f.slide,t||(t=new l(this,f),u(this).data(a,t)),"number"==typeof n)t.to(n);else if("string"==typeof i){if(void 0===t[i])throw new Error('No method named "'+i+'"');t[i]()}else f.interval&&(t.pause(),t.cycle())})},l._dataApiClickHandler=function(t){var o=n.getSelectorFromElement(this),i,e,r;o&&(i=u(o)[0],i&&u(i).hasClass(f.CAROUSEL)&&(e=u.extend({},u(i).data(),u(this).data()),r=this.getAttribute("data-slide-to"),r&&(e.interval=!1),l._jQueryInterface.call(u(i),e),r&&u(i).data(a).to(r),t.preventDefault()))},i(l,null,[{key:"VERSION",get:function(){return p}},{key:"Default",get:function(){return v}}]),l}();return u(document).on(s.CLICK_DATA_API,h.DATA_SLIDE,l._dataApiClickHandler),u(window).on(s.LOAD_DATA_API,function(){u(h.DATA_RIDE).each(function(){var n=u(this);l._jQueryInterface.call(n,n.data())})}),u.fn[c]=l._jQueryInterface,u.fn[c].Constructor=l,u.fn[c].noConflict=function(){return u.fn[c]=w,l._jQueryInterface},l}(jQuery),function(u){var o="collapse",p="4.0.0-alpha.6",e="bs.collapse",h="."+e,w=u.fn[o],v=600,a={toggle:!0,parent:""},b={toggle:"boolean",parent:"string"},c={SHOW:"show"+h,SHOWN:"shown"+h,HIDE:"hide"+h,HIDDEN:"hidden"+h,CLICK_DATA_API:"click"+h+".data-api"},f={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},l={WIDTH:"width",HEIGHT:"height"},y={ACTIVES:".card > .show, .card > .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},s=function(){function s(n,i){t(this,s);this._isTransitioning=!1;this._element=n;this._config=this._getConfig(i);this._triggerArray=u.makeArray(u('[data-toggle="collapse"][href="#'+n.id+'"],'+('[data-toggle="collapse"][data-target="#'+n.id+'"]')));this._parent=this._config.parent?this._getParent():null;this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray);this._config.toggle&&this.toggle()}return s.prototype.toggle=function(){u(this._element).hasClass(f.SHOW)?this.hide():this.show()},s.prototype.show=function(){var o=this,t,r,h,i,l,a,p;if(this._isTransitioning)throw new Error("Collapse is transitioning");if(!u(this._element).hasClass(f.SHOW)&&(t=void 0,r=void 0,(this._parent&&(t=u.makeArray(u(this._parent).find(y.ACTIVES)),t.length||(t=null)),!(t&&(r=u(t).data(e),r&&r._isTransitioning)))&&(h=u.Event(c.SHOW),u(this._element).trigger(h),!h.isDefaultPrevented()))){if(t&&(s._jQueryInterface.call(u(t),"hide"),r||u(t).data(e,null)),i=this._getDimension(),u(this._element).removeClass(f.COLLAPSE).addClass(f.COLLAPSING),this._element.style[i]=0,this._element.setAttribute("aria-expanded",!0),this._triggerArray.length&&u(this._triggerArray).removeClass(f.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0),l=function(){u(o._element).removeClass(f.COLLAPSING).addClass(f.COLLAPSE).addClass(f.SHOW);o._element.style[i]="";o.setTransitioning(!1);u(o._element).trigger(c.SHOWN)},!n.supportsTransitionEnd())return void l();a=i[0].toUpperCase()+i.slice(1);p="scroll"+a;u(this._element).one(n.TRANSITION_END,l).emulateTransitionEnd(v);this._element.style[i]=this._element[p]+"px"}},s.prototype.hide=function(){var e=this,i,t,o,r;if(this._isTransitioning)throw new Error("Collapse is transitioning");if(u(this._element).hasClass(f.SHOW)&&(i=u.Event(c.HIDE),u(this._element).trigger(i),!i.isDefaultPrevented()))return t=this._getDimension(),o=t===l.WIDTH?"offsetWidth":"offsetHeight",this._element.style[t]=this._element[o]+"px",n.reflow(this._element),u(this._element).addClass(f.COLLAPSING).removeClass(f.COLLAPSE).removeClass(f.SHOW),this._element.setAttribute("aria-expanded",!1),this._triggerArray.length&&u(this._triggerArray).addClass(f.COLLAPSED).attr("aria-expanded",!1),this.setTransitioning(!0),r=function(){e.setTransitioning(!1);u(e._element).removeClass(f.COLLAPSING).addClass(f.COLLAPSE).trigger(c.HIDDEN)},this._element.style[t]="",n.supportsTransitionEnd()?void u(this._element).one(n.TRANSITION_END,r).emulateTransitionEnd(v):void r()},s.prototype.setTransitioning=function(n){this._isTransitioning=n},s.prototype.dispose=function(){u.removeData(this._element,e);this._config=null;this._parent=null;this._element=null;this._triggerArray=null;this._isTransitioning=null},s.prototype._getConfig=function(t){return t=u.extend({},a,t),t.toggle=Boolean(t.toggle),n.typeCheckConfig(o,t,b),t},s.prototype._getDimension=function(){var n=u(this._element).hasClass(l.WIDTH);return n?l.WIDTH:l.HEIGHT},s.prototype._getParent=function(){var t=this,n=u(this._config.parent)[0],i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return u(n).find(i).each(function(n,i){t._addAriaAndCollapsedClass(s._getTargetFromElement(i),[i])}),n},s.prototype._addAriaAndCollapsedClass=function(n,t){if(n){var i=u(n).hasClass(f.SHOW);n.setAttribute("aria-expanded",i);t.length&&u(t).toggleClass(f.COLLAPSED,!i).attr("aria-expanded",i)}},s._getTargetFromElement=function(t){var i=n.getSelectorFromElement(t);return i?u(i)[0]:null},s._jQueryInterface=function(n){return this.each(function(){var i=u(this),t=i.data(e),f=u.extend({},a,i.data(),"object"===("undefined"==typeof n?"undefined":r(n))&&n);if(!t&&f.toggle&&/show|hide/.test(n)&&(f.toggle=!1),t||(t=new s(this,f),i.data(e,t)),"string"==typeof n){if(void 0===t[n])throw new Error('No method named "'+n+'"');t[n]()}})},i(s,null,[{key:"VERSION",get:function(){return p}},{key:"Default",get:function(){return a}}]),s}();return u(document).on(c.CLICK_DATA_API,y.DATA_TOGGLE,function(n){n.preventDefault();var t=s._getTargetFromElement(this),i=u(t).data(e),r=i?"toggle":u(this).data();s._jQueryInterface.call(u(t),r)}),u.fn[o]=s._jQueryInterface,u.fn[o].Constructor=s,u.fn[o].noConflict=function(){return u.fn[o]=w,s._jQueryInterface},s}(jQuery),function(r){var h="dropdown",v="4.0.0-alpha.6",c="bs.dropdown",e="."+c,l=".data-api",y=r.fn[h],a=27,p=38,w=40,b=3,u={HIDE:"hide"+e,HIDDEN:"hidden"+e,SHOW:"show"+e,SHOWN:"shown"+e,CLICK:"click"+e,CLICK_DATA_API:"click"+e+l,FOCUSIN_DATA_API:"focusin"+e+l,KEYDOWN_DATA_API:"keydown"+e+l},s={BACKDROP:"dropdown-backdrop",DISABLED:"disabled",SHOW:"show"},f={BACKDROP:".dropdown-backdrop",DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",ROLE_MENU:'[role="menu"]',ROLE_LISTBOX:'[role="listbox"]',NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:'[role="menu"] li:not(.disabled) a, [role="listbox"] li:not(.disabled) a'},o=function(){function o(n){t(this,o);this._element=n;this._addEventListeners()}return o.prototype.toggle=function(){var n,h,t,i,e;return this.disabled||r(this).hasClass(s.DISABLED)?!1:(n=o._getParentFromElement(this),h=r(n).hasClass(s.SHOW),o._clearMenus(),h)?!1:("ontouchstart"in document.documentElement&&!r(n).closest(f.NAVBAR_NAV).length&&(t=document.createElement("div"),t.className=s.BACKDROP,r(t).insertBefore(this),r(t).on("click",o._clearMenus)),i={relatedTarget:this},e=r.Event(u.SHOW,i),r(n).trigger(e),!e.isDefaultPrevented()&&(this.focus(),this.setAttribute("aria-expanded",!0),r(n).toggleClass(s.SHOW),r(n).trigger(r.Event(u.SHOWN,i)),!1))},o.prototype.dispose=function(){r.removeData(this._element,c);r(this._element).off(e);this._element=null},o.prototype._addEventListeners=function(){r(this._element).on(u.CLICK,this.toggle)},o._jQueryInterface=function(n){return this.each(function(){var t=r(this).data(c);if(t||(t=new o(this),r(this).data(c,t)),"string"==typeof n){if(void 0===t[n])throw new Error('No method named "'+n+'"');t[n].call(this)}})},o._clearMenus=function(n){var h,i,t,e,c,l;if(!n||n.which!==b)for(h=r(f.BACKDROP)[0],h&&h.parentNode.removeChild(h),i=r.makeArray(r(f.DATA_TOGGLE)),t=0;t<i.length;t++)e=o._getParentFromElement(i[t]),c={relatedTarget:i[t]},!r(e).hasClass(s.SHOW)||n&&("click"===n.type&&/input|textarea/i.test(n.target.tagName)||"focusin"===n.type)&&r.contains(e,n.target)||(l=r.Event(u.HIDE,c),r(e).trigger(l),l.isDefaultPrevented()||(i[t].setAttribute("aria-expanded","false"),r(e).removeClass(s.SHOW).trigger(r.Event(u.HIDDEN,c))))},o._getParentFromElement=function(t){var i=void 0,u=n.getSelectorFromElement(t);return u&&(i=r(u)[0]),i||t.parentNode},o._dataApiKeydownHandler=function(n){var u,e,h,i,t;if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)&&(n.preventDefault(),n.stopPropagation(),!this.disabled&&!r(this).hasClass(s.DISABLED))){if(u=o._getParentFromElement(this),e=r(u).hasClass(s.SHOW),!e&&n.which!==a||e&&n.which===a)return n.which===a&&(h=r(u).find(f.DATA_TOGGLE)[0],r(h).trigger("focus")),void r(this).trigger("click");i=r(u).find(f.VISIBLE_ITEMS).get();i.length&&(t=i.indexOf(n.target),n.which===p&&t>0&&t--,n.which===w&&t<i.length-1&&t++,t<0&&(t=0),i[t].focus())}},i(o,null,[{key:"VERSION",get:function(){return v}}]),o}();return r(document).on(u.KEYDOWN_DATA_API,f.DATA_TOGGLE,o._dataApiKeydownHandler).on(u.KEYDOWN_DATA_API,f.ROLE_MENU,o._dataApiKeydownHandler).on(u.KEYDOWN_DATA_API,f.ROLE_LISTBOX,o._dataApiKeydownHandler).on(u.CLICK_DATA_API+" "+u.FOCUSIN_DATA_API,o._clearMenus).on(u.CLICK_DATA_API,f.DATA_TOGGLE,o.prototype.toggle).on(u.CLICK_DATA_API,f.FORM_CHILD,function(n){n.stopPropagation()}),r.fn[h]=o._jQueryInterface,r.fn[h].Constructor=o,r.fn[h].noConflict=function(){return r.fn[h]=y,o._jQueryInterface},o}(jQuery),function(u){var s="modal",p="4.0.0-alpha.6",h="bs.modal",o="."+h,w=u.fn[s],a=300,v=150,b=27,y={backdrop:!0,keyboard:!0,focus:!0,show:!0},k={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},f={HIDE:"hide"+o,HIDDEN:"hidden"+o,SHOW:"show"+o,SHOWN:"shown"+o,FOCUSIN:"focusin"+o,RESIZE:"resize"+o,CLICK_DISMISS:"click.dismiss"+o,KEYDOWN_DISMISS:"keydown.dismiss"+o,MOUSEUP_DISMISS:"mouseup.dismiss"+o,MOUSEDOWN_DISMISS:"mousedown.dismiss"+o,CLICK_DATA_API:"click"+o+".data-api"},e={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},l={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"},c=function(){function c(n,i){t(this,c);this._config=this._getConfig(i);this._element=n;this._dialog=u(n).find(l.DIALOG)[0];this._backdrop=null;this._isShown=!1;this._isBodyOverflowing=!1;this._ignoreBackdropClick=!1;this._isTransitioning=!1;this._originalBodyPadding=0;this._scrollbarWidth=0}return c.prototype.toggle=function(n){return this._isShown?this.hide():this.show(n)},c.prototype.show=function(t){var i=this,r;if(this._isTransitioning)throw new Error("Modal is transitioning");n.supportsTransitionEnd()&&u(this._element).hasClass(e.FADE)&&(this._isTransitioning=!0);r=u.Event(f.SHOW,{relatedTarget:t});u(this._element).trigger(r);this._isShown||r.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),u(document.body).addClass(e.OPEN),this._setEscapeEvent(),this._setResizeEvent(),u(this._element).on(f.CLICK_DISMISS,l.DATA_DISMISS,function(n){return i.hide(n)}),u(this._dialog).on(f.MOUSEDOWN_DISMISS,function(){u(i._element).one(f.MOUSEUP_DISMISS,function(n){u(n.target).is(i._element)&&(i._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return i._showElement(t)}))},c.prototype.hide=function(t){var o=this,i,r;if(t&&t.preventDefault(),this._isTransitioning)throw new Error("Modal is transitioning");i=n.supportsTransitionEnd()&&u(this._element).hasClass(e.FADE);i&&(this._isTransitioning=!0);r=u.Event(f.HIDE);u(this._element).trigger(r);this._isShown&&!r.isDefaultPrevented()&&(this._isShown=!1,this._setEscapeEvent(),this._setResizeEvent(),u(document).off(f.FOCUSIN),u(this._element).removeClass(e.SHOW),u(this._element).off(f.CLICK_DISMISS),u(this._dialog).off(f.MOUSEDOWN_DISMISS),i?u(this._element).one(n.TRANSITION_END,function(n){return o._hideModal(n)}).emulateTransitionEnd(a):this._hideModal())},c.prototype.dispose=function(){u.removeData(this._element,h);u(window,document,this._element,this._backdrop).off(o);this._config=null;this._element=null;this._dialog=null;this._backdrop=null;this._isShown=null;this._isBodyOverflowing=null;this._ignoreBackdropClick=null;this._originalBodyPadding=null;this._scrollbarWidth=null},c.prototype._getConfig=function(t){return t=u.extend({},y,t),n.typeCheckConfig(s,t,k),t},c.prototype._showElement=function(t){var i=this,o=n.supportsTransitionEnd()&&u(this._element).hasClass(e.FADE),s,r;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element);this._element.style.display="block";this._element.removeAttribute("aria-hidden");this._element.scrollTop=0;o&&n.reflow(this._element);u(this._element).addClass(e.SHOW);this._config.focus&&this._enforceFocus();s=u.Event(f.SHOWN,{relatedTarget:t});r=function(){i._config.focus&&i._element.focus();i._isTransitioning=!1;u(i._element).trigger(s)};o?u(this._dialog).one(n.TRANSITION_END,r).emulateTransitionEnd(a):r()},c.prototype._enforceFocus=function(){var n=this;u(document).off(f.FOCUSIN).on(f.FOCUSIN,function(t){document===t.target||n._element===t.target||u(n._element).has(t.target).length||n._element.focus()})},c.prototype._setEscapeEvent=function(){var n=this;this._isShown&&this._config.keyboard?u(this._element).on(f.KEYDOWN_DISMISS,function(t){t.which===b&&n.hide()}):this._isShown||u(this._element).off(f.KEYDOWN_DISMISS)},c.prototype._setResizeEvent=function(){var n=this;this._isShown?u(window).on(f.RESIZE,function(t){return n._handleUpdate(t)}):u(window).off(f.RESIZE)},c.prototype._hideModal=function(){var n=this;this._element.style.display="none";this._element.setAttribute("aria-hidden","true");this._isTransitioning=!1;this._showBackdrop(function(){u(document.body).removeClass(e.OPEN);n._resetAdjustments();n._resetScrollbar();u(n._element).trigger(f.HIDDEN)})},c.prototype._removeBackdrop=function(){this._backdrop&&(u(this._backdrop).remove(),this._backdrop=null)},c.prototype._showBackdrop=function(t){var i=this,r=u(this._element).hasClass(e.FADE)?e.FADE:"",o,s;if(this._isShown&&this._config.backdrop){if(o=n.supportsTransitionEnd()&&r,this._backdrop=document.createElement("div"),this._backdrop.className=e.BACKDROP,r&&u(this._backdrop).addClass(r),u(this._backdrop).appendTo(document.body),u(this._element).on(f.CLICK_DISMISS,function(n){return i._ignoreBackdropClick?void(i._ignoreBackdropClick=!1):void(n.target===n.currentTarget&&("static"===i._config.backdrop?i._element.focus():i.hide()))}),o&&n.reflow(this._backdrop),u(this._backdrop).addClass(e.SHOW),!t)return;if(!o)return void t();u(this._backdrop).one(n.TRANSITION_END,t).emulateTransitionEnd(v)}else!this._isShown&&this._backdrop?(u(this._backdrop).removeClass(e.SHOW),s=function(){i._removeBackdrop();t&&t()},n.supportsTransitionEnd()&&u(this._element).hasClass(e.FADE)?u(this._backdrop).one(n.TRANSITION_END,s).emulateTransitionEnd(v):s()):t&&t()},c.prototype._handleUpdate=function(){this._adjustDialog()},c.prototype._adjustDialog=function(){var n=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&n&&(this._element.style.paddingLeft=this._scrollbarWidth+"px");this._isBodyOverflowing&&!n&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},c.prototype._resetAdjustments=function(){this._element.style.paddingLeft="";this._element.style.paddingRight=""},c.prototype._checkScrollbar=function(){this._isBodyOverflowing=document.body.clientWidth<window.innerWidth;this._scrollbarWidth=this._getScrollbarWidth()},c.prototype._setScrollbar=function(){var n=parseInt(u(l.FIXED_CONTENT).css("padding-right")||0,10);this._originalBodyPadding=document.body.style.paddingRight||"";this._isBodyOverflowing&&(document.body.style.paddingRight=n+this._scrollbarWidth+"px")},c.prototype._resetScrollbar=function(){document.body.style.paddingRight=this._originalBodyPadding},c.prototype._getScrollbarWidth=function(){var n=document.createElement("div"),t;return n.className=e.SCROLLBAR_MEASURER,document.body.appendChild(n),t=n.offsetWidth-n.clientWidth,document.body.removeChild(n),t},c._jQueryInterface=function(n,t){return this.each(function(){var i=u(this).data(h),f=u.extend({},c.Default,u(this).data(),"object"===("undefined"==typeof n?"undefined":r(n))&&n);if(i||(i=new c(this,f),u(this).data(h,i)),"string"==typeof n){if(void 0===i[n])throw new Error('No method named "'+n+'"');i[n](t)}else f.show&&i.show(t)})},i(c,null,[{key:"VERSION",get:function(){return p}},{key:"Default",get:function(){return y}}]),c}();return u(document).on(f.CLICK_DATA_API,l.DATA_TOGGLE,function(t){var r=this,i=void 0,e=n.getSelectorFromElement(this),o,s;e&&(i=u(e)[0]);o=u(i).data(h)?"toggle":u.extend({},u(i).data(),u(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();s=u(i).one(f.SHOW,function(n){n.isDefaultPrevented()||s.one(f.HIDDEN,function(){u(r).is(":visible")&&r.focus()})});c._jQueryInterface.call(u(i),o,this)}),u.fn[s]=c._jQueryInterface,u.fn[s].Constructor=c,u.fn[s].noConflict=function(){return u.fn[s]=w,c._jQueryInterface},c}(jQuery),function(u){var e="scrollspy",y="4.0.0-alpha.6",h="bs.scrollspy",c="."+h,p=u.fn[e],v={offset:10,method:"auto",target:""},w={offset:"number",method:"string",target:"(string|element)"},l={ACTIVATE:"activate"+c,SCROLL:"scroll"+c,LOAD_DATA_API:"load"+c+".data-api"},o={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",NAV_LINK:"nav-link",NAV:"nav",ACTIVE:"active"},f={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",LIST_ITEM:".list-item",LI:"li",LI_DROPDOWN:"li.dropdown",NAV_LINKS:".nav-link",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},a={OFFSET:"offset",POSITION:"position"},s=function(){function s(n,i){var r=this;t(this,s);this._element=n;this._scrollElement="BODY"===n.tagName?window:n;this._config=this._getConfig(i);this._selector=this._config.target+" "+f.NAV_LINKS+","+(this._config.target+" "+f.DROPDOWN_ITEMS);this._offsets=[];this._targets=[];this._activeTarget=null;this._scrollHeight=0;u(this._scrollElement).on(l.SCROLL,function(n){return r._process(n)});this.refresh();this._process()}return s.prototype.refresh=function(){var t=this,f=this._scrollElement!==this._scrollElement.window?a.POSITION:a.OFFSET,i="auto"===this._config.method?f:this._config.method,e=i===a.POSITION?this._getScrollTop():0,r;this._offsets=[];this._targets=[];this._scrollHeight=this._getScrollHeight();r=u.makeArray(u(this._selector));r.map(function(t){var r=void 0,f=n.getSelectorFromElement(t);return f&&(r=u(f)[0]),r&&(r.offsetWidth||r.offsetHeight)?[u(r)[i]().top+e,f]:null}).filter(function(n){return n}).sort(function(n,t){return n[0]-t[0]}).forEach(function(n){t._offsets.push(n[0]);t._targets.push(n[1])})},s.prototype.dispose=function(){u.removeData(this._element,h);u(this._scrollElement).off(c);this._element=null;this._scrollElement=null;this._config=null;this._selector=null;this._offsets=null;this._targets=null;this._activeTarget=null;this._scrollHeight=null},s.prototype._getConfig=function(t){if(t=u.extend({},v,t),"string"!=typeof t.target){var i=u(t.target).attr("id");i||(i=n.getUID(e),u(t.target).attr("id",i));t.target="#"+i}return n.typeCheckConfig(e,t,w),t},s.prototype._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},s.prototype._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},s.prototype._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.offsetHeight},s.prototype._process=function(){var t=this._getScrollTop()+this._config.offset,r=this._getScrollHeight(),f=this._config.offset+r-this._getOffsetHeight(),i,n,u;if(this._scrollHeight!==r&&this.refresh(),t>=f)return i=this._targets[this._targets.length-1],void(this._activeTarget!==i&&this._activate(i));if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(n=this._offsets.length;n--;)u=this._activeTarget!==this._targets[n]&&t>=this._offsets[n]&&(void 0===this._offsets[n+1]||t<this._offsets[n+1]),u&&this._activate(this._targets[n])},s.prototype._activate=function(n){var i,t;this._activeTarget=n;this._clear();i=this._selector.split(",");i=i.map(function(t){return t+'[data-target="'+n+'"],'+(t+'[href="'+n+'"]')});t=u(i.join(","));t.hasClass(o.DROPDOWN_ITEM)?(t.closest(f.DROPDOWN).find(f.DROPDOWN_TOGGLE).addClass(o.ACTIVE),t.addClass(o.ACTIVE)):t.parents(f.LI).find("> "+f.NAV_LINKS).addClass(o.ACTIVE);u(this._scrollElement).trigger(l.ACTIVATE,{relatedTarget:n})},s.prototype._clear=function(){u(this._selector).filter(f.ACTIVE).removeClass(o.ACTIVE)},s._jQueryInterface=function(n){return this.each(function(){var t=u(this).data(h),i="object"===("undefined"==typeof n?"undefined":r(n))&&n;if(t||(t=new s(this,i),u(this).data(h,t)),"string"==typeof n){if(void 0===t[n])throw new Error('No method named "'+n+'"');t[n]()}})},i(s,null,[{key:"VERSION",get:function(){return y}},{key:"Default",get:function(){return v}}]),s}();return u(window).on(l.LOAD_DATA_API,function(){for(var i,n=u.makeArray(u(f.DATA_SPY)),t=n.length;t--;)i=u(n[t]),s._jQueryInterface.call(i,i.data())}),u.fn[e]=s._jQueryInterface,u.fn[e].Constructor=s,u.fn[e].noConflict=function(){return u.fn[e]=p,s._jQueryInterface},s}(jQuery),function(r){var e="tab",l="4.0.0-alpha.6",c="bs.tab",o="."+c,a=r.fn[e],v=150,s={HIDE:"hide"+o,HIDDEN:"hidden"+o,SHOW:"show"+o,SHOWN:"shown"+o,CLICK_DATA_API:"click"+o+".data-api"},u={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},f={A:"a",LI:"li",DROPDOWN:".dropdown",LIST:"ul:not(.dropdown-menu), ol:not(.dropdown-menu), nav:not(.dropdown-menu)",FADE_CHILD:"> .nav-item .fade, > .fade",ACTIVE:".active",ACTIVE_CHILD:"> .nav-item > .active, > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},h=function(){function e(n){t(this,e);this._element=n}return e.prototype.show=function(){var l=this,o,h,c;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&r(this._element).hasClass(u.ACTIVE)||r(this._element).hasClass(u.DISABLED))){var i=void 0,t=void 0,e=r(this._element).closest(f.LIST)[0],a=n.getSelectorFromElement(this._element);e&&(t=r.makeArray(r(e).find(f.ACTIVE)),t=t[t.length-1]);o=r.Event(s.HIDE,{relatedTarget:this._element});h=r.Event(s.SHOW,{relatedTarget:t});(t&&r(t).trigger(o),r(this._element).trigger(h),h.isDefaultPrevented()||o.isDefaultPrevented())||(a&&(i=r(a)[0]),this._activate(this._element,e),c=function(){var n=r.Event(s.HIDDEN,{relatedTarget:l._element}),i=r.Event(s.SHOWN,{relatedTarget:t});r(t).trigger(n);r(l._element).trigger(i)},i?this._activate(i,i.parentNode,c):c())}},e.prototype.dispose=function(){r.removeClass(this._element,c);this._element=null},e.prototype._activate=function(t,i,e){var c=this,o=r(i).find(f.ACTIVE_CHILD)[0],s=e&&n.supportsTransitionEnd()&&(o&&r(o).hasClass(u.FADE)||Boolean(r(i).find(f.FADE_CHILD)[0])),h=function(){return c._transitionComplete(t,o,s,e)};o&&s?r(o).one(n.TRANSITION_END,h).emulateTransitionEnd(v):h();o&&r(o).removeClass(u.SHOW)},e.prototype._transitionComplete=function(t,i,e,o){var s,h;i&&(r(i).removeClass(u.ACTIVE),s=r(i.parentNode).find(f.DROPDOWN_ACTIVE_CHILD)[0],s&&r(s).removeClass(u.ACTIVE),i.setAttribute("aria-expanded",!1));(r(t).addClass(u.ACTIVE),t.setAttribute("aria-expanded",!0),e?(n.reflow(t),r(t).addClass(u.SHOW)):r(t).removeClass(u.FADE),t.parentNode&&r(t.parentNode).hasClass(u.DROPDOWN_MENU))&&(h=r(t).closest(f.DROPDOWN)[0],h&&r(h).find(f.DROPDOWN_TOGGLE).addClass(u.ACTIVE),t.setAttribute("aria-expanded",!0));o&&o()},e._jQueryInterface=function(n){return this.each(function(){var i=r(this),t=i.data(c);if(t||(t=new e(this),i.data(c,t)),"string"==typeof n){if(void 0===t[n])throw new Error('No method named "'+n+'"');t[n]()}})},i(e,null,[{key:"VERSION",get:function(){return l}}]),e}();return r(document).on(s.CLICK_DATA_API,f.DATA_TOGGLE,function(n){n.preventDefault();h._jQueryInterface.call(r(this),"show")}),r.fn[e]=h._jQueryInterface,r.fn[e].Constructor=h,r.fn[e].noConflict=function(){return r.fn[e]=a,h._jQueryInterface},h}(jQuery),function(u){if("undefined"==typeof Tether)throw new Error("Bootstrap tooltips require Tether (http://tether.io/)");var h="tooltip",a="4.0.0-alpha.6",c="bs.tooltip",f="."+c,v=u.fn[h],y=150,p="bs-tether",w={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:"0 0",constraints:[],container:!1},b={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"string",constraints:"array",container:"(string|element|boolean)"},k={TOP:"bottom center",RIGHT:"middle left",BOTTOM:"top center",LEFT:"middle right"},s={SHOW:"show",OUT:"out"},d={HIDE:"hide"+f,HIDDEN:"hidden"+f,SHOW:"show"+f,SHOWN:"shown"+f,INSERTED:"inserted"+f,CLICK:"click"+f,FOCUSIN:"focusin"+f,FOCUSOUT:"focusout"+f,MOUSEENTER:"mouseenter"+f,MOUSELEAVE:"mouseleave"+f},o={FADE:"fade",SHOW:"show"},g={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner"},nt={element:!1,enabled:!1},e={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},l=function(){function l(n,i){t(this,l);this._isEnabled=!0;this._timeout=0;this._hoverState="";this._activeTrigger={};this._isTransitioning=!1;this._tether=null;this.element=n;this.config=this._getConfig(i);this.tip=null;this._setListeners()}return l.prototype.enable=function(){this._isEnabled=!0},l.prototype.disable=function(){this._isEnabled=!1},l.prototype.toggleEnabled=function(){this._isEnabled=!this._isEnabled},l.prototype.toggle=function(n){if(n){var i=this.constructor.DATA_KEY,t=u(n.currentTarget).data(i);t||(t=new this.constructor(n.currentTarget,this._getDelegateConfig()),u(n.currentTarget).data(i,t));t._activeTrigger.click=!t._activeTrigger.click;t._isWithActiveTrigger()?t._enter(null,t):t._leave(null,t)}else{if(u(this.getTipElement()).hasClass(o.SHOW))return void this._leave(null,this);this._enter(null,this)}},l.prototype.dispose=function(){clearTimeout(this._timeout);this.cleanupTether();u.removeData(this.element,this.constructor.DATA_KEY);u(this.element).off(this.constructor.EVENT_KEY);u(this.element).closest(".modal").off("hide.bs.modal");this.tip&&u(this.tip).remove();this._isEnabled=null;this._timeout=null;this._hoverState=null;this._activeTrigger=null;this._tether=null;this.element=null;this.config=null;this.tip=null},l.prototype.show=function(){var i=this,r,h,t,f,e;if("none"===u(this.element).css("display"))throw new Error("Please use show on visible elements");if(r=u.Event(this.constructor.Event.SHOW),this.isWithContent()&&this._isEnabled){if(this._isTransitioning)throw new Error("Tooltip is transitioning");if(u(this.element).trigger(r),h=u.contains(this.element.ownerDocument.documentElement,this.element),r.isDefaultPrevented()||!h)return;t=this.getTipElement();f=n.getUID(this.constructor.NAME);t.setAttribute("id",f);this.element.setAttribute("aria-describedby",f);this.setContent();this.config.animation&&u(t).addClass(o.FADE);var c="function"==typeof this.config.placement?this.config.placement.call(this,t,this.element):this.config.placement,a=this._getAttachment(c),v=this.config.container===!1?document.body:u(this.config.container);if(u(t).data(this.constructor.DATA_KEY,this).appendTo(v),u(this.element).trigger(this.constructor.Event.INSERTED),this._tether=new Tether({attachment:a,element:t,target:this.element,classes:nt,classPrefix:p,offset:this.config.offset,constraints:this.config.constraints,addTargetClasses:!1}),n.reflow(t),this._tether.position(),u(t).addClass(o.SHOW),e=function(){var n=i._hoverState;i._hoverState=null;i._isTransitioning=!1;u(i.element).trigger(i.constructor.Event.SHOWN);n===s.OUT&&i._leave(null,i)},n.supportsTransitionEnd()&&u(this.tip).hasClass(o.FADE))return this._isTransitioning=!0,void u(this.tip).one(n.TRANSITION_END,e).emulateTransitionEnd(l._TRANSITION_DURATION);e()}},l.prototype.hide=function(t){var i=this,r=this.getTipElement(),h=u.Event(this.constructor.Event.HIDE),f;if(this._isTransitioning)throw new Error("Tooltip is transitioning");f=function(){i._hoverState!==s.SHOW&&r.parentNode&&r.parentNode.removeChild(r);i.element.removeAttribute("aria-describedby");u(i.element).trigger(i.constructor.Event.HIDDEN);i._isTransitioning=!1;i.cleanupTether();t&&t()};u(this.element).trigger(h);h.isDefaultPrevented()||(u(r).removeClass(o.SHOW),this._activeTrigger[e.CLICK]=!1,this._activeTrigger[e.FOCUS]=!1,this._activeTrigger[e.HOVER]=!1,n.supportsTransitionEnd()&&u(this.tip).hasClass(o.FADE)?(this._isTransitioning=!0,u(r).one(n.TRANSITION_END,f).emulateTransitionEnd(y)):f(),this._hoverState="")},l.prototype.isWithContent=function(){return Boolean(this.getTitle())},l.prototype.getTipElement=function(){return this.tip=this.tip||u(this.config.template)[0]},l.prototype.setContent=function(){var n=u(this.getTipElement());this.setElementContent(n.find(g.TOOLTIP_INNER),this.getTitle());n.removeClass(o.FADE+" "+o.SHOW);this.cleanupTether()},l.prototype.setElementContent=function(n,t){var i=this.config.html;"object"===("undefined"==typeof t?"undefined":r(t))&&(t.nodeType||t.jquery)?i?u(t).parent().is(n)||n.empty().append(t):n.text(u(t).text()):n[i?"html":"text"](t)},l.prototype.getTitle=function(){var n=this.element.getAttribute("data-original-title");return n||(n="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),n},l.prototype.cleanupTether=function(){this._tether&&this._tether.destroy()},l.prototype._getAttachment=function(n){return k[n.toUpperCase()]},l.prototype._setListeners=function(){var n=this,t=this.config.trigger.split(" ");t.forEach(function(t){if("click"===t)u(n.element).on(n.constructor.Event.CLICK,n.config.selector,function(t){return n.toggle(t)});else if(t!==e.MANUAL){var i=t===e.HOVER?n.constructor.Event.MOUSEENTER:n.constructor.Event.FOCUSIN,r=t===e.HOVER?n.constructor.Event.MOUSELEAVE:n.constructor.Event.FOCUSOUT;u(n.element).on(i,n.config.selector,function(t){return n._enter(t)}).on(r,n.config.selector,function(t){return n._leave(t)})}u(n.element).closest(".modal").on("hide.bs.modal",function(){return n.hide()})});this.config.selector?this.config=u.extend({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},l.prototype._fixTitle=function(){var n=r(this.element.getAttribute("data-original-title"));(this.element.getAttribute("title")||"string"!==n)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},l.prototype._enter=function(n,t){var i=this.constructor.DATA_KEY;return t=t||u(n.currentTarget).data(i),t||(t=new this.constructor(n.currentTarget,this._getDelegateConfig()),u(n.currentTarget).data(i,t)),n&&(t._activeTrigger["focusin"===n.type?e.FOCUS:e.HOVER]=!0),u(t.getTipElement()).hasClass(o.SHOW)||t._hoverState===s.SHOW?void(t._hoverState=s.SHOW):(clearTimeout(t._timeout),t._hoverState=s.SHOW,t.config.delay&&t.config.delay.show?void(t._timeout=setTimeout(function(){t._hoverState===s.SHOW&&t.show()},t.config.delay.show)):void t.show())},l.prototype._leave=function(n,t){var i=this.constructor.DATA_KEY;if(t=t||u(n.currentTarget).data(i),t||(t=new this.constructor(n.currentTarget,this._getDelegateConfig()),u(n.currentTarget).data(i,t)),n&&(t._activeTrigger["focusout"===n.type?e.FOCUS:e.HOVER]=!1),!t._isWithActiveTrigger())return clearTimeout(t._timeout),t._hoverState=s.OUT,t.config.delay&&t.config.delay.hide?void(t._timeout=setTimeout(function(){t._hoverState===s.OUT&&t.hide()},t.config.delay.hide)):void t.hide()},l.prototype._isWithActiveTrigger=function(){for(var n in this._activeTrigger)if(this._activeTrigger[n])return!0;return!1},l.prototype._getConfig=function(t){return t=u.extend({},this.constructor.Default,u(this.element).data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),n.typeCheckConfig(h,t,this.constructor.DefaultType),t},l.prototype._getDelegateConfig=function(){var t={},n;if(this.config)for(n in this.config)this.constructor.Default[n]!==this.config[n]&&(t[n]=this.config[n]);return t},l._jQueryInterface=function(n){return this.each(function(){var t=u(this).data(c),i="object"===("undefined"==typeof n?"undefined":r(n))&&n;if((t||!/dispose|hide/.test(n))&&(t||(t=new l(this,i),u(this).data(c,t)),"string"==typeof n)){if(void 0===t[n])throw new Error('No method named "'+n+'"');t[n]()}})},i(l,null,[{key:"VERSION",get:function(){return a}},{key:"Default",get:function(){return w}},{key:"NAME",get:function(){return h}},{key:"DATA_KEY",get:function(){return c}},{key:"Event",get:function(){return d}},{key:"EVENT_KEY",get:function(){return f}},{key:"DefaultType",get:function(){return b}}]),l}();return u.fn[h]=l._jQueryInterface,u.fn[h].Constructor=l,u.fn[h].noConflict=function(){return u.fn[h]=v,l._jQueryInterface},l}(jQuery));(function(n){var s="popover",v="4.0.0-alpha.6",h="bs.popover",o="."+h,y=n.fn[s],p=n.extend({},u.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>'}),w=n.extend({},u.DefaultType,{content:"(string|element|function)"}),l={FADE:"fade",SHOW:"show"},a={TITLE:".popover-title",CONTENT:".popover-content"},b={HIDE:"hide"+o,HIDDEN:"hidden"+o,SHOW:"show"+o,SHOWN:"shown"+o,INSERTED:"inserted"+o,CLICK:"click"+o,FOCUSIN:"focusin"+o,FOCUSOUT:"focusout"+o,MOUSEENTER:"mouseenter"+o,MOUSELEAVE:"mouseleave"+o},c=function(u){function c(){return t(this,c),f(this,u.apply(this,arguments))}return e(c,u),c.prototype.isWithContent=function(){return this.getTitle()||this._getContent()},c.prototype.getTipElement=function(){return this.tip=this.tip||n(this.config.template)[0]},c.prototype.setContent=function(){var t=n(this.getTipElement());this.setElementContent(t.find(a.TITLE),this.getTitle());this.setElementContent(t.find(a.CONTENT),this._getContent());t.removeClass(l.FADE+" "+l.SHOW);this.cleanupTether()},c.prototype._getContent=function(){return this.element.getAttribute("data-content")||("function"==typeof this.config.content?this.config.content.call(this.element):this.config.content)},c._jQueryInterface=function(t){return this.each(function(){var i=n(this).data(h),u="object"===("undefined"==typeof t?"undefined":r(t))?t:null;if((i||!/destroy|hide/.test(t))&&(i||(i=new c(this,u),n(this).data(h,i)),"string"==typeof t)){if(void 0===i[t])throw new Error('No method named "'+t+'"');i[t]()}})},i(c,null,[{key:"VERSION",get:function(){return v}},{key:"Default",get:function(){return p}},{key:"NAME",get:function(){return s}},{key:"DATA_KEY",get:function(){return h}},{key:"Event",get:function(){return b}},{key:"EVENT_KEY",get:function(){return o}},{key:"DefaultType",get:function(){return w}}]),c}(u);return n.fn[s]=c._jQueryInterface,n.fn[s].Constructor=c,n.fn[s].noConflict=function(){return n.fn[s]=y,c._jQueryInterface},c})(jQuery)}();var sidenavTimer=null,sidenavCloseTimer=null,sidenavState=null,mainBodyHtml=null,lastScrollPosition=null;$(function(){function i(n){a||t||n!==undefined&&(n.indexOf("http")>-1||n.indexOf("tel")>-1||n!=window.location.pathname&&$.inArray(n,e)===-1&&(t=!0,console.log("preloading "+n),$.get(n).done(function(){o||e.push(n)}).always(function(){t=!1;console.log("done")})))}function s(n){var i=n.closest(".card"),t=i.find(".chart-responsive");n.data("fullscreen")?(i.removeClass("fullscreen"),$("body").removeClass("noscroll"),n.addClass("fa-arrows-alt"),n.removeClass("fa-times"),n.data("fullscreen",!1),t.removeClass("fullscreen-chart"),n.removeClass("fullscreen-handle")):(i.addClass("fullscreen"),$("body").addClass("noscroll"),n.removeClass("fa-arrows-alt"),n.addClass("fa-times"),n.data("fullscreen",!0),t.addClass("fullscreen-chart"),n.addClass("fullscreen-handle"));t.length>0&&t.highcharts().reflow()}function r(n){n.hasClass("fa-star")?(console.log("star"),n.addClass("fa-star-o"),n.removeClass("fa-star")):(console.log("star-o"),n.addClass("fa-star"),n.removeClass("fa-star-o"))}function c(){if(u==="lg"){var t=$(window).scrollTop();t>=h?(f=n.width(),n.width(f),n.addClass("fixed"),n.find(".sidebar-fixed-hidden").show("slow"),n.find(".sidebar-fixed-displayed").hide("slow")):(n.removeClass("fixed"),$(document).height()>$(window).height()&&(n.find(".sidebar-fixed-hidden").hide("slow"),n.find(".sidebar-fixed-displayed").show("slow")))}}function v(){var i=["xs","sm","md","lg"],t=$("<div>"),n,r;for(t.appendTo($("body")),n=i.length-1;n>=0;n--)if(r=i[n],t.addClass("hidden-"+r+"-up"),t.is(":hidden"))return t.remove(),i[n]}function l(){$("body").on("scroll","table",function(){var n=$(this),t,i;console.log("side scroll");t=n.find("thead.tableFloatingHeaderOriginal");i=n.find("thead.tableFloatingHeader");t.animate({scrollLeft:$(this).scrollLeft()},10);i.animate({scrollLeft:$(this).scrollLeft()},10)});$("table").stickyTableHeaders({fixedOffset:$(".top-nav"),cacheHeaderHeight:!0})}var u,n,h,f,y;l();$(document).keyup(function(n){n.keyCode==27&&(closeSidenav(),$(".typeahead").typeahead("setQuery",""),$(".fullscreen-handle").each(function(n,t){s($(t))}))});$(".close-modal").click(function(){window.history.back()});$("#global-sidenav").on("click",function(){if(!isSidenavOpen())return!1});$("#global-sidenav").on("mouseenter",function(){openSidenav(225)});$("#global-sidenav").on("mouseleave",function(){closeSidenav()});$("#sidenav-toggler").click(function(n){return n.preventDefault(),toggleSidenav(0),!1});$('[data-toggle="tooltip"]').tooltip({delay:{show:0,hide:1e5}});var a=!1,e=[],t=!1,o=!1;$("a").on("click","body",function(){o=!0});$("a").hover(function(){var n=$(this).attr("href");i(n)});$(".darken").click(function(){closeSidenav()});$("body").on("click","[data-toggle=fullscreen]",function(){s($(this))});$(".favorite, .not-favorite").on("mouseenter",function(){var n=$(this);r(n)});$(".favorite, .not-favorite").on("mouseleave",function(){var n=$(this);r(n)});$(".favorite, .not-favorite").on("click",function(){var n=$(this);r(n)});$(".toggle").on("click",function(n){n.preventDefault();var t=$(this).attr("href"),i=$(this).data("group"),r=$(t).is(":visible");return r?$(t).hide():($("."+i).hide(),$(t).show()),!1});u=v();console.log(u);window.sr=ScrollReveal();sr.reveal(".reveal",{distance:"5px",origin:"right",duration:500,delay:0});sr.reveal(".reveal-no-mobile",{distance:"5px",origin:"right",duration:500,delay:0,mobile:!1});sr.reveal(".reveal-slow",{distance:"5px",origin:"right",duration:2e3,delay:0});$(".scroll-to").click(function(n){n.preventDefault();var t=$(this).attr("href");$("html, body").animate({scrollTop:$(t).offset().top},1e3)});n=$(".sidebar-fixed");console.log(n);n.innerWidth()!==undefined&&(h=n.offset().top-parseFloat(n.css("margin-top")),f=0,$(window).scroll(function(){c()}));$(window).scrollTop()&&c();$("[data-toggle=offcanvas]").click(function(){$(".row-offcanvas").toggleClass("active");$(".collapse").toggleClass("in").toggleClass("hidden-xs").toggleClass("visible-xs")});$(".card-menu .dropdown-item").click(function(){alert("Demo feature. Not ready yet.")});$("body").on("mouseenter",".lineitem-cell",function(){$(this).find(".trending-percent").fadeIn(500)});$("body").on("mouseleave",".lineitem-cell",function(){$(this).find(".trending-percent").fadeOut()});$("body").on("show.bs.popover",function(){});window.onpopstate=function(){restoreBody()};$("body").on("click",".concept",function(){var n=$(this).data("concept"),t,i,r;($("body").append("<div id='modal'><\/div>"),t=$("#modal"),n!==null)&&(n=n.toLowerCase(),i=window.location.pathname.split("/"),url="/"+i[1]+"/"+i[2]+"/concept/"+n,r=$.ajax({url:url,method:"GET",data:{m:!0}}).done(function(i){var r=$("#main-body");history.pushState(null,null,"#"+n);$("body").addClass("modal-open");lastScrollPosition=document.body.scrollTop;t.hide();t.html(i);r.hide();setTimeout(function(){window.scrollTo(0,0)},150);t.fadeIn("slow",function(){renderCharts();l()})}))});$("body").on("click",".inline-report .close",function(n){var t=$(n.currentTarget).parents(".inline-report");t.remove()});y=0;$(".search-group .fa-search").click(function(){$("#search-box").focus()});$(".js-typeahead-name").on("focus.typeahead",function(){$(".search-group").addClass("search-mobile");$("body").addClass("search-mobile")});$.typeahead({input:".js-typeahead-name",filter:!1,dynamic:!0,minLength:0,searchOnFocus:!is_touch_device(),delay:250,maxItem:20,template:function(){return'<div class="search-result"><div class="media"><i class="media-left"><a href="{{url}}" class="media-object avatar avatar-sm img-responsive" style="background-image: url({{avatar}})"><\/a><\/i><div class="name">{{name}}<br/><small>{{city}}, {{state}} <div class="float-right"><b>{{assets}} Assets<\/b><\/div><\/small><\/div><\/div>'},emptyTemplate:"No results for {{query}}",href:"{{url}}",source:{lenders:{display:"name",ajax:function(){return{url:"/data/search/data",path:"data.snippets",data:{q:"{{query}}",t:is_touch_device()}}}}},callback:{onReady:function(){},onNavigateAfter:function(n,t,r,u){var f=u.url;i(f)},onMouseEnter:function(n,t,r){var u=r.url;i(u)},onClick:function(n,t,i){window.location=i.url},onSubmit:function(){return!1},onResult:function(){console.log("result");$("body").addClass("search-results");$("body").addClass("search-mobile");$(".search-group").addClass("search-mobile")},onHideLayout:function(){console.log("hide layout");$("body").removeClass("search-results");$("body").removeClass("search-mobile");$(".search-group").removeClass("search-mobile")}}})});
/**
 * vis.js
 * https://github.com/almende/vis
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 4.18.1
 * @date    2017-01-29
 *
 * @license
 * Copyright (C) 2011-2016 Almende B.V, http://almende.com
 *
 * Vis.js is dual licensed under both
 *
 * * The Apache 2.0 License
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * and
 *
 * * The MIT License
 *   http://opensource.org/licenses/MIT
 *
 * Vis.js may be distributed under either license.
 */
!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.vis=t():n.vis=t()}(this,function(){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={exports:{},id:r,loaded:!1};return n[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var i={};return t.m=n,t.c=i,t.p="",t(0)}([function(n,t,i){var r=i(1);r.extend(t,i(89));r.extend(t,i(112));r.extend(t,i(154))},function(n,t,i){function o(n){return n&&n.__esModule?n:{"default":n}}var h=i(2),c=o(h),l=i(55),s=o(l),a=i(58),v=o(a),y=i(62),u=o(y),p=i(82),w=o(p),r=i(84),b=i(88),e,f;t.isNumber=function(n){return n instanceof Number||"number"==typeof n};t.elementsCensor=function(n){if(n){var t=function(n,t){return t instanceof Element?"DOM Element":t};return JSON.parse(w.default(n,t))}};t.recursiveDOMDelete=function(n){if(n)for(;n.hasChildNodes()===!0;)t.recursiveDOMDelete(n.firstChild),n.removeChild(n.firstChild)};t.giveRange=function(n,t,i,r){if(t==n)return.5;var u=1/(t-n);return Math.max(0,(r-n)*u)};t.isString=function(n){return n instanceof String||"string"==typeof n};t.isDate=function(n){if(n instanceof Date)return!0;if(t.isString(n)){var i=e.exec(n);if(i||!isNaN(Date.parse(n)))return!0}return!1};t.randomUUID=function(){return b.v4()};t.assignAllKeys=function(n,t){for(var i in n)n.hasOwnProperty(i)&&"object"!==u.default(n[i])&&(n[i]=t)};t.fillIfDefined=function(n,i){var f=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var r in n)void 0!==i[r]&&("object"!==u.default(i[r])?void 0!==i[r]&&null!==i[r]||void 0===n[r]||f!==!0?n[r]=i[r]:delete n[r]:"object"===u.default(n[r])&&t.fillIfDefined(n[r],i[r],f))};t.protoExtend=function(n){for(var i,r,t=1;t<arguments.length;t++){i=arguments[t];for(r in i)n[r]=i[r]}return n};t.extend=function(n){for(var i,r,t=1;t<arguments.length;t++){i=arguments[t];for(r in i)i.hasOwnProperty(r)&&(n[r]=i[r])}return n};t.selectiveExtend=function(n,t){var i,f,r,u;if(!Array.isArray(n))throw new Error("Array with property names expected as first argument");for(i=2;i<arguments.length;i++)for(f=arguments[i],r=0;r<n.length;r++)u=n[r],f.hasOwnProperty(u)&&(t[u]=f[u]);return t};t.selectiveDeepExtend=function(n,i,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],f,s,e,u;if(Array.isArray(r))throw new TypeError("Arrays are not supported by deepExtend");for(f=2;f<arguments.length;f++)for(s=arguments[f],e=0;e<n.length;e++)if(u=n[e],s.hasOwnProperty(u))if(r[u]&&r[u].constructor===Object)void 0===i[u]&&(i[u]={}),i[u].constructor===Object?t.deepExtend(i[u],r[u],!1,o):null===r[u]&&void 0!==i[u]&&o===!0?delete i[u]:i[u]=r[u];else{if(Array.isArray(r[u]))throw new TypeError("Arrays are not supported by deepExtend");null===r[u]&&void 0!==i[u]&&o===!0?delete i[u]:i[u]=r[u]}return i};t.selectiveNotDeepExtend=function(n,i,r){var e=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u,f;if(Array.isArray(r))throw new TypeError("Arrays are not supported by deepExtend");for(u in r)if(r.hasOwnProperty(u)&&n.indexOf(u)==-1)if(r[u]&&r[u].constructor===Object)void 0===i[u]&&(i[u]={}),i[u].constructor===Object?t.deepExtend(i[u],r[u]):null===r[u]&&void 0!==i[u]&&e===!0?delete i[u]:i[u]=r[u];else if(Array.isArray(r[u]))for(i[u]=[],f=0;f<r[u].length;f++)i[u].push(r[u][f]);else null===r[u]&&void 0!==i[u]&&e===!0?delete i[u]:i[u]=r[u];return i};t.deepExtend=function(n,i,r,u){var f,e;for(f in i)if(i.hasOwnProperty(f)||r===!0)if(i[f]&&i[f].constructor===Object)void 0===n[f]&&(n[f]={}),n[f].constructor===Object?t.deepExtend(n[f],i[f],r):null===i[f]&&void 0!==n[f]&&u===!0?delete n[f]:n[f]=i[f];else if(Array.isArray(i[f]))for(n[f]=[],e=0;e<i[f].length;e++)n[f].push(i[f][e]);else null===i[f]&&void 0!==n[f]&&u===!0?delete n[f]:n[f]=i[f];return n};t.equalArray=function(n,t){if(n.length!=t.length)return!1;for(var i=0,r=n.length;i<r;i++)if(n[i]!=t[i])return!1;return!0};t.convert=function(n,i){var u,f;if(void 0!==n){if(null===n)return null;if(!i)return n;if("string"!=typeof i&&!(i instanceof String))throw new Error("Type must be a string");switch(i){case"boolean":case"Boolean":return Boolean(n);case"number":case"Number":return t.isString(n)&&!isNaN(Date.parse(n))?r(n).valueOf():Number(n.valueOf());case"string":case"String":return String(n);case"Date":if(t.isNumber(n))return new Date(n);if(n instanceof Date||r.isMoment(n))return new Date(n.valueOf());if(t.isString(n))return u=e.exec(n),u?new Date(Number(u[1])):r(new Date(n)).toDate();throw new Error("Cannot convert object of type "+t.getType(n)+" to type Date");case"Moment":if(t.isNumber(n))return r(n);if(n instanceof Date)return r(n.valueOf());if(r.isMoment(n))return r(n);if(t.isString(n))return u=e.exec(n),r(u?Number(u[1]):n);throw new Error("Cannot convert object of type "+t.getType(n)+" to type Date");case"ISODate":if(t.isNumber(n))return new Date(n);if(n instanceof Date)return n.toISOString();if(r.isMoment(n))return n.toDate().toISOString();if(t.isString(n))return u=e.exec(n),u?new Date(Number(u[1])).toISOString():r(n).format();throw new Error("Cannot convert object of type "+t.getType(n)+" to type ISODate");case"ASPDate":if(t.isNumber(n))return"/Date("+n+")/";if(n instanceof Date)return"/Date("+n.valueOf()+")/";if(t.isString(n))return u=e.exec(n),f=u?new Date(Number(u[1])).valueOf():new Date(n).valueOf(),"/Date("+f+")/";throw new Error("Cannot convert object of type "+t.getType(n)+" to type ASPDate");default:throw new Error('Unknown type "'+i+'"');}}};e=/^\/?Date\((\-?\d+)/i;t.getType=function(n){var t="undefined"==typeof n?"undefined":u.default(n);return"object"==t?null===n?"null":n instanceof Boolean?"Boolean":n instanceof Number?"Number":n instanceof String?"String":Array.isArray(n)?"Array":n instanceof Date?"Date":"Object":"number"==t?"Number":"boolean"==t?"Boolean":"string"==t?"String":void 0===t?"undefined":t};t.copyAndExtendArray=function(n,t){for(var i=[],r=0;r<n.length;r++)i.push(n[r]);return i.push(t),i};t.copyArray=function(n){for(var i=[],t=0;t<n.length;t++)i.push(n[t]);return i};t.getAbsoluteLeft=function(n){return n.getBoundingClientRect().left};t.getAbsoluteRight=function(n){return n.getBoundingClientRect().right};t.getAbsoluteTop=function(n){return n.getBoundingClientRect().top};t.addClassName=function(n,t){var i=n.className.split(" ");i.indexOf(t)==-1&&(i.push(t),n.className=i.join(" "))};t.removeClassName=function(n,t){var i=n.className.split(" "),r=i.indexOf(t);r!=-1&&(i.splice(r,1),n.className=i.join(" "))};t.forEach=function(n,t){var i,r;if(Array.isArray(n))for(i=0,r=n.length;i<r;i++)t(n[i],i,n);else for(i in n)n.hasOwnProperty(i)&&t(n[i],i,n)};t.toArray=function(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(n[i]);return t};t.updateProperty=function(n,t,i){return n[t]!==i&&(n[t]=i,!0)};t.throttle=function(n){var t=!1;return function(){t||(t=!0,requestAnimationFrame(function(){t=!1;n()}))}};t.addEventListener=function(n,t,i,r){n.addEventListener?(void 0===r&&(r=!1),"mousewheel"===t&&navigator.userAgent.indexOf("Firefox")>=0&&(t="DOMMouseScroll"),n.addEventListener(t,i,r)):n.attachEvent("on"+t,i)};t.removeEventListener=function(n,t,i,r){n.removeEventListener?(void 0===r&&(r=!1),"mousewheel"===t&&navigator.userAgent.indexOf("Firefox")>=0&&(t="DOMMouseScroll"),n.removeEventListener(t,i,r)):n.detachEvent("on"+t,i)};t.preventDefault=function(n){n||(n=window.event);n.preventDefault?n.preventDefault():n.returnValue=!1};t.getTarget=function(n){n||(n=window.event);var t;return n.target?t=n.target:n.srcElement&&(t=n.srcElement),void 0!=t.nodeType&&3==t.nodeType&&(t=t.parentNode),t};t.hasParent=function(n,t){for(var i=n;i;){if(i===t)return!0;i=i.parentNode}return!1};t.option={};t.option.asBoolean=function(n,t){return"function"==typeof n&&(n=n()),null!=n?0!=n:t||null};t.option.asNumber=function(n,t){return"function"==typeof n&&(n=n()),null!=n?Number(n)||t||null:t||null};t.option.asString=function(n,t){return"function"==typeof n&&(n=n()),null!=n?String(n):t||null};t.option.asSize=function(n,i){return"function"==typeof n&&(n=n()),t.isString(n)?n:t.isNumber(n)?n+"px":i||null};t.option.asElement=function(n,t){return"function"==typeof n&&(n=n()),n||t||null};t.hexToRGB=function(n){var t;return n=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,t,i,r){return t+t+i+i+r+r}),t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null};t.overrideOpacity=function(n,i){var r;return n.indexOf("rgba")!=-1?n:n.indexOf("rgb")!=-1?(r=n.substr(n.indexOf("(")+1).replace(")","").split(","),"rgba("+r[0]+","+r[1]+","+r[2]+","+i+")"):(r=t.hexToRGB(n),null==r?n:"rgba("+r.r+","+r.g+","+r.b+","+i+")")};t.RGBToHex=function(n,t,i){return"#"+(16777216+(n<<16)+(t<<8)+i).toString(16).slice(1)};t.parseColor=function(n){var i,u;if(t.isString(n)===!0)if(t.isValidRGB(n)===!0&&(u=n.substr(4).substr(0,n.length-5).split(",").map(function(n){return parseInt(n)}),n=t.RGBToHex(u[0],u[1],u[2])),t.isValidHex(n)===!0){var r=t.hexToHSV(n),f={h:r.h,s:.8*r.s,v:Math.min(1,1.02*r.v)},e={h:r.h,s:Math.min(1,1.25*r.s),v:.8*r.v},o=t.HSVToHex(e.h,e.s,e.v),s=t.HSVToHex(f.h,f.s,f.v);i={background:n,border:o,highlight:{background:s,border:o},hover:{background:s,border:o}}}else i={background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}};else i={},i.background=n.background||void 0,i.border=n.border||void 0,t.isString(n.highlight)?i.highlight={border:n.highlight,background:n.highlight}:(i.highlight={},i.highlight.background=n.highlight&&n.highlight.background||void 0,i.highlight.border=n.highlight&&n.highlight.border||void 0),t.isString(n.hover)?i.hover={border:n.hover,background:n.hover}:(i.hover={},i.hover.background=n.hover&&n.hover.background||void 0,i.hover.border=n.hover&&n.hover.border||void 0);return i};t.RGBToHSV=function(n,t,i){var r,u;if(n/=255,t/=255,i/=255,r=Math.min(n,Math.min(t,i)),u=Math.max(n,Math.max(t,i)),r==u)return{h:0,s:0,v:r};var f=n==r?t-i:i==r?n-t:i-n,e=n==r?3:i==r?1:5,o=(e-f/(u-r))/6,s=(u-r)/u,h=u;return{h:o,s:s,v:h}};f={split:function(n){var t={};return n.split(";").forEach(function(n){if(""!=n.trim()){var i=n.split(":"),r=i[0].trim(),u=i[1].trim();t[r]=u}}),t},join:function(n){return v.default(n).map(function(t){return t+": "+n[t]}).join("; ")}};t.addCssText=function(n,i){var r=f.split(n.style.cssText),u=f.split(i),e=t.extend(r,u);n.style.cssText=f.join(e)};t.removeCssText=function(n,t){var i=f.split(n.style.cssText),r=f.split(t);for(var u in r)r.hasOwnProperty(u)&&delete i[u];n.style.cssText=f.join(i)};t.HSVToRGB=function(n,t,i){var r,u,f,h=Math.floor(6*n),c=6*n-h,e=i*(1-t),o=i*(1-c*t),s=i*(1-(1-c)*t);switch(h%6){case 0:r=i;u=s;f=e;break;case 1:r=o;u=i;f=e;break;case 2:r=e;u=i;f=s;break;case 3:r=e;u=o;f=i;break;case 4:r=s;u=e;f=i;break;case 5:r=i;u=e;f=o}return{r:Math.floor(255*r),g:Math.floor(255*u),b:Math.floor(255*f)}};t.HSVToHex=function(n,i,r){var u=t.HSVToRGB(n,i,r);return t.RGBToHex(u.r,u.g,u.b)};t.hexToHSV=function(n){var i=t.hexToRGB(n);return t.RGBToHSV(i.r,i.g,i.b)};t.isValidHex=function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)};t.isValidRGB=function(n){n=n.replace(" ","");return/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(n)};t.isValidRGBA=function(n){n=n.replace(" ","");return/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(n)};t.selectiveBridgeObject=function(n,i){if("object"==("undefined"==typeof i?"undefined":u.default(i))){for(var f=s.default(i),r=0;r<n.length;r++)i.hasOwnProperty(n[r])&&"object"==u.default(i[n[r]])&&(f[n[r]]=t.bridgeObject(i[n[r]]));return f}return null};t.bridgeObject=function(n){var r,i;if("object"==("undefined"==typeof n?"undefined":u.default(n))){r=s.default(n);for(i in n)n.hasOwnProperty(i)&&"object"==u.default(n[i])&&(r[i]=t.bridgeObject(n[i]));return r}return null};t.insertSort=function(n,t){for(var u,i,r=0;r<n.length;r++){for(u=n[r],i=r;i>0&&t(u,n[i-1])<0;i--)n[i]=n[i-1];n[i]=u}return n};t.mergeOptions=function(n,t,i){var u=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}),r;if(null===t[i])n[i]=s.default(u[i]);else if(void 0!==t[i])if("boolean"==typeof t[i])n[i].enabled=t[i];else{void 0===t[i].enabled&&(n[i].enabled=!0);for(r in t[i])t[i].hasOwnProperty(r)&&(n[i][r]=t[i][r])}};t.binarySearchCustom=function(n,t,i,r){for(var o=0,f=0,e=n.length-1;f<=e&&o<1e4;){var u=Math.floor((f+e)/2),s=n[u],c=void 0===r?s[i]:s[i][r],h=t(c);if(0==h)return u;h==-1?f=u+1:e=u-1;o++}return-1};t.binarySearchValue=function(n,t,i,r,u){for(var h,e,c,f,l=0,o=0,s=n.length-1,u=void 0!=u?u:function(n,t){return n==t?0:n<t?-1:1};o<=s&&l<1e4;){if(f=Math.floor(.5*(s+o)),h=n[Math.max(0,f-1)][i],e=n[f][i],c=n[Math.min(n.length-1,f+1)][i],0==u(e,t))return f;if(u(h,t)<0&&u(e,t)>0)return"before"==r?Math.max(0,f-1):f;if(u(e,t)<0&&u(c,t)>0)return"before"==r?f:Math.min(n.length-1,f+1);u(e,t)<0?o=f+1:s=f-1;l++}return-1};t.easingFunctions={linear:function(n){return n},easeInQuad:function(n){return n*n},easeOutQuad:function(n){return n*(2-n)},easeInOutQuad:function(n){return n<.5?2*n*n:-1+(4-2*n)*n},easeInCubic:function(n){return n*n*n},easeOutCubic:function(n){return--n*n*n+1},easeInOutCubic:function(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart:function(n){return n*n*n*n},easeOutQuart:function(n){return 1- --n*n*n*n},easeInOutQuart:function(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint:function(n){return n*n*n*n*n},easeOutQuint:function(n){return 1+--n*n*n*n*n},easeInOutQuint:function(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}};t.getScrollBarWidth=function(){var t=document.createElement("p"),n,r,i;return t.style.width="100%",t.style.height="200px",n=document.createElement("div"),n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.visibility="hidden",n.style.width="200px",n.style.height="150px",n.style.overflow="hidden",n.appendChild(t),document.body.appendChild(n),r=t.offsetWidth,n.style.overflow="scroll",i=t.offsetWidth,r==i&&(i=n.clientWidth),document.body.removeChild(n),r-i};t.topMost=function(n,t){var i=void 0,h,r,e,u;Array.isArray(t)||(t=[t]);var f=!0,o=!1,s=void 0;try{for(r=c.default(n);!(f=(h=r.next()).done);f=!0)if(e=h.value,e){for(i=e[t[0]],u=1;u<t.length;u++)i&&(i=i[t[u]]);if("undefined"!=typeof i)break}}catch(n){o=!0;s=n}finally{try{!f&&r.return&&r.return()}finally{if(o)throw s;}}return i}},function(n,t,i){n.exports={"default":i(3),__esModule:!0}},function(n,t,i){i(4);i(50);n.exports=i(52)},function(n,t,i){i(5);for(var h=i(16),c=i(20),e=i(8),o=i(47)("toStringTag"),l=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],r=0;r<5;r++){var u=l[r],s=h[u],f=s&&s.prototype;f&&!f[o]&&c(f,o,u);e[u]=e.Array}},function(n,t,i){var u=i(6),r=i(7),f=i(8),e=i(9);n.exports=i(13)(Array,"Array",function(n,t){this._t=e(n);this._i=0;this._k=t},function(){var t=this._t,i=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):"keys"==i?r(0,n):"values"==i?r(0,t[n]):r(0,[n,t[n]])},"values");f.Arguments=f.Array;u("keys");u("values");u("entries")},function(n){n.exports=function(){}},function(n){n.exports=function(n,t){return{value:t,done:!!n}}},function(n){n.exports={}},function(n,t,i){var r=i(10),u=i(12);n.exports=function(n){return r(u(n))}},function(n,t,i){var r=i(11);n.exports=Object("z").propertyIsEnumerable(0)?Object:function(n){return"String"==r(n)?n.split(""):Object(n)}},function(n){var t={}.toString;n.exports=function(n){return t.call(n).slice(8,-1)}},function(n){n.exports=function(n){if(void 0==n)throw TypeError("Can't call method on  "+n);return n}},function(n,t,i){var o=i(14),f=i(15),a=i(30),s=i(20),v=i(31),h=i(8),y=i(32),p=i(46),w=i(48),r=i(47)("iterator"),e=!([].keys&&"next"in[].keys()),b="@@iterator",c="keys",u="values",l=function(){return this};n.exports=function(n,t,i,k,d,g,nt){y(i,t,k);var ut,et,ft,ot=function(n){if(!e&&n in tt)return tt[n];switch(n){case c:return function(){return new i(this,n)};case u:return function(){return new i(this,n)}}return function(){return new i(this,n)}},ct=t+" Iterator",st=d==u,ht=!1,tt=n.prototype,it=tt[r]||tt[b]||d&&tt[d],rt=it||ot(d),at=d?st?ot("entries"):rt:void 0,lt="Array"==t?tt.entries||it:it;if(lt&&(ft=w(lt.call(new n)),ft!==Object.prototype&&(p(ft,ct,!0),o||v(ft,r)||s(ft,r,l))),st&&it&&it.name!==u&&(ht=!0,rt=function(){return it.call(this)}),o&&!nt||!e&&!ht&&tt[r]||s(tt,r,rt),h[t]=rt,h[ct]=l,d)if(ut={values:st?rt:ot(u),keys:g?rt:ot(c),entries:at},nt)for(et in ut)et in tt||a(tt,et,ut[et]);else f(f.P+f.F*(e||ht),t,ut);return ut}},function(n){n.exports=!0},function(n,t,i){var u=i(16),e=i(17),o=i(18),s=i(20),f="prototype",r=function(n,t,i){var h,v,c,b=n&r.F,y=n&r.G,k=n&r.S,w=n&r.P,d=n&r.B,g=n&r.W,l=y?e:e[t]||(e[t]={}),p=l[f],a=y?u:k?u[t]:(u[t]||{})[f];y&&(i=t);for(h in i)v=!b&&a&&void 0!==a[h],v&&h in l||(c=v?a[h]:i[h],l[h]=y&&"function"!=typeof a[h]?i[h]:d&&v?o(c,u):g&&a[h]==c?function(n){var t=function(t,i,r){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(t);case 2:return new n(t,i)}return new n(t,i,r)}return n.apply(this,arguments)};return t[f]=n[f],t}(c):w&&"function"==typeof c?o(Function.call,c):c,w&&((l.virtual||(l.virtual={}))[h]=c,n&r.R&&p&&!p[h]&&s(p,h,c)))};r.F=1;r.G=2;r.S=4;r.P=8;r.B=16;r.W=32;r.U=64;r.R=128;n.exports=r},function(n){var t=n.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(n){var t=n.exports={version:"2.4.0"};"number"==typeof __e&&(__e=t)},function(n,t,i){var r=i(19);n.exports=function(n,t,i){if(r(n),void 0===t)return n;switch(i){case 1:return function(i){return n.call(t,i)};case 2:return function(i,r){return n.call(t,i,r)};case 3:return function(i,r,u){return n.call(t,i,r,u)}}return function(){return n.apply(t,arguments)}}},function(n){n.exports=function(n){if("function"!=typeof n)throw TypeError(n+" is not a function!");return n}},function(n,t,i){var r=i(21),u=i(29);n.exports=i(25)?function(n,t,i){return r.f(n,t,u(1,i))}:function(n,t,i){return n[t]=i,n}},function(n,t,i){var r=i(22),u=i(24),f=i(28),e=Object.defineProperty;t.f=i(25)?Object.defineProperty:function(n,t,i){if(r(n),t=f(t,!0),r(i),u)try{return e(n,t,i)}catch(n){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(n[t]=i.value),n}},function(n,t,i){var r=i(23);n.exports=function(n){if(!r(n))throw TypeError(n+" is not an object!");return n}},function(n){n.exports=function(n){return"object"==typeof n?null!==n:"function"==typeof n}},function(n,t,i){n.exports=!i(25)&&!i(26)(function(){return 7!=Object.defineProperty(i(27)("div"),"a",{get:function(){return 7}}).a})},function(n,t,i){n.exports=!i(26)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(n){n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,t,i){var u=i(23),r=i(16).document,f=u(r)&&u(r.createElement);n.exports=function(n){return f?r.createElement(n):{}}},function(n,t,i){var r=i(23);n.exports=function(n,t){if(!r(n))return n;var i,u;if(t&&"function"==typeof(i=n.toString)&&!r(u=i.call(n))||"function"==typeof(i=n.valueOf)&&!r(u=i.call(n))||!t&&"function"==typeof(i=n.toString)&&!r(u=i.call(n)))return u;throw TypeError("Can't convert object to primitive value");}},function(n){n.exports=function(n,t){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:t}}},function(n,t,i){n.exports=i(20)},function(n){var t={}.hasOwnProperty;n.exports=function(n,i){return t.call(n,i)}},function(n,t,i){var u=i(33),f=i(29),e=i(46),r={};i(20)(r,i(47)("iterator"),function(){return this});n.exports=function(n,t,i){n.prototype=u(r,{next:f(1,i)});e(n,t+" Iterator")}},function(n,t,i){var o=i(22),s=i(34),e=i(44),h=i(41)("IE_PROTO"),u=function(){},f="prototype",r=function(){var n,t=i(27)("iframe"),u=e.length,o="<",s=">";for(t.style.display="none",i(45).appendChild(t),t.src="javascript:",n=t.contentWindow.document,n.open(),n.write(o+"script"+s+"document.F=Object"+o+"/script"+s),n.close(),r=n.F;u--;)delete r[f][e[u]];return r()};n.exports=Object.create||function(n,t){var i;return null!==n?(u[f]=o(n),i=new u,u[f]=null,i[h]=n):i=r(),void 0===t?i:s(i,t)}},function(n,t,i){var r=i(21),u=i(22),f=i(35);n.exports=i(25)?Object.defineProperties:function(n,t){u(n);for(var i,e=f(t),s=e.length,o=0;s>o;)r.f(n,i=e[o++],t[i]);return n}},function(n,t,i){var r=i(36),u=i(44);n.exports=Object.keys||function(n){return r(n,u)}},function(n,t,i){var r=i(31),u=i(9),f=i(37)(!1),e=i(41)("IE_PROTO");n.exports=function(n,t){var i,s=u(n),h=0,o=[];for(i in s)i!=e&&r(s,i)&&o.push(i);for(;t.length>h;)r(s,i=t[h++])&&(~f(o,i)||o.push(i));return o}},function(n,t,i){var r=i(9),u=i(38),f=i(40);n.exports=function(n){return function(t,i,e){var h,s=r(t),c=u(s.length),o=f(e,c);if(n&&i!=i){for(;c>o;)if(h=s[o++],h!=h)return!0}else for(;c>o;o++)if((n||o in s)&&s[o]===i)return n||o||0;return!n&&-1}}},function(n,t,i){var r=i(39),u=Math.min;n.exports=function(n){return n>0?u(r(n),9007199254740991):0}},function(n){var t=Math.ceil,i=Math.floor;n.exports=function(n){return isNaN(n=+n)?0:(n>0?i:t)(n)}},function(n,t,i){var r=i(39),u=Math.max,f=Math.min;n.exports=function(n,t){return n=r(n),n<0?u(n+t,0):f(n,t)}},function(n,t,i){var r=i(42)("keys"),u=i(43);n.exports=function(n){return r[n]||(r[n]=u(n))}},function(n,t,i){var r=i(16),u="__core-js_shared__",f=r[u]||(r[u]={});n.exports=function(n){return f[n]||(f[n]={})}},function(n){var t=0,i=Math.random();n.exports=function(n){return"Symbol(".concat(void 0===n?"":n,")_",(++t+i).toString(36))}},function(n){n.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(n,t,i){n.exports=i(16).document&&document.documentElement},function(n,t,i){var u=i(21).f,f=i(31),r=i(47)("toStringTag");n.exports=function(n,t,i){n&&!f(n=i?n:n.prototype,r)&&u(n,r,{configurable:!0,value:t})}},function(n,t,i){var r=i(42)("wks"),e=i(43),u=i(16).Symbol,f="function"==typeof u,o=n.exports=function(n){return r[n]||(r[n]=f&&u[n]||(f?u:e)("Symbol."+n))};o.store=r},function(n,t,i){var u=i(31),f=i(49),r=i(41)("IE_PROTO"),e=Object.prototype;n.exports=Object.getPrototypeOf||function(n){return n=f(n),u(n,r)?n[r]:"function"==typeof n.constructor&&n instanceof n.constructor?n.constructor.prototype:n instanceof Object?e:null}},function(n,t,i){var r=i(12);n.exports=function(n){return Object(r(n))}},function(n,t,i){var r=i(51)(!0);i(13)(String,"String",function(n){this._t=String(n);this._i=0},function(){var n,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(n=r(t,i),this._i+=n.length,{value:n,done:!1})})},function(n,t,i){var r=i(39),u=i(12);n.exports=function(n){return function(t,i){var e,s,o=String(u(t)),f=r(i),h=o.length;return f<0||f>=h?n?"":void 0:(e=o.charCodeAt(f),e<55296||e>56319||f+1===h||(s=o.charCodeAt(f+1))<56320||s>57343?n?o.charAt(f):e:n?o.slice(f,f+2):(e-55296<<10)+(s-56320)+65536)}}},function(n,t,i){var r=i(22),u=i(53);n.exports=i(17).getIterator=function(n){var t=u(n);if("function"!=typeof t)throw TypeError(n+" is not iterable!");return r(t.call(n))}},function(n,t,i){var r=i(54),u=i(47)("iterator"),f=i(8);n.exports=i(17).getIteratorMethod=function(n){if(void 0!=n)return n[u]||n["@@iterator"]||f[r(n)]}},function(n,t,i){var r=i(11),u=i(47)("toStringTag"),f="Arguments"==r(function(){return arguments}()),e=function(n,t){try{return n[t]}catch(n){}};n.exports=function(n){var t,i,o;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(i=e(t=Object(n),u))?i:f?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o}},function(n,t,i){n.exports={"default":i(56),__esModule:!0}},function(n,t,i){i(57);var r=i(17).Object;n.exports=function(n,t){return r.create(n,t)}},function(n,t,i){var r=i(15);r(r.S,"Object",{create:i(33)})},function(n,t,i){n.exports={"default":i(59),__esModule:!0}},function(n,t,i){i(60);n.exports=i(17).Object.keys},function(n,t,i){var r=i(49),u=i(35);i(61)("keys",function(){return function(n){return u(r(n))}})},function(n,t,i){var r=i(15),u=i(17),f=i(26);n.exports=function(n,t){var i=(u.Object||{})[n]||Object[n],e={};e[n]=t(i);r(r.S+r.F*f(function(){i(1)}),"Object",e)}},function(n,t,i){function f(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0;var o=i(63),e=f(o),s=i(66),r=f(s),u="function"==typeof r.default&&"symbol"==typeof e.default?function(n){return typeof n}:function(n){return n&&"function"==typeof r.default&&n.constructor===r.default&&n!==r.default.prototype?"symbol":typeof n};t.default="function"==typeof r.default&&"symbol"===u(e.default)?function(n){return"undefined"==typeof n?"undefined":u(n)}:function(n){return n&&"function"==typeof r.default&&n.constructor===r.default&&n!==r.default.prototype?"symbol":"undefined"==typeof n?"undefined":u(n)}},function(n,t,i){n.exports={"default":i(64),__esModule:!0}},function(n,t,i){i(50);i(4);n.exports=i(65).f("iterator")},function(n,t,i){t.f=i(47)},function(n,t,i){n.exports={"default":i(67),__esModule:!0}},function(n,t,i){i(68);i(79);i(80);i(81);n.exports=i(17).Symbol},function(n,t,i){var b=i(16),r=i(31),it=i(25),e=i(15),at=i(30),fi=i(69).KEY,vt=i(26),rt=i(42),ut=i(46),ei=i(43),y=i(47),oi=i(65),si=i(70),hi=i(71),ci=i(72),li=i(75),ft=i(22),k=i(9),et=i(28),ot=i(29),p=i(33),yt=i(76),pt=i(78),wt=i(21),ai=i(35),bt=pt.f,c=wt.f,kt=yt.f,u=b.Symbol,d=b.JSON,g=d&&d.stringify,h="prototype",f=y("_hidden"),dt=y("toPrimitive"),vi={}.propertyIsEnumerable,nt=rt("symbol-registry"),s=rt("symbols"),w=rt("op-symbols"),o=Object[h],l="function"==typeof u,st=b.QObject,ht=!st||!st[h]||!st[h].findChild,ct=it&&vt(function(){return 7!=p(c({},"a",{get:function(){return c(this,"a",{value:7}).a}})).a})?function(n,t,i){var r=bt(o,t);r&&delete o[t];c(n,t,i);r&&n!==o&&c(o,t,r)}:c,gt=function(n){var t=s[n]=p(u[h]);return t._k=n,t},lt=l&&"symbol"==typeof u.iterator?function(n){return"symbol"==typeof n}:function(n){return n instanceof u},tt=function(n,t,i){return n===o&&tt(w,t,i),ft(n),t=et(t,!0),ft(i),r(s,t)?(i.enumerable?(r(n,f)&&n[f][t]&&(n[f][t]=!1),i=p(i,{enumerable:ot(0,!1)})):(r(n,f)||c(n,f,ot(1,{})),n[f][t]=!0),ct(n,t,i)):c(n,t,i)},ni=function(n,t){ft(n);for(var i,r=ci(t=k(t)),u=0,f=r.length;f>u;)tt(n,i=r[u++],t[i]);return n},yi=function(n,t){return void 0===t?p(n):ni(p(n),t)},ti=function(n){var t=vi.call(this,n=et(n,!0));return!(this===o&&r(s,n)&&!r(w,n))&&(!(t||!r(this,n)||!r(s,n)||r(this,f)&&this[f][n])||t)},ii=function(n,t){if(n=k(n),t=et(t,!0),n!==o||!r(s,t)||r(w,t)){var i=bt(n,t);return!i||!r(s,t)||r(n,f)&&n[f][t]||(i.enumerable=!0),i}},ri=function(n){for(var t,i=kt(k(n)),u=[],e=0;i.length>e;)r(s,t=i[e++])||t==f||t==fi||u.push(t);return u},ui=function(n){for(var t,i=n===o,u=kt(i?w:k(n)),f=[],e=0;u.length>e;)r(s,t=u[e++])&&(!i||r(o,t))&&f.push(s[t]);return f},a,v;for(l||(u=function(){if(this instanceof u)throw TypeError("Symbol is not a constructor!");var n=ei(arguments.length>0?arguments[0]:void 0),t=function(i){this===o&&t.call(w,i);r(this,f)&&r(this[f],n)&&(this[f][n]=!1);ct(this,n,ot(1,i))};return it&&ht&&ct(o,n,{configurable:!0,set:t}),gt(n)},at(u[h],"toString",function(){return this._k}),pt.f=ii,wt.f=tt,i(77).f=yt.f=ri,i(74).f=ti,i(73).f=ui,it&&!i(14)&&at(o,"propertyIsEnumerable",ti,!0),oi.f=function(n){return gt(y(n))}),e(e.G+e.W+e.F*!l,{Symbol:u}),a="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),v=0;a.length>v;)y(a[v++]);for(a=ai(y.store),v=0;a.length>v;)si(a[v++]);e(e.S+e.F*!l,"Symbol",{"for":function(n){return r(nt,n+="")?nt[n]:nt[n]=u(n)},keyFor:function(n){if(lt(n))return hi(nt,n);throw TypeError(n+" is not a symbol!");},useSetter:function(){ht=!0},useSimple:function(){ht=!1}});e(e.S+e.F*!l,"Object",{create:yi,defineProperty:tt,defineProperties:ni,getOwnPropertyDescriptor:ii,getOwnPropertyNames:ri,getOwnPropertySymbols:ui});d&&e(e.S+e.F*(!l||vt(function(){var n=u();return"[null]"!=g([n])||"{}"!=g({a:n})||"{}"!=g(Object(n))})),"JSON",{stringify:function(n){if(void 0!==n&&!lt(n)){for(var t,i,r=[n],u=1;arguments.length>u;)r.push(arguments[u++]);return t=r[1],"function"==typeof t&&(i=t),!i&&li(t)||(t=function(n,t){if(i&&(t=i.call(this,n,t)),!lt(t))return t}),r[1]=t,g.apply(d,r)}}});u[h][dt]||i(20)(u[h],dt,u[h].valueOf);ut(u,"Symbol");ut(Math,"Math",!0);ut(b.JSON,"JSON",!0)},function(n,t,i){var r=i(43)("meta"),o=i(23),f=i(31),s=i(21).f,h=0,u=Object.isExtensible||function(){return!0},c=!i(26)(function(){return u(Object.preventExtensions({}))}),e=function(n){s(n,r,{value:{i:"O"+ ++h,w:{}}})},l=function(n,t){if(!o(n))return"symbol"==typeof n?n:("string"==typeof n?"S":"P")+n;if(!f(n,r)){if(!u(n))return"F";if(!t)return"E";e(n)}return n[r].i},a=function(n,t){if(!f(n,r)){if(!u(n))return!0;if(!t)return!1;e(n)}return n[r].w},v=function(n){return c&&y.NEED&&u(n)&&!f(n,r)&&e(n),n},y=n.exports={KEY:r,NEED:!1,fastKey:l,getWeak:a,onFreeze:v}},function(n,t,i){var u=i(16),r=i(17),f=i(14),e=i(65),o=i(21).f;n.exports=function(n){var t=r.Symbol||(r.Symbol=f?{}:u.Symbol||{});"_"==n.charAt(0)||n in t||o(t,n,{value:e.f(n)})}},function(n,t,i){var r=i(35),u=i(9);n.exports=function(n,t){for(var i,f=u(n),e=r(f),s=e.length,o=0;s>o;)if(f[i=e[o++]]===t)return i}},function(n,t,i){var r=i(35),u=i(73),f=i(74);n.exports=function(n){var t=r(n),i=u.f;if(i)for(var e,o=i(n),h=f.f,s=0;o.length>s;)h.call(n,e=o[s++])&&t.push(e);return t}},function(n,t){t.f=Object.getOwnPropertySymbols},function(n,t){t.f={}.propertyIsEnumerable},function(n,t,i){var r=i(11);n.exports=Array.isArray||function(n){return"Array"==r(n)}},function(n,t,i){var f=i(9),r=i(77).f,e={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(n){try{return r(n)}catch(n){return u.slice()}};n.exports.f=function(n){return u&&"[object Window]"==e.call(n)?o(n):r(f(n))}},function(n,t,i){var r=i(36),u=i(44).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(n){return r(n,u)}},function(n,t,i){var u=i(74),f=i(29),e=i(9),o=i(28),s=i(31),h=i(24),r=Object.getOwnPropertyDescriptor;t.f=i(25)?r:function(n,t){if(n=e(n),t=o(t,!0),h)try{return r(n,t)}catch(n){}if(s(n,t))return f(!u.f.call(n,t),n[t])}},function(){},function(n,t,i){i(70)("asyncIterator")},function(n,t,i){i(70)("observable")},function(n,t,i){n.exports={"default":i(83),__esModule:!0}},function(n,t,i){var r=i(17),u=r.JSON||(r.JSON={stringify:JSON.stringify});n.exports=function(){return u.stringify.apply(u,arguments)}},function(n,t,i){n.exports="undefined"!=typeof window&&window.moment||i(85)},function(n,t,i){(function(n){!function(t,i){n.exports=i()}(this,function(){function i(){return pe.apply(null,arguments)}function wo(n){pe=n}function lt(n){return n instanceof Array||"[object Array]"===Object.prototype.toString.call(n)}function wi(n){return null!=n&&"[object Object]"===Object.prototype.toString.call(n)}function bo(n){for(var t in n)return!1;return!0}function gt(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function bi(n){return n instanceof Date||"[object Date]"===Object.prototype.toString.call(n)}function rf(n,t){for(var r=[],i=0;i<n.length;++i)r.push(t(n[i],i));return r}function a(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function at(n,t){for(var i in t)a(t,i)&&(n[i]=t[i]);return a(t,"toString")&&(n.toString=t.toString),a(t,"valueOf")&&(n.valueOf=t.valueOf),n}function ut(n,t,i,r){return ne(n,t,i,r,!0).utc()}function ko(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function f(n){return null==n._pf&&(n._pf=ko()),n._pf}function vr(n){if(null==n._isValid){var t=f(n),r=ry.call(t.parsedDateParts,function(n){return null!=n}),i=!isNaN(n._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(n._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(n))return i;n._isValid=i}return n._isValid}function ki(n){var t=ut(NaN);return null!=n?at(f(t),n):f(t).userInvalidated=!0,t}function k(n){return void 0===n}function yr(n,t){var u,i,r;if(k(t._isAMomentObject)||(n._isAMomentObject=t._isAMomentObject),k(t._i)||(n._i=t._i),k(t._f)||(n._f=t._f),k(t._l)||(n._l=t._l),k(t._strict)||(n._strict=t._strict),k(t._tzm)||(n._tzm=t._tzm),k(t._isUTC)||(n._isUTC=t._isUTC),k(t._offset)||(n._offset=t._offset),k(t._pf)||(n._pf=f(t)),k(t._locale)||(n._locale=t._locale),lu.length>0)for(u in lu)i=lu[u],r=t[i],k(r)||(n[i]=r);return n}function hi(n){yr(this,n);this._d=new Date(null!=n._d?n._d.getTime():NaN);this.isValid()||(this._d=new Date(NaN));au===!1&&(au=!0,i.updateOffset(this),au=!1)}function vt(n){return n instanceof hi||null!=n&&null!=n._isAMomentObject}function d(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function e(n){var t=+n,i=0;return 0!==t&&isFinite(t)&&(i=d(t)),i}function uf(n,t,i){for(var f=Math.min(n.length,t.length),o=Math.abs(n.length-t.length),u=0,r=0;r<f;r++)(i&&n[r]!==t[r]||!i&&e(n[r])!==e(t[r]))&&u++;return u+o}function ff(n){i.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+n)}function g(n,t){var r=!0;return at(function(){var u,e,f,o;if(null!=i.deprecationHandler&&i.deprecationHandler(null,n),r){for(e=[],f=0;f<arguments.length;f++){if(u="","object"==typeof arguments[f]){u+="\n["+f+"] ";for(o in arguments[0])u+=o+": "+arguments[0][o]+", ";u=u.slice(0,-2)}else u=arguments[f];e.push(u)}ff(n+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+(new Error).stack);r=!1}return t.apply(this,arguments)},t)}function ef(n,t){null!=i.deprecationHandler&&i.deprecationHandler(n,t);be[n]||(ff(t),be[n]=!0)}function et(n){return n instanceof Function||"[object Function]"===Object.prototype.toString.call(n)}function go(n){var t;for(var i in n)t=n[i],et(t)?this[i]=t:this["_"+i]=t;this._config=n;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function of(n,t){var i,r=at({},n);for(i in t)a(t,i)&&(wi(n[i])&&wi(t[i])?(r[i]={},at(r[i],n[i]),at(r[i],t[i])):null!=t[i]?r[i]=t[i]:delete r[i]);for(i in n)a(n,i)&&!a(t,i)&&wi(n[i])&&(r[i]=at({},r[i]));return r}function pr(n){null!=n&&this.set(n)}function ns(n,t,i){var r=this._calendar[n]||this._calendar.sameElse;return et(r)?r.call(t,i):r}function ts(n){var t=this._longDateFormat[n],i=this._longDateFormat[n.toUpperCase()];return t||!i?t:(this._longDateFormat[n]=i.replace(/MMMM|MM|DD|dddd/g,function(n){return n.slice(1)}),this._longDateFormat[n])}function is(){return this._invalidDate}function rs(n){return this._ordinal.replace("%d",n)}function us(n,t,i,r){var u=this._relativeTime[i];return et(u)?u(n,t,i,r):u.replace(/%d/i,n)}function fs(n,t){var i=this._relativeTime[n>0?"future":"past"];return et(i)?i(t):i.replace(/%s/i,t)}function w(n,t){var i=n.toLowerCase();vi[i]=vi[i+"s"]=vi[t]=n}function nt(n){if("string"==typeof n)return vi[n]||vi[n.toLowerCase()]}function wr(n){var i,t,r={};for(t in n)a(n,t)&&(i=nt(t),i&&(r[i]=n[t]));return r}function b(n,t){ge[n]=t}function es(n){var t=[];for(var i in n)t.push({unit:i,priority:ge[i]});return t.sort(function(n,t){return n.priority-t.priority}),t}function fi(n,t){return function(r){return null!=r?(sf(this,n,r),i.updateOffset(this,t),this):di(this,n)}}function di(n,t){return n.isValid()?n._d["get"+(n._isUTC?"UTC":"")+t]():NaN}function sf(n,t,i){n.isValid()&&n._d["set"+(n._isUTC?"UTC":"")+t](i)}function os(n){return n=nt(n),et(this[n])?this[n]():this}function ss(n,t){if("object"==typeof n){n=wr(n);for(var r=es(n),i=0;i<r.length;i++)this[r[i].unit](n[r[i].unit])}else if(n=nt(n),et(this[n]))return this[n](t);return this}function ot(n,t,i){var r=""+Math.abs(n),u=t-r.length,f=n>=0;return(f?i?"+":"":"-")+Math.pow(10,Math.max(0,u)).toString().substr(1)+r}function u(n,t,i,r){var u=r;"string"==typeof r&&(u=function(){return this[r]()});n&&(si[n]=u);t&&(si[t[0]]=function(){return ot(u.apply(this,arguments),t[1],t[2])});i&&(si[i]=function(){return this.localeData().ordinal(u.apply(this,arguments),n)})}function hs(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function cs(n){for(var t=n.match(no),i=0,r=t.length;i<r;i++)t[i]=si[t[i]]?si[t[i]]:hs(t[i]);return function(i){for(var f="",u=0;u<r;u++)f+=t[u]instanceof Function?t[u].call(i,n):t[u];return f}}function br(n,t){return n.isValid()?(t=hf(t,n.localeData()),vu[t]=vu[t]||cs(t),vu[t](n)):n.localeData().invalidDate()}function hf(n,t){function r(n){return t.longDateFormat(n)||n}var i=5;for(fr.lastIndex=0;i>=0&&fr.test(n);)n=n.replace(fr,r),fr.lastIndex=0,i-=1;return n}function r(n,t,i){wu[n]=et(t)?t:function(n){return n&&i?i:t}}function ls(n,t){return a(wu,n)?wu[n](t._strict,t._locale):new RegExp(as(n))}function as(n){return ni(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,t,i,r,u){return t||i||r||u}))}function ni(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function h(n,t){var i,r=t;for("string"==typeof n&&(n=[n]),gt(t)&&(r=function(n,i){i[t]=e(n)}),i=0;i<n.length;i++)bu[n[i]]=r}function ci(n,t){h(n,function(n,i,r,u){r._w=r._w||{};t(n,r._w,r,u)})}function vs(n,t,i){null!=t&&a(bu,n)&&bu[n](t,i._a,i,n)}function kr(n,t){return new Date(Date.UTC(n,t+1,0)).getUTCDate()}function ys(n,t){return n?lt(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||fo).test(t)?"format":"standalone"][n.month()]:this._months}function ps(n,t){return n?lt(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[fo.test(t)?"format":"standalone"][n.month()]:this._monthsShort}function ws(n,t,i){var u,r,e,f=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],u=0;u<12;++u)e=ut([2e3,u]),this._shortMonthsParse[u]=this.monthsShort(e,"").toLocaleLowerCase(),this._longMonthsParse[u]=this.months(e,"").toLocaleLowerCase();return i?"MMM"===t?(r=y.call(this._shortMonthsParse,f),r!==-1?r:null):(r=y.call(this._longMonthsParse,f),r!==-1?r:null):"MMM"===t?(r=y.call(this._shortMonthsParse,f),r!==-1?r:(r=y.call(this._longMonthsParse,f),r!==-1?r:null)):(r=y.call(this._longMonthsParse,f),r!==-1?r:(r=y.call(this._shortMonthsParse,f),r!==-1?r:null))}function bs(n,t,i){var r,u,f;if(this._monthsParseExact)return ws.call(this,n,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++)if((u=ut([2e3,r]),i&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(u,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(u,"").replace(".","")+"$","i")),i||this._monthsParse[r]||(f="^"+this.months(u,"")+"|^"+this.monthsShort(u,""),this._monthsParse[r]=new RegExp(f.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[r].test(n))||i&&"MMM"===t&&this._shortMonthsParse[r].test(n)||!i&&this._monthsParse[r].test(n))return r}function cf(n,t){var i;if(!n.isValid())return n;if("string"==typeof t)if(/^\d+$/.test(t))t=e(t);else if(t=n.localeData().monthsParse(t),!gt(t))return n;return i=Math.min(n.date(),kr(n.year(),t)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](t,i),n}function lf(n){return null!=n?(cf(this,n),i.updateOffset(this,!0),this):di(this,"Month")}function ks(){return kr(this.year(),this.month())}function ds(n){return this._monthsParseExact?(a(this,"_monthsRegex")||af.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=cy),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}function gs(n){return this._monthsParseExact?(a(this,"_monthsRegex")||af.call(this),n?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=ly),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}function af(){function f(n,t){return t.length-n.length}for(var i,r=[],u=[],t=[],n=0;n<12;n++)i=ut([2e3,n]),r.push(this.monthsShort(i,"")),u.push(this.months(i,"")),t.push(this.months(i,"")),t.push(this.monthsShort(i,""));for(r.sort(f),u.sort(f),t.sort(f),n=0;n<12;n++)r[n]=ni(r[n]),u[n]=ni(u[n]);for(n=0;n<24;n++)t[n]=ni(t[n]);this._monthsRegex=new RegExp("^("+t.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+u.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function li(n){return vf(n)?366:365}function vf(n){return n%4==0&&n%100!=0||n%400==0}function nh(){return vf(this.year())}function th(n,t,i,r,u,f,e){var o=new Date(n,t,i,r,u,f,e);return n<100&&n>=0&&isFinite(o.getFullYear())&&o.setFullYear(n),o}function gi(n){var t=new Date(Date.UTC.apply(null,arguments));return n<100&&n>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(n),t}function nr(n,t,i){var r=7+t-i,u=(7+gi(n,0,r).getUTCDay()-t)%7;return-u+r-1}function yf(n,t,i,r,u){var f,o,s=(7+i-r)%7,h=nr(n,r,u),e=1+7*(t-1)+s+h;return e<=0?(f=n-1,o=li(f)+e):e>li(n)?(f=n+1,o=e-li(n)):(f=n,o=e),{year:f,dayOfYear:o}}function ai(n,t,i){var f,r,e=nr(n.year(),t,i),u=Math.floor((n.dayOfYear()-e-1)/7)+1;return u<1?(r=n.year()-1,f=u+ti(r,t,i)):u>ti(n.year(),t,i)?(f=u-ti(n.year(),t,i),r=n.year()+1):(r=n.year(),f=u),{week:f,year:r}}function ti(n,t,i){var r=nr(n,t,i),u=nr(n+1,t,i);return(li(n)-r+u)/7}function ih(n){return ai(n,this._week.dow,this._week.doy).week}function rh(){return this._week.dow}function uh(){return this._week.doy}function fh(n){var t=this.localeData().week(this);return null==n?t:this.add(7*(n-t),"d")}function eh(n){var t=ai(this,1,4).week;return null==n?t:this.add(7*(n-t),"d")}function oh(n,t){return"string"!=typeof n?n:isNaN(n)?(n=t.weekdaysParse(n),"number"==typeof n?n:null):parseInt(n,10)}function sh(n,t){return"string"==typeof n?t.weekdaysParse(n)%7||7:isNaN(n)?null:n}function hh(n,t){return n?lt(this._weekdays)?this._weekdays[n.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][n.day()]:this._weekdays}function ch(n){return n?this._weekdaysShort[n.day()]:this._weekdaysShort}function lh(n){return n?this._weekdaysMin[n.day()]:this._weekdaysMin}function ah(n,t,i){var f,r,e,u=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],f=0;f<7;++f)e=ut([2e3,1]).day(f),this._minWeekdaysParse[f]=this.weekdaysMin(e,"").toLocaleLowerCase(),this._shortWeekdaysParse[f]=this.weekdaysShort(e,"").toLocaleLowerCase(),this._weekdaysParse[f]=this.weekdays(e,"").toLocaleLowerCase();return i?"dddd"===t?(r=y.call(this._weekdaysParse,u),r!==-1?r:null):"ddd"===t?(r=y.call(this._shortWeekdaysParse,u),r!==-1?r:null):(r=y.call(this._minWeekdaysParse,u),r!==-1?r:null):"dddd"===t?(r=y.call(this._weekdaysParse,u),r!==-1?r:(r=y.call(this._shortWeekdaysParse,u),r!==-1?r:(r=y.call(this._minWeekdaysParse,u),r!==-1?r:null))):"ddd"===t?(r=y.call(this._shortWeekdaysParse,u),r!==-1?r:(r=y.call(this._weekdaysParse,u),r!==-1?r:(r=y.call(this._minWeekdaysParse,u),r!==-1?r:null))):(r=y.call(this._minWeekdaysParse,u),r!==-1?r:(r=y.call(this._weekdaysParse,u),r!==-1?r:(r=y.call(this._shortWeekdaysParse,u),r!==-1?r:null)))}function vh(n,t,i){var r,u,f;if(this._weekdaysParseExact)return ah.call(this,n,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++)if((u=ut([2e3,1]).day(r),i&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(u,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(u,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(u,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(f="^"+this.weekdays(u,"")+"|^"+this.weekdaysShort(u,"")+"|^"+this.weekdaysMin(u,""),this._weekdaysParse[r]=new RegExp(f.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[r].test(n))||i&&"ddd"===t&&this._shortWeekdaysParse[r].test(n)||i&&"dd"===t&&this._minWeekdaysParse[r].test(n)||!i&&this._weekdaysParse[r].test(n))return r}function yh(n){if(!this.isValid())return null!=n?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=n?(n=oh(n,this.localeData()),this.add(n-t,"d")):t}function ph(n){if(!this.isValid())return null!=n?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==n?t:this.add(n-t,"d")}function wh(n){if(!this.isValid())return null!=n?this:NaN;if(null!=n){var t=sh(n,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function bh(n){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||dr.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=py),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}function kh(n){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||dr.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=wy),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function dh(n){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||dr.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=by),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function dr(){function u(n,t){return t.length-n.length}for(var f,e,o,s,h=[],i=[],r=[],t=[],n=0;n<7;n++)f=ut([2e3,1]).day(n),e=this.weekdaysMin(f,""),o=this.weekdaysShort(f,""),s=this.weekdays(f,""),h.push(e),i.push(o),r.push(s),t.push(e),t.push(o),t.push(s);for(h.sort(u),i.sort(u),r.sort(u),t.sort(u),n=0;n<7;n++)i[n]=ni(i[n]),r[n]=ni(r[n]),t[n]=ni(t[n]);this._weekdaysRegex=new RegExp("^("+t.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+h.join("|")+")","i")}function gr(){return this.hours()%12||12}function gh(){return this.hours()||24}function pf(n,t){u(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function wf(n,t){return t._meridiemParse}function nc(n){return"p"===(n+"").toLowerCase().charAt(0)}function tc(n,t,i){return n>11?i?"pm":"PM":i?"am":"AM"}function bf(n){return n?n.toLowerCase().replace("_","-"):n}function ic(n){for(var i,t,f,r,u=0;u<n.length;){for(r=bf(n[u]).split("-"),i=r.length,t=bf(n[u+1]),t=t?t.split("-"):null;i>0;){if(f=kf(r.slice(0,i).join("-")))return f;if(t&&t.length>=i&&uf(r,t,!0)>=i-1)break;i--}u++}return null}function kf(t){var i=null;if(!v[t]&&"undefined"!=typeof n&&n&&n.exports)try{i=lr._abbr;!function(){var n=new Error('Cannot find module "./locale"');throw n.code="MODULE_NOT_FOUND",n;}();ei(i)}catch(n){}return v[t]}function ei(n,t){var i;return n&&(i=k(t)?yt(n):nu(n,t),i&&(lr=i)),lr._abbr}function nu(n,t){if(null!==t){var i=oo;if(t.abbr=n,null!=v[n])ef("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=v[n]._config;else if(null!=t.parentLocale){if(null==v[t.parentLocale])return pi[t.parentLocale]||(pi[t.parentLocale]=[]),pi[t.parentLocale].push({name:n,config:t}),null;i=v[t.parentLocale]._config}return v[n]=new pr(of(i,t)),pi[n]&&pi[n].forEach(function(n){nu(n.name,n.config)}),ei(n),v[n]}return delete v[n],null}function rc(n,t){if(null!=t){var i,r=oo;null!=v[n]&&(r=v[n]._config);t=of(r,t);i=new pr(t);i.parentLocale=v[n];v[n]=i;ei(n)}else null!=v[n]&&(null!=v[n].parentLocale?v[n]=v[n].parentLocale:null!=v[n]&&delete v[n]);return v[n]}function yt(n){var t;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return lr;if(!lt(n)){if(t=kf(n))return t;n=[n]}return ic(n)}function uc(){return uy(v)}function tu(n){var i,t=n._a;return t&&f(n).overflow===-2&&(i=t[st]<0||t[st]>11?st:t[ft]<1||t[ft]>kr(t[it],t[st])?ft:t[p]<0||t[p]>24||24===t[p]&&(0!==t[rt]||0!==t[ht]||0!==t[ui])?p:t[rt]<0||t[rt]>59?rt:t[ht]<0||t[ht]>59?ht:t[ui]<0||t[ui]>999?ui:-1,f(n)._overflowDayOfYear&&(i<it||i>ft)&&(i=ft),f(n)._overflowWeeks&&i===-1&&(i=ey),f(n)._overflowWeekday&&i===-1&&(i=oy),f(n).overflow=i),n}function df(n){var t,r,o,e,u,s,h=n._i,i=dy.exec(h)||gy.exec(h);if(i){for(f(n).iso=!0,t=0,r=ar.length;t<r;t++)if(ar[t][1].exec(i[1])){e=ar[t][0];o=ar[t][2]!==!1;break}if(null==e)return void(n._isValid=!1);if(i[3]){for(t=0,r=du.length;t<r;t++)if(du[t][1].exec(i[3])){u=(i[2]||" ")+du[t][0];break}if(null==u)return void(n._isValid=!1)}if(!o&&null!=u)return void(n._isValid=!1);if(i[4]){if(!np.exec(i[4]))return void(n._isValid=!1);s="Z"}n._f=e+(u||"")+(s||"");ru(n)}else n._isValid=!1}function fc(n){var t=tp.exec(n._i);return null!==t?void(n._d=new Date(+t[1])):(df(n),void(n._isValid===!1&&(delete n._isValid,i.createFromInputFallback(n))))}function oi(n,t,i){return null!=n?n:null!=t?t:i}function ec(n){var t=new Date(i.now());return n._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function iu(n){var t,i,r,u,e=[];if(!n._d){for(r=ec(n),n._w&&null==n._a[ft]&&null==n._a[st]&&oc(n),n._dayOfYear&&(u=oi(n._a[it],r[it]),n._dayOfYear>li(u)&&(f(n)._overflowDayOfYear=!0),i=gi(u,0,n._dayOfYear),n._a[st]=i.getUTCMonth(),n._a[ft]=i.getUTCDate()),t=0;t<3&&null==n._a[t];++t)n._a[t]=e[t]=r[t];for(;t<7;t++)n._a[t]=e[t]=null==n._a[t]?2===t?1:0:n._a[t];24===n._a[p]&&0===n._a[rt]&&0===n._a[ht]&&0===n._a[ui]&&(n._nextDay=!0,n._a[p]=0);n._d=(n._useUTC?gi:th).apply(null,e);null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm);n._nextDay&&(n._a[p]=24)}}function oc(n){var t,o,u,i,r,e,h,s,l;(t=n._w,null!=t.GG||null!=t.W||null!=t.E)?(r=1,e=4,o=oi(t.GG,n._a[it],ai(c(),1,4).year),u=oi(t.W,1),i=oi(t.E,1),(i<1||i>7)&&(s=!0)):(r=n._locale._week.dow,e=n._locale._week.doy,l=ai(c(),r,e),o=oi(t.gg,n._a[it],l.year),u=oi(t.w,l.week),null!=t.d?(i=t.d,(i<0||i>6)&&(s=!0)):null!=t.e?(i=t.e+r,(t.e<0||t.e>6)&&(s=!0)):i=r);u<1||u>ti(o,r,e)?f(n)._overflowWeeks=!0:null!=s?f(n)._overflowWeekday=!0:(h=yf(o,u,i,r,e),n._a[it]=h.year,n._dayOfYear=h.dayOfYear)}function ru(n){if(n._f===i.ISO_8601)return void df(n);n._a=[];f(n).empty=!0;for(var t,u,s,r=""+n._i,c=r.length,h=0,o=hf(n._f,n._locale).match(no)||[],e=0;e<o.length;e++)u=o[e],t=(r.match(ls(u,n))||[])[0],t&&(s=r.substr(0,r.indexOf(t)),s.length>0&&f(n).unusedInput.push(s),r=r.slice(r.indexOf(t)+t.length),h+=t.length),si[u]?(t?f(n).empty=!1:f(n).unusedTokens.push(u),vs(u,t,n)):n._strict&&!t&&f(n).unusedTokens.push(u);f(n).charsLeftOver=c-h;r.length>0&&f(n).unusedInput.push(r);n._a[p]<=12&&f(n).bigHour===!0&&n._a[p]>0&&(f(n).bigHour=void 0);f(n).parsedDateParts=n._a.slice(0);f(n).meridiem=n._meridiem;n._a[p]=sc(n._locale,n._a[p],n._meridiem);iu(n);tu(n)}function sc(n,t,i){var r;return null==i?t:null!=n.meridiemHour?n.meridiemHour(t,i):null!=n.isPM?(r=n.isPM(i),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function hc(n){var t,e,u,r,i;if(0===n._f.length)return f(n).invalidFormat=!0,void(n._d=new Date(NaN));for(r=0;r<n._f.length;r++)i=0,t=yr({},n),null!=n._useUTC&&(t._useUTC=n._useUTC),t._f=n._f[r],ru(t),vr(t)&&(i+=f(t).charsLeftOver,i+=10*f(t).unusedTokens.length,f(t).score=i,(null==u||i<u)&&(u=i,e=t));at(n,e||t)}function cc(n){if(!n._d){var t=wr(n._i);n._a=rf([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)});iu(n)}}function lc(n){var t=new hi(tu(gf(n)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function gf(n){var t=n._i,i=n._f;return n._locale=n._locale||yt(n._l),null===t||void 0===i&&""===t?ki({nullInput:!0}):("string"==typeof t&&(n._i=t=n._locale.preparse(t)),vt(t)?new hi(tu(t)):(bi(t)?n._d=t:lt(i)?hc(n):i?ru(n):ac(n),vr(n)||(n._d=null),n))}function ac(n){var t=n._i;void 0===t?n._d=new Date(i.now()):bi(t)?n._d=new Date(t.valueOf()):"string"==typeof t?fc(n):lt(t)?(n._a=rf(t.slice(0),function(n){return parseInt(n,10)}),iu(n)):"object"==typeof t?cc(n):gt(t)?n._d=new Date(t):i.createFromInputFallback(n)}function ne(n,t,i,r,u){var f={};return i!==!0&&i!==!1||(r=i,i=void 0),(wi(n)&&bo(n)||lt(n)&&0===n.length)&&(n=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=u,f._l=i,f._i=n,f._f=t,f._strict=r,lc(f)}function c(n,t,i,r){return ne(n,t,i,r,!1)}function te(n,t){var r,i;if(1===t.length&&lt(t[0])&&(t=t[0]),!t.length)return c();for(r=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][n](r)||(r=t[i]);return r}function vc(){var n=[].slice.call(arguments,0);return te("isBefore",n)}function yc(){var n=[].slice.call(arguments,0);return te("isAfter",n)}function tr(n){var t=wr(n),i=t.year||0,r=t.quarter||0,u=t.month||0,f=t.week||0,e=t.day||0,o=t.hour||0,s=t.minute||0,h=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*h+6e4*s+36e5*o;this._days=+e+7*f;this._months=+u+3*r+12*i;this._data={};this._locale=yt();this._bubble()}function uu(n){return n instanceof tr}function fu(n){return n<0?Math.round(-1*n)*-1:Math.round(n)}function ie(n,t){u(n,0,0,function(){var n=this.utcOffset(),i="+";return n<0&&(n=-n,i="-"),i+ot(~~(n/60),2)+t+ot(~~n%60,2)})}function eu(n,t){var i=(t||"").match(n);if(null===i)return null;var f=i[i.length-1]||[],r=(f+"").match(so)||["-",0,0],u=+(60*r[1])+e(r[2]);return 0===u?0:"+"===r[0]?u:-u}function ou(n,t){var r,u;return t._isUTC?(r=t.clone(),u=(vt(n)||bi(n)?n.valueOf():c(n).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+u),i.updateOffset(r,!1),r):c(n).local()}function su(n){return 15*-Math.round(n._d.getTimezoneOffset()/15)}function pc(n,t){var r,u=this._offset||0;if(!this.isValid())return null!=n?this:NaN;if(null!=n){if("string"==typeof n){if(n=eu(cr,n),null===n)return this}else Math.abs(n)<16&&(n*=60);return!this._isUTC&&t&&(r=su(this)),this._offset=n,this._isUTC=!0,null!=r&&this.add(r,"m"),u!==n&&(!t||this._changeInProgress?ee(this,pt(n-u,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?u:su(this)}function wc(n,t){return null!=n?("string"!=typeof n&&(n=-n),this.utcOffset(n,t),this):-this.utcOffset()}function bc(n){return this.utcOffset(0,n)}function kc(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(su(this),"m")),this}function dc(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var n=eu(fy,this._i);null!=n?this.utcOffset(n):this.utcOffset(0,!0)}return this}function gc(n){return!!this.isValid()&&(n=n?c(n).utcOffset():0,(this.utcOffset()-n)%60==0)}function nl(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function tl(){var n,t;return k(this._isDSTShifted)?(n={},(yr(n,this),n=gf(n),n._a)?(t=n._isUTC?ut(n._a):c(n._a),this._isDSTShifted=this.isValid()&&uf(n._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted):this._isDSTShifted}function il(){return!!this.isValid()&&!this._isUTC}function rl(){return!!this.isValid()&&this._isUTC}function re(){return!!this.isValid()&&this._isUTC&&0===this._offset}function pt(n,t){var u,f,o,i=n,r=null;return uu(n)?i={ms:n._milliseconds,d:n._days,M:n._months}:gt(n)?(i={},t?i[t]=n:i.milliseconds=n):(r=ho.exec(n))?(u="-"===r[1]?-1:1,i={y:0,d:e(r[ft])*u,h:e(r[p])*u,m:e(r[rt])*u,s:e(r[ht])*u,ms:e(fu(1e3*r[ui]))*u}):(r=co.exec(n))?(u="-"===r[1]?-1:1,i={y:ii(r[2],u),M:ii(r[3],u),w:ii(r[4],u),d:ii(r[5],u),h:ii(r[6],u),m:ii(r[7],u),s:ii(r[8],u)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(o=ul(c(i.from),c(i.to)),i={},i.ms=o.milliseconds,i.M=o.months),f=new tr(i),uu(n)&&a(n,"_locale")&&(f._locale=n._locale),f}function ii(n,t){var i=n&&parseFloat(n.replace(",","."));return(isNaN(i)?0:i)*t}function ue(n,t){var i={milliseconds:0,months:0};return i.months=t.month()-n.month()+12*(t.year()-n.year()),n.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+n.clone().add(i.months,"M"),i}function ul(n,t){var i;return n.isValid()&&t.isValid()?(t=ou(t,n),n.isBefore(t)?i=ue(n,t):(i=ue(t,n),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function fe(n,t){return function(i,r){var u,f;return null===r||isNaN(+r)||(ef(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),f=i,i=r,r=f),i="string"==typeof i?+i:i,u=pt(i,r),ee(this,u,n),this}}function ee(n,t,r,u){var o=t._milliseconds,f=fu(t._days),e=fu(t._months);n.isValid()&&(u=null==u||u,o&&n._d.setTime(n._d.valueOf()+o*r),f&&sf(n,"Date",di(n,"Date")+f*r),e&&cf(n,di(n,"Month")+e*r),u&&i.updateOffset(n,f||e))}function fl(n,t){var i=n.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function el(n,t){var u=n||c(),f=ou(u,this).startOf("day"),r=i.calendarFormat(this,f)||"sameElse",e=t&&(et(t[r])?t[r].call(this,u):t[r]);return this.format(e||this.localeData().calendar(r,this,c(u)))}function ol(){return new hi(this)}function sl(n,t){var i=vt(n)?n:c(n);return!(!this.isValid()||!i.isValid())&&(t=nt(k(t)?"millisecond":t),"millisecond"===t?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())}function hl(n,t){var i=vt(n)?n:c(n);return!(!this.isValid()||!i.isValid())&&(t=nt(k(t)?"millisecond":t),"millisecond"===t?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())}function cl(n,t,i,r){return r=r||"()",("("===r[0]?this.isAfter(n,i):!this.isBefore(n,i))&&(")"===r[1]?this.isBefore(t,i):!this.isAfter(t,i))}function ll(n,t){var i,r=vt(n)?n:c(n);return!(!this.isValid()||!r.isValid())&&(t=nt(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(i=r.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))}function al(n,t){return this.isSame(n,t)||this.isAfter(n,t)}function vl(n,t){return this.isSame(n,t)||this.isBefore(n,t)}function yl(n,t,i){var f,e,r,u;return this.isValid()?(f=ou(n,this),f.isValid()?(e=6e4*(f.utcOffset()-this.utcOffset()),t=nt(t),"year"===t||"month"===t||"quarter"===t?(u=pl(this,f),"quarter"===t?u/=3:"year"===t&&(u/=12)):(r=this-f,u="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-e)/864e5:"week"===t?(r-e)/6048e5:r),i?u:d(u)):NaN):NaN}function pl(n,t){var r,f,u=12*(t.year()-n.year())+(t.month()-n.month()),i=n.clone().add(u,"months");return t-i<0?(r=n.clone().add(u-1,"months"),f=(t-i)/(i-r)):(r=n.clone().add(u+1,"months"),f=(t-i)/(r-i)),-(u+f)||0}function wl(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function bl(){var n=this.clone().utc();return 0<n.year()&&n.year()<=9999?et(Date.prototype.toISOString)?this.toDate().toISOString():br(n,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):br(n,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function kl(){var n,t;if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";n="moment";t="";this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var i="["+n+'("]',r=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",u=t+'[")]';return this.format(i+r+"-MM-DD[T]HH:mm:ss.SSS"+u)}function dl(n){n||(n=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=br(this,n);return this.localeData().postformat(t)}function gl(n,t){return this.isValid()&&(vt(n)&&n.isValid()||c(n).isValid())?pt({to:this,from:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function na(n){return this.from(c(),n)}function ta(n,t){return this.isValid()&&(vt(n)&&n.isValid()||c(n).isValid())?pt({from:this,to:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ia(n){return this.to(c(),n)}function oe(n){var t;return void 0===n?this._locale._abbr:(t=yt(n),null!=t&&(this._locale=t),this)}function se(){return this._locale}function ra(n){switch(n=nt(n)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===n&&this.weekday(0),"isoWeek"===n&&this.isoWeekday(1),"quarter"===n&&this.month(3*Math.floor(this.month()/3)),this}function ua(n){return n=nt(n),void 0===n||"millisecond"===n?this:("date"===n&&(n="day"),this.startOf(n).add(1,"isoWeek"===n?"week":n).subtract(1,"ms"))}function fa(){return this._d.valueOf()-6e4*(this._offset||0)}function ea(){return Math.floor(this.valueOf()/1e3)}function oa(){return new Date(this.valueOf())}function sa(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function ha(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function ca(){return this.isValid()?this.toISOString():null}function la(){return vr(this)}function aa(){return at({},f(this))}function va(){return f(this).overflow}function ya(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function ir(n,t){u(0,[n,n.length],0,t)}function pa(n){return he.call(this,n,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function wa(n){return he.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function ba(){return ti(this.year(),1,4)}function ka(){var n=this.localeData()._week;return ti(this.year(),n.dow,n.doy)}function he(n,t,i,r,u){var f;return null==n?ai(this,r,u).year:(f=ti(n,r,u),t>f&&(t=f),da.call(this,n,t,i,r,u))}function da(n,t,i,r,u){var e=yf(n,t,i,r,u),f=gi(e.year,0,e.dayOfYear);return this.year(f.getUTCFullYear()),this.month(f.getUTCMonth()),this.date(f.getUTCDate()),this}function ga(n){return null==n?Math.ceil((this.month()+1)/3):this.month(3*(n-1)+this.month()%3)}function nv(n){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==n?t:this.add(n-t,"d")}function tv(n,t){t[ui]=e(1e3*("0."+n))}function iv(){return this._isUTC?"UTC":""}function rv(){return this._isUTC?"Coordinated Universal Time":""}function uv(n){return c(1e3*n)}function fv(){return c.apply(null,arguments).parseZone()}function ce(n){return n}function rr(n,t,i,r){var u=yt(),f=ut().set(r,t);return u[i](f,n)}function le(n,t,i){if(gt(n)&&(t=n,n=void 0),n=n||"",null!=t)return rr(n,t,i,"month");for(var u=[],r=0;r<12;r++)u[r]=rr(n,r,i,"month");return u}function hu(n,t,i,r){var o,f,u,e;if("boolean"==typeof n?(gt(t)&&(i=t,t=void 0),t=t||""):(t=n,i=t,n=!1,gt(t)&&(i=t,t=void 0),t=t||""),o=yt(),f=n?o._week.dow:0,null!=i)return rr(t,(i+f)%7,r,"day");for(e=[],u=0;u<7;u++)e[u]=rr(t,(u+f)%7,r,"day");return e}function ev(n,t){return le(n,t,"months")}function ov(n,t){return le(n,t,"monthsShort")}function sv(n,t,i){return hu(n,t,i,"weekdays")}function hv(n,t,i){return hu(n,t,i,"weekdaysShort")}function cv(n,t,i){return hu(n,t,i,"weekdaysMin")}function lv(){var n=this._data;return this._milliseconds=ct(this._milliseconds),this._days=ct(this._days),this._months=ct(this._months),n.milliseconds=ct(n.milliseconds),n.seconds=ct(n.seconds),n.minutes=ct(n.minutes),n.hours=ct(n.hours),n.months=ct(n.months),n.years=ct(n.years),this}function ae(n,t,i,r){var u=pt(t,i);return n._milliseconds+=r*u._milliseconds,n._days+=r*u._days,n._months+=r*u._months,n._bubble()}function av(n,t){return ae(this,n,t,1)}function vv(n,t){return ae(this,n,t,-1)}function ve(n){return n<0?Math.floor(n):Math.ceil(n)}function yv(){var u,f,e,s,o,r=this._milliseconds,n=this._days,t=this._months,i=this._data;return r>=0&&n>=0&&t>=0||r<=0&&n<=0&&t<=0||(r+=864e5*ve(cu(t)+n),n=0,t=0),i.milliseconds=r%1e3,u=d(r/1e3),i.seconds=u%60,f=d(u/60),i.minutes=f%60,e=d(f/60),i.hours=e%24,n+=d(e/24),o=d(ye(n)),t+=o,n-=ve(cu(o)),s=d(t/12),t%=12,i.days=n,i.months=t,i.years=s,this}function ye(n){return 4800*n/146097}function cu(n){return 146097*n/4800}function pv(n){var t,r,i=this._milliseconds;if(n=nt(n),"month"===n||"year"===n)return t=this._days+i/864e5,r=this._months+ye(t),"month"===n?r:r/12;switch(t=this._days+Math.round(cu(this._months)),n){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+n);}}function wv(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*e(this._months/12)}function wt(n){return function(){return this.as(n)}}function bv(n){return n=nt(n),this[n+"s"]()}function ri(n){return function(){return this._data[n]}}function kv(){return d(this.days()/7)}function dv(n,t,i,r,u){return u.relativeTime(t||1,!!i,n,r)}function gv(n,t,i){var r=pt(n).abs(),h=kt(r.as("s")),f=kt(r.as("m")),e=kt(r.as("h")),o=kt(r.as("d")),s=kt(r.as("M")),c=kt(r.as("y")),u=h<dt.s&&["s",h]||f<=1&&["m"]||f<dt.m&&["mm",f]||e<=1&&["h"]||e<dt.h&&["hh",e]||o<=1&&["d"]||o<dt.d&&["dd",o]||s<=1&&["M"]||s<dt.M&&["MM",s]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+n>0,u[4]=i,dv.apply(null,u)}function ny(n){return void 0===n?kt:"function"==typeof n&&(kt=n,!0)}function ty(n,t){return void 0!==dt[n]&&(void 0===t?dt[n]:(dt[n]=t,!0))}function iy(n){var t=this.localeData(),i=gv(this,!n,t);return n&&(i=t.pastFuture(+this,i)),t.postformat(i)}function ur(){var n,e,o,t=tf(this._milliseconds)/1e3,a=tf(this._days),i=tf(this._months);n=d(t/60);e=d(n/60);t%=60;n%=60;o=d(i/12);i%=12;var s=o,h=i,c=a,r=e,u=n,f=t,l=this.asSeconds();return l?(l<0?"-":"")+"P"+(s?s+"Y":"")+(h?h+"M":"")+(c?c+"D":"")+(r||u||f?"T":"")+(r?r+"H":"")+(u?u+"M":"")+(f?f+"S":""):"P0D"}var pe,we,ke,y,ku,eo,so,ho,co,lo,ao,gu,nf,vo,yo,bt,po,t,s;we=Array.prototype.some?Array.prototype.some:function(n){for(var i=Object(this),r=i.length>>>0,t=0;t<r;t++)if(t in i&&n.call(this,i[t],t,i))return!0;return!1};var ry=we,lu=i.momentProperties=[],au=!1,be={};i.suppressDeprecationWarnings=!1;i.deprecationHandler=null;ke=Object.keys?Object.keys:function(n){var t,i=[];for(t in n)a(n,t)&&i.push(t);return i};var de,uy=ke,vi={},ge={},no=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,fr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,vu={},si={},to=/\d/,tt=/\d\d/,io=/\d{3}/,yu=/\d{4}/,er=/[+-]?\d{6}/,l=/\d\d?/,ro=/\d\d\d\d?/,uo=/\d\d\d\d\d\d?/,or=/\d{1,3}/,pu=/\d{1,4}/,sr=/[+-]?\d{1,6}/,hr=/[+-]?\d+/,fy=/Z|[+-]\d\d:?\d\d/gi,cr=/Z|[+-]\d\d(?::?\d\d)?/gi,yi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,wu={},bu={},it=0,st=1,ft=2,p=3,rt=4,ht=5,ui=6,ey=7,oy=8;de=Array.prototype.indexOf?Array.prototype.indexOf:function(n){for(var t=0;t<this.length;++t)if(this[t]===n)return t;return-1};y=de;u("M",["MM",2],"Mo",function(){return this.month()+1});u("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});u("MMMM",0,0,function(n){return this.localeData().months(this,n)});w("month","M");b("month",8);r("M",l);r("MM",l,tt);r("MMM",function(n,t){return t.monthsShortRegex(n)});r("MMMM",function(n,t){return t.monthsRegex(n)});h(["M","MM"],function(n,t){t[st]=e(n)-1});h(["MMM","MMMM"],function(n,t,i,r){var u=i._locale.monthsParse(n,r,i._strict);null!=u?t[st]=u:f(i).invalidMonth=n});var fo=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,sy="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),hy="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),cy=yi,ly=yi;u("Y",0,0,function(){var n=this.year();return n<=9999?""+n:"+"+n});u(0,["YY",2],0,function(){return this.year()%100});u(0,["YYYY",4],0,"year");u(0,["YYYYY",5],0,"year");u(0,["YYYYYY",6,!0],0,"year");w("year","y");b("year",1);r("Y",hr);r("YY",l,tt);r("YYYY",pu,yu);r("YYYYY",sr,er);r("YYYYYY",sr,er);h(["YYYYY","YYYYYY"],it);h("YYYY",function(n,t){t[it]=2===n.length?i.parseTwoDigitYear(n):e(n)});h("YY",function(n,t){t[it]=i.parseTwoDigitYear(n)});h("Y",function(n,t){t[it]=parseInt(n,10)});i.parseTwoDigitYear=function(n){return e(n)+(e(n)>68?1900:2e3)};ku=fi("FullYear",!0);u("w",["ww",2],"wo","week");u("W",["WW",2],"Wo","isoWeek");w("week","w");w("isoWeek","W");b("week",5);b("isoWeek",5);r("w",l);r("ww",l,tt);r("W",l);r("WW",l,tt);ci(["w","ww","W","WW"],function(n,t,i,r){t[r.substr(0,1)]=e(n)});eo={dow:0,doy:6};u("d",0,"do","day");u("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});u("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});u("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});u("e",0,0,"weekday");u("E",0,0,"isoWeekday");w("day","d");w("weekday","e");w("isoWeekday","E");b("day",11);b("weekday",11);b("isoWeekday",11);r("d",l);r("e",l);r("E",l);r("dd",function(n,t){return t.weekdaysMinRegex(n)});r("ddd",function(n,t){return t.weekdaysShortRegex(n)});r("dddd",function(n,t){return t.weekdaysRegex(n)});ci(["dd","ddd","dddd"],function(n,t,i,r){var u=i._locale.weekdaysParse(n,r,i._strict);null!=u?t.d=u:f(i).invalidWeekday=n});ci(["d","e","E"],function(n,t,i,r){t[r]=e(n)});var ay="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),vy="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),yy="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),py=yi,wy=yi,by=yi;u("H",["HH",2],0,"hour");u("h",["hh",2],0,gr);u("k",["kk",2],0,gh);u("hmm",0,0,function(){return""+gr.apply(this)+ot(this.minutes(),2)});u("hmmss",0,0,function(){return""+gr.apply(this)+ot(this.minutes(),2)+ot(this.seconds(),2)});u("Hmm",0,0,function(){return""+this.hours()+ot(this.minutes(),2)});u("Hmmss",0,0,function(){return""+this.hours()+ot(this.minutes(),2)+ot(this.seconds(),2)});pf("a",!0);pf("A",!1);w("hour","h");b("hour",13);r("a",wf);r("A",wf);r("H",l);r("h",l);r("HH",l,tt);r("hh",l,tt);r("hmm",ro);r("hmmss",uo);r("Hmm",ro);r("Hmmss",uo);h(["H","HH"],p);h(["a","A"],function(n,t,i){i._isPm=i._locale.isPM(n);i._meridiem=n});h(["h","hh"],function(n,t,i){t[p]=e(n);f(i).bigHour=!0});h("hmm",function(n,t,i){var r=n.length-2;t[p]=e(n.substr(0,r));t[rt]=e(n.substr(r));f(i).bigHour=!0});h("hmmss",function(n,t,i){var r=n.length-4,u=n.length-2;t[p]=e(n.substr(0,r));t[rt]=e(n.substr(r,2));t[ht]=e(n.substr(u));f(i).bigHour=!0});h("Hmm",function(n,t){var i=n.length-2;t[p]=e(n.substr(0,i));t[rt]=e(n.substr(i))});h("Hmmss",function(n,t){var i=n.length-4,r=n.length-2;t[p]=e(n.substr(0,i));t[rt]=e(n.substr(i,2));t[ht]=e(n.substr(r))});var lr,ky=fi("Hours",!0),oo={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",ordinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:sy,monthsShort:hy,week:eo,weekdays:ay,weekdaysMin:yy,weekdaysShort:vy,meridiemParse:/[ap]\.?m?\.?/i},v={},pi={},dy=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gy=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,np=/Z|[+-]\d\d(?::?\d\d)?/,ar=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],du=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],tp=/^\/?Date\((\-?\d+)/i;i.createFromInputFallback=g("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});i.ISO_8601=function(){};var ip=g("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=c.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:ki()}),rp=g("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=c.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:ki()}),up=function(){return Date.now?Date.now():+new Date};for(ie("Z",":"),ie("ZZ",""),r("Z",cr),r("ZZ",cr),h(["Z","ZZ"],function(n,t,i){i._useUTC=!0;i._tzm=eu(cr,n)}),so=/([\+\-]|\d\d)/gi,i.updateOffset=function(){},ho=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,co=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/,pt.fn=tr.prototype,lo=fe(1,"add"),ao=fe(-1,"subtract"),i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",gu=g("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return void 0===n?this.localeData():this.locale(n)}),u(0,["gg",2],0,function(){return this.weekYear()%100}),u(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ir("gggg","weekYear"),ir("ggggg","weekYear"),ir("GGGG","isoWeekYear"),ir("GGGGG","isoWeekYear"),w("weekYear","gg"),w("isoWeekYear","GG"),b("weekYear",1),b("isoWeekYear",1),r("G",hr),r("g",hr),r("GG",l,tt),r("gg",l,tt),r("GGGG",pu,yu),r("gggg",pu,yu),r("GGGGG",sr,er),r("ggggg",sr,er),ci(["gggg","ggggg","GGGG","GGGGG"],function(n,t,i,r){t[r.substr(0,2)]=e(n)}),ci(["gg","GG"],function(n,t,r,u){t[u]=i.parseTwoDigitYear(n)}),u("Q",0,"Qo","quarter"),w("quarter","Q"),b("quarter",7),r("Q",to),h("Q",function(n,t){t[st]=3*(e(n)-1)}),u("D",["DD",2],"Do","date"),w("date","D"),b("date",9),r("D",l),r("DD",l,tt),r("Do",function(n,t){return n?t._ordinalParse:t._ordinalParseLenient}),h(["D","DD"],ft),h("Do",function(n,t){t[ft]=e(n.match(l)[0],10)}),nf=fi("Date",!0),u("DDD",["DDDD",3],"DDDo","dayOfYear"),w("dayOfYear","DDD"),b("dayOfYear",4),r("DDD",or),r("DDDD",io),h(["DDD","DDDD"],function(n,t,i){i._dayOfYear=e(n)}),u("m",["mm",2],0,"minute"),w("minute","m"),b("minute",14),r("m",l),r("mm",l,tt),h(["m","mm"],rt),vo=fi("Minutes",!1),u("s",["ss",2],0,"second"),w("second","s"),b("second",15),r("s",l),r("ss",l,tt),h(["s","ss"],ht),yo=fi("Seconds",!1),u("S",0,0,function(){return~~(this.millisecond()/100)}),u(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),u(0,["SSS",3],0,"millisecond"),u(0,["SSSS",4],0,function(){return 10*this.millisecond()}),u(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),u(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),u(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),u(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),u(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),w("millisecond","ms"),b("millisecond",16),r("S",or,to),r("SS",or,tt),r("SSS",or,io),bt="SSSS";bt.length<=9;bt+="S")r(bt,/\d+/);for(bt="S";bt.length<=9;bt+="S")h(bt,tv);po=fi("Milliseconds",!1);u("z",0,0,"zoneAbbr");u("zz",0,0,"zoneName");t=hi.prototype;t.add=lo;t.calendar=el;t.clone=ol;t.diff=yl;t.endOf=ua;t.format=dl;t.from=gl;t.fromNow=na;t.to=ta;t.toNow=ia;t.get=os;t.invalidAt=va;t.isAfter=sl;t.isBefore=hl;t.isBetween=cl;t.isSame=ll;t.isSameOrAfter=al;t.isSameOrBefore=vl;t.isValid=la;t.lang=gu;t.locale=oe;t.localeData=se;t.max=rp;t.min=ip;t.parsingFlags=aa;t.set=ss;t.startOf=ra;t.subtract=ao;t.toArray=sa;t.toObject=ha;t.toDate=oa;t.toISOString=bl;t.inspect=kl;t.toJSON=ca;t.toString=wl;t.unix=ea;t.valueOf=fa;t.creationData=ya;t.year=ku;t.isLeapYear=nh;t.weekYear=pa;t.isoWeekYear=wa;t.quarter=t.quarters=ga;t.month=lf;t.daysInMonth=ks;t.week=t.weeks=fh;t.isoWeek=t.isoWeeks=eh;t.weeksInYear=ka;t.isoWeeksInYear=ba;t.date=nf;t.day=t.days=yh;t.weekday=ph;t.isoWeekday=wh;t.dayOfYear=nv;t.hour=t.hours=ky;t.minute=t.minutes=vo;t.second=t.seconds=yo;t.millisecond=t.milliseconds=po;t.utcOffset=pc;t.utc=bc;t.local=kc;t.parseZone=dc;t.hasAlignedHourOffset=gc;t.isDST=nl;t.isLocal=il;t.isUtcOffset=rl;t.isUtc=re;t.isUTC=re;t.zoneAbbr=iv;t.zoneName=rv;t.dates=g("dates accessor is deprecated. Use date instead.",nf);t.months=g("months accessor is deprecated. Use month instead",lf);t.years=g("years accessor is deprecated. Use year instead",ku);t.zone=g("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",wc);t.isDSTShifted=g("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",tl);s=pr.prototype;s.calendar=ns;s.longDateFormat=ts;s.invalidDate=is;s.ordinal=rs;s.preparse=ce;s.postformat=ce;s.relativeTime=us;s.pastFuture=fs;s.set=go;s.months=ys;s.monthsShort=ps;s.monthsParse=bs;s.monthsRegex=gs;s.monthsShortRegex=ds;s.week=ih;s.firstDayOfYear=uh;s.firstDayOfWeek=rh;s.weekdays=hh;s.weekdaysMin=lh;s.weekdaysShort=ch;s.weekdaysParse=vh;s.weekdaysRegex=bh;s.weekdaysShortRegex=kh;s.weekdaysMinRegex=dh;s.isPM=nc;s.meridiem=tc;ei("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var t=n%10,i=1===e(n%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return n+i}});i.lang=g("moment.lang is deprecated. Use moment.locale instead.",ei);i.langData=g("moment.langData is deprecated. Use moment.localeData instead.",yt);var ct=Math.abs,fp=wt("ms"),ep=wt("s"),op=wt("m"),sp=wt("h"),hp=wt("d"),cp=wt("w"),lp=wt("M"),ap=wt("y"),vp=ri("milliseconds"),yp=ri("seconds"),pp=ri("minutes"),wp=ri("hours"),bp=ri("days"),kp=ri("months"),dp=ri("years"),kt=Math.round,dt={s:45,m:45,h:22,d:26,M:11},tf=Math.abs,o=tr.prototype;return o.abs=lv,o.add=av,o.subtract=vv,o.as=pv,o.asMilliseconds=fp,o.asSeconds=ep,o.asMinutes=op,o.asHours=sp,o.asDays=hp,o.asWeeks=cp,o.asMonths=lp,o.asYears=ap,o.valueOf=wv,o._bubble=yv,o.get=bv,o.milliseconds=vp,o.seconds=yp,o.minutes=pp,o.hours=wp,o.days=bp,o.weeks=kv,o.months=kp,o.years=dp,o.humanize=iy,o.toISOString=ur,o.toString=ur,o.toJSON=ur,o.locale=oe,o.localeData=se,o.toIsoString=g("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ur),o.lang=gu,u("X",0,0,"unix"),u("x",0,0,"valueOf"),r("x",hr),r("X",/[+-]?\d+(\.\d{1,3})?/),h("X",function(n,t,i){i._d=new Date(1e3*parseFloat(n,10))}),h("x",function(n,t,i){i._d=new Date(e(n))}),i.version="2.17.1",wo(c),i.fn=t,i.min=vc,i.max=yc,i.now=up,i.utc=ut,i.unix=uv,i.months=ev,i.isDate=bi,i.locale=ei,i.invalid=ki,i.duration=pt,i.isMoment=vt,i.weekdays=sv,i.parseZone=fv,i.localeData=yt,i.isDuration=uu,i.monthsShort=ov,i.weekdaysMin=cv,i.defineLocale=nu,i.updateLocale=rc,i.locales=uc,i.weekdaysShort=hv,i.normalizeUnits=nt,i.relativeTimeRounding=ny,i.relativeTimeThreshold=ty,i.calendarFormat=fl,i.prototype=t,i})}).call(t,i(86)(n))},function(n){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children=[],n.webpackPolyfill=1),n}},function(n){function t(n){throw new Error("Cannot find module '"+n+"'.");}t.keys=function(){return[]};t.resolve=t;n.exports=t;t.id=87},function(n,t){(function(t){function w(n,t,i){var u=t&&i||0,r=0;for(t=t||[],n.toLowerCase().replace(/[0-9a-f]{2}/g,function(n){r<16&&(t[u+r++]=y[n])});r<16;)t[u+r++]=0;return t}function e(n,t){var i=t||0,r=h;return r[n[i++]]+r[n[i++]]+r[n[i++]]+r[n[i++]]+"-"+r[n[i++]]+r[n[i++]]+"-"+r[n[i++]]+r[n[i++]]+"-"+r[n[i++]]+r[n[i++]]+"-"+r[n[i++]]+r[n[i++]]+r[n[i++]]+r[n[i++]]+r[n[i++]]+r[n[i++]]}function b(n,t,i){var u=t&&i||0,r=t||[],h,a,w,v;n=n||{};var o=void 0!==n.clockseq?n.clockseq:p,f=void 0!==n.msecs?n.msecs:(new Date).getTime(),s=void 0!==n.nsecs?n.nsecs:l+1,y=f-c+(s-l)/1e4;if(y<0&&void 0===n.clockseq&&(o=o+1&16383),(y<0||f>c)&&void 0===n.nsecs&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");for(c=f,l=s,p=o,f+=122192928e5,h=(1e4*(268435455&f)+s)%4294967296,r[u++]=h>>>24&255,r[u++]=h>>>16&255,r[u++]=h>>>8&255,r[u++]=255&h,a=f/4294967296*1e4&268435455,r[u++]=a>>>8&255,r[u++]=255&a,r[u++]=a>>>24&15|16,r[u++]=a>>>16&255,r[u++]=o>>>8|128,r[u++]=255&o,w=n.node||k,v=0;v<6;v++)r[u+v]=w[v];return t?t:e(r)}function a(n,t,i){var o=t&&i||0,r,f;if("string"==typeof n&&(t="binary"==n?new Array(16):null,n=null),n=n||{},r=n.random||(n.rng||u)(),r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(f=0;f<16;f++)t[o+f]=r[f];return t||e(r)}var u,v="undefined"!=typeof window?window:"undefined"!=typeof t?t:null,o,s;v&&v.crypto&&crypto.getRandomValues&&(o=new Uint8Array(16),u=function(){return crypto.getRandomValues(o),o});u||(s=new Array(16),u=function(){for(var t,n=0;n<16;n++)0==(3&n)&&(t=4294967296*Math.random()),s[n]=t>>>((3&n)<<3)&255;return s});for(var h=[],y={},r=0;r<256;r++)h[r]=(r+256).toString(16).substr(1),y[h[r]]=r;var i=u(),k=[1|i[0],i[1],i[2],i[3],i[4],i[5]],p=16383&(i[6]<<8|i[7]),c=0,l=0,f=a;f.v1=b;f.v4=a;f.parse=w;f.unparse=e;n.exports=f}).call(t,function(){return this}())},function(n,t,i){t.util=i(1);t.DOMutil=i(90);t.DataSet=i(91);t.DataView=i(93);t.Queue=i(92);t.Graph3d=i(94);t.graph3d={Camera:i(98),Filter:i(103),Point2d:i(97),Point3d:i(96),Slider:i(104),StepNumber:i(105)};t.moment=i(84);t.Hammer=i(108);t.keycharm=i(111)},function(n,t){t.prepareElements=function(n){for(var t in n)n.hasOwnProperty(t)&&(n[t].redundant=n[t].used,n[t].used=[])};t.cleanupElements=function(n){var t,i;for(t in n)if(n.hasOwnProperty(t)&&n[t].redundant){for(i=0;i<n[t].redundant.length;i++)n[t].redundant[i].parentNode.removeChild(n[t].redundant[i]);n[t].redundant=[]}};t.resetElements=function(n){t.prepareElements(n);t.cleanupElements(n);t.prepareElements(n)};t.getSVGElement=function(n,t,i){var r;return t.hasOwnProperty(n)?t[n].redundant.length>0?(r=t[n].redundant[0],t[n].redundant.shift()):(r=document.createElementNS("http://www.w3.org/2000/svg",n),i.appendChild(r)):(r=document.createElementNS("http://www.w3.org/2000/svg",n),t[n]={used:[],redundant:[]},i.appendChild(r)),t[n].used.push(r),r};t.getDOMElement=function(n,t,i,r){var u;return t.hasOwnProperty(n)?t[n].redundant.length>0?(u=t[n].redundant[0],t[n].redundant.shift()):(u=document.createElement(n),void 0!==r?i.insertBefore(u,r):i.appendChild(u)):(u=document.createElement(n),t[n]={used:[],redundant:[]},void 0!==r?i.insertBefore(u,r):i.appendChild(u)),t[n].used.push(u),u};t.drawPoint=function(n,i,r,u,f,e){var o,s;return("circle"==r.style?(o=t.getSVGElement("circle",u,f),o.setAttributeNS(null,"cx",n),o.setAttributeNS(null,"cy",i),o.setAttributeNS(null,"r",.5*r.size)):(o=t.getSVGElement("rect",u,f),o.setAttributeNS(null,"x",n-.5*r.size),o.setAttributeNS(null,"y",i-.5*r.size),o.setAttributeNS(null,"width",r.size),o.setAttributeNS(null,"height",r.size)),void 0!==r.styles&&o.setAttributeNS(null,"style",r.styles),o.setAttributeNS(null,"class",r.className+" vis-point"),e)&&(s=t.getSVGElement("text",u,f),e.xOffset&&(n+=e.xOffset),e.yOffset&&(i+=e.yOffset),e.content&&(s.textContent=e.content),e.className&&s.setAttributeNS(null,"class",e.className+" vis-label"),s.setAttributeNS(null,"x",n),s.setAttributeNS(null,"y",i)),o};t.drawBar=function(n,i,r,u,f,e,o,s){if(0!=u){u<0&&(u*=-1,i-=u);var h=t.getSVGElement("rect",e,o);h.setAttributeNS(null,"x",n-.5*r);h.setAttributeNS(null,"y",i);h.setAttributeNS(null,"width",r);h.setAttributeNS(null,"height",u);h.setAttributeNS(null,"class",f);s&&h.setAttributeNS(null,"style",s)}}},function(n,t,i){function e(n){return n&&n.__esModule?n:{"default":n}}function r(n,t){var f,i;if(n&&!Array.isArray(n)&&(t=n,n=null),this._options=t||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var e=u.default(this._options.type),r=0,o=e.length;r<o;r++)f=e[r],i=this._options.type[f],this._type[f]="Date"==i||"ISODate"==i||"ASPDate"==i?"Date":i;if(this._options.convert)throw new Error('Option "convert" is deprecated. Use "type" instead.');this._subscribers={};n&&this.add(n);this.setOptions(t)}var o=i(82),s=e(o),h=i(62),c=e(h),l=i(58),u=e(l),f=i(1),a=i(92);r.prototype.setOptions=function(n){n&&void 0!==n.queue&&(n.queue===!1?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=a.extend(this,{replace:["add","update","remove"]})),"object"===c.default(n.queue)&&this._queue.setOptions(n.queue)))};r.prototype.on=function(n,t){var i=this._subscribers[n];i||(i=[],this._subscribers[n]=i);i.push({callback:t})};r.prototype.subscribe=function(){throw new Error("DataSet.subscribe is deprecated. Use DataSet.on instead.");};r.prototype.off=function(n,t){var i=this._subscribers[n];i&&(this._subscribers[n]=i.filter(function(n){return n.callback!=t}))};r.prototype.unsubscribe=function(){throw new Error("DataSet.unsubscribe is deprecated. Use DataSet.off instead.");};r.prototype._trigger=function(n,t,i){var r,u,e,f;if("*"==n)throw new Error("Cannot trigger event *");for(r=[],(n in this._subscribers)&&(r=r.concat(this._subscribers[n])),("*"in this._subscribers)&&(r=r.concat(this._subscribers["*"])),u=0,e=r.length;u<e;u++)f=r[u],f.callback&&f.callback(n,t,i||null)};r.prototype.add=function(n,t){var r,i=[],f=this,u,e;if(Array.isArray(n))for(u=0,e=n.length;u<e;u++)r=f._addItem(n[u]),i.push(r);else{if(!(n instanceof Object))throw new Error("Unknown dataType");r=f._addItem(n);i.push(r)}return i.length&&this._trigger("add",{items:i},t),i};r.prototype.update=function(n,t){var u=[],e=[],o=[],s=[],r=this,a=r._fieldId,h=function(n){var t=n[a],i;r._data[t]?(i=f.extend({},r._data[t]),t=r._updateItem(n),e.push(t),s.push(n),o.push(i)):(t=r._addItem(n),u.push(t))},i,c,l;if(Array.isArray(n))for(i=0,c=n.length;i<c;i++)n[i]instanceof Object?h(n[i]):console.warn("Ignoring input item, which is not an object at index "+i);else{if(!(n instanceof Object))throw new Error("Unknown dataType");h(n)}return(u.length&&this._trigger("add",{items:u},t),e.length)&&(l={items:e,oldData:o,data:s},this._trigger("update",l,t)),u.concat(e)};r.prototype.get=function(){var o,h,n,c=this,l=f.getType(arguments[0]),a,k,p,w,b;"String"==l||"Number"==l?(o=arguments[0],n=arguments[1]):"Array"==l?(h=arguments[0],n=arguments[1]):n=arguments[0];n&&n.returnType?(k=["Array","Object"],a=k.indexOf(n.returnType)==-1?"Array":n.returnType):a="Array";var i,v,d,t,e,y=n&&n.type||this._options.type,s=n&&n.filter,r=[];if(void 0!=o)i=c._getItem(o,y),i&&s&&!s(i)&&(i=null);else if(void 0!=h)for(t=0,e=h.length;t<e;t++)i=c._getItem(h[t],y),s&&!s(i)||r.push(i);else for(v=u.default(this._data),t=0,e=v.length;t<e;t++)d=v[t],i=c._getItem(d,y),s&&!s(i)||r.push(i);if(n&&n.order&&void 0==o&&this._sort(r,n.order),n&&n.fields)if(p=n.fields,void 0!=o)i=this._filterFields(i,p);else for(t=0,e=r.length;t<e;t++)r[t]=this._filterFields(r[t],p);if("Object"==a){for(b={},t=0,e=r.length;t<e;t++)w=r[t],b[w.id]=w;return b}return void 0!=o?i:r};r.prototype.getIds=function(n){var t,i,f,e,r,c=this._data,l=n&&n.filter,h=n&&n.order,a=n&&n.type||this._options.type,o=u.default(c),s=[];if(l)if(h){for(r=[],t=0,i=o.length;t<i;t++)f=o[t],e=this._getItem(f,a),l(e)&&r.push(e);for(this._sort(r,h),t=0,i=r.length;t<i;t++)s.push(r[t][this._fieldId])}else for(t=0,i=o.length;t<i;t++)f=o[t],e=this._getItem(f,a),l(e)&&s.push(e[this._fieldId]);else if(h){for(r=[],t=0,i=o.length;t<i;t++)f=o[t],r.push(c[f]);for(this._sort(r,h),t=0,i=r.length;t<i;t++)s.push(r[t][this._fieldId])}else for(t=0,i=o.length;t<i;t++)f=o[t],e=c[f],s.push(e[this._fieldId]);return s};r.prototype.getDataSet=function(){return this};r.prototype.forEach=function(n,t){var i,e,r,f,s=t&&t.filter,c=t&&t.type||this._options.type,l=this._data,h=u.default(l),o;if(t&&t.order)for(o=this.get(t),i=0,e=o.length;i<e;i++)r=o[i],f=r[this._fieldId],n(r,f);else for(i=0,e=h.length;i<e;i++)f=h[i],r=this._getItem(f,c),s&&!s(r)||n(r,f)};r.prototype.map=function(n,t){for(var r,f,s=t&&t.filter,c=t&&t.type||this._options.type,e=[],l=this._data,h=u.default(l),i=0,o=h.length;i<o;i++)r=h[i],f=this._getItem(r,c),s&&!s(f)||e.push(n(f,r));return t&&t.order&&this._sort(e,t.order),e};r.prototype._filterFields=function(n,t){if(!n)return n;var i,r,f={},e=u.default(n),o=e.length;if(Array.isArray(t))for(i=0;i<o;i++)r=e[i],t.indexOf(r)!=-1&&(f[r]=n[r]);else for(i=0;i<o;i++)r=e[i],t.hasOwnProperty(r)&&(f[t[r]]=n[r]);return f};r.prototype._sort=function(n,t){if(f.isString(t)){var i=t;n.sort(function(n,t){var r=n[i],u=t[i];return r>u?1:r<u?-1:0})}else{if("function"!=typeof t)throw new TypeError("Order must be a function or a string");n.sort(t)}};r.prototype.remove=function(n,t){var i,o,f,r,u=[],s=[],e=[];for(e=Array.isArray(n)?n:[n],i=0,o=e.length;i<o;i++)r=this._remove(e[i]),r&&(f=r[this._fieldId],void 0!=f&&(u.push(f),s.push(r)));return u.length&&this._trigger("remove",{items:u,oldData:s},t),u};r.prototype._remove=function(n){var i,t;return f.isNumber(n)||f.isString(n)?t=n:n instanceof Object&&(t=n[this._fieldId]),void 0!==t&&this._data[t]?(i=this._data[t],delete this._data[t],this.length--,i):null};r.prototype.clear=function(n){for(var i=u.default(this._data),f=[],t=0,r=i.length;t<r;t++)f.push(this._data[i[t]]);return this._data={},this.length=0,this._trigger("remove",{items:i,oldData:f},n),i};r.prototype.max=function(n){for(var e=this._data,o=u.default(e),i=null,s=null,t=0,f=o.length;t<f;t++){var c=o[t],h=e[c],r=h[n];null!=r&&(!i||r>s)&&(i=h,s=r)}return i};r.prototype.min=function(n){for(var e=this._data,o=u.default(e),i=null,s=null,t=0,f=o.length;t<f;t++){var c=o[t],h=e[c],r=h[n];null!=r&&(!i||r<s)&&(i=h,s=r)}return i};r.prototype.distinct=function(n){for(var r,h=this._data,c=u.default(h),i=[],l=this._options.type&&this._options.type[n]||null,o=0,t=0,e=c.length;t<e;t++){var v=c[t],y=h[v],s=y[n],a=!1;for(r=0;r<o;r++)if(i[r]==s){a=!0;break}a||void 0===s||(i[o]=s,o++)}if(l)for(t=0,e=i.length;t<e;t++)i[t]=f.convert(i[t],l);return i};r.prototype._addItem=function(n){var t=n[this._fieldId],i,s,e,o,r,h;if(void 0!=t){if(this._data[t])throw new Error("Cannot add item: item with id "+t+" already exists");}else t=f.randomUUID(),n[this._fieldId]=t;for(e={},o=u.default(n),i=0,s=o.length;i<s;i++)r=o[i],h=this._type[r],e[r]=f.convert(n[r],h);return this._data[t]=e,this.length++,t};r.prototype._getItem=function(n,t){var r,h,i,c,o=this._data[n],e,s;if(!o)return null;if(e={},s=u.default(o),t)for(i=0,c=s.length;i<c;i++)r=s[i],h=o[r],e[r]=f.convert(h,t[r]);else for(i=0,c=s.length;i<c;i++)r=s[i],h=o[r],e[r]=h;return e[this._fieldId]||(e[this._fieldId]=o.id),e};r.prototype._updateItem=function(n){var t=n[this._fieldId],r,i,h;if(void 0==t)throw new Error("Cannot update item: item has no id (item: "+s.default(n)+")");if(r=this._data[t],!r)throw new Error("Cannot update item: no item with id "+t+" found");for(var o=u.default(n),e=0,c=o.length;e<c;e++)i=o[e],h=this._type[i],r[i]=f.convert(n[i],h);return t};n.exports=r},function(n){function t(n){this.delay=null;this.max=1/0;this._queue=[];this._timeout=null;this._extended=null;this.setOptions(n)}t.prototype.setOptions=function(n){n&&"undefined"!=typeof n.delay&&(this.delay=n.delay);n&&"undefined"!=typeof n.max&&(this.max=n.max);this._flushIfNeeded()};t.extend=function(n,i){var r=new t(i),e,u,f;if(void 0!==n.flush)throw new Error("Target object already has a property flush");if(n.flush=function(){r.flush()},e=[{name:"flush",original:void 0}],i&&i.replace)for(u=0;u<i.replace.length;u++)f=i.replace[u],e.push({name:f,original:n[f]}),r.replace(n,f);return r._extended={object:n,methods:e},r};t.prototype.destroy=function(){var n;if(this.flush(),this._extended){for(var i=this._extended.object,r=this._extended.methods,t=0;t<r.length;t++)n=r[t],n.original?i[n.name]=n.original:delete i[n.name];this._extended=null}};t.prototype.replace=function(n,t){var r=this,i=n[t];if(!i)throw new Error("Method "+t+" undefined");n[t]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r.queue({args:t,fn:i,context:this})}};t.prototype.queue=function(n){"function"==typeof n?this._queue.push({fn:n}):this._queue.push(n);this._flushIfNeeded()};t.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var n=this;this._timeout=setTimeout(function(){n.flush()},this.delay)}};t.prototype.flush=function(){for(;this._queue.length>0;){var n=this._queue.shift();n.fn.apply(n.context||n.fn,n.args||[])}};n.exports=t},function(n,t,i){function e(n){return n&&n.__esModule?n:{"default":n}}function r(n,t){this._data=null;this._ids={};this.length=0;this._options=t||{};this._fieldId="id";this._subscribers={};var i=this;this.listener=function(){i._onEvent.apply(i,arguments)};this.setData(n)}var o=i(58),s=e(o),f=i(1),u=i(91);r.prototype.setData=function(n){var t,f,i,r,u;if(this._data){for(this._data.off&&this._data.off("*",this.listener),t=this._data.getIds({filter:this._options&&this._options.filter}),u=[],i=0,r=t.length;i<r;i++)u.push(this._data._data[t[i]]);this._ids={};this.length=0;this._trigger("remove",{items:t,oldData:u})}if(this._data=n,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",t=this._data.getIds({filter:this._options&&this._options.filter}),i=0,r=t.length;i<r;i++)f=t[i],this._ids[f]=!0;this.length=t.length;this._trigger("add",{items:t});this._data.on&&this._data.on("*",this.listener)}};r.prototype.refresh=function(){for(var n,f=this._data.getIds({filter:this._options&&this._options.filter}),e=s.default(this._ids),o={},r=[],u=[],h=[],t=0,i=f.length;t<i;t++)n=f[t],o[n]=!0,this._ids[n]||(r.push(n),this._ids[n]=!0);for(t=0,i=e.length;t<i;t++)n=e[t],o[n]||(u.push(n),h.push(this._data._data[n]),delete this._ids[n]);this.length+=r.length-u.length;r.length&&this._trigger("add",{items:r});u.length&&this._trigger("remove",{items:u,oldData:h})};r.prototype.get=function(){var i,n,r,o=this,u=f.getType(arguments[0]),e,t;return"String"==u||"Number"==u||"Array"==u?(i=arguments[0],n=arguments[1],r=arguments[2]):(n=arguments[0],r=arguments[1]),e=f.extend({},this._options,n),this._options.filter&&n&&n.filter&&(e.filter=function(t){return o._options.filter(t)&&n.filter(t)}),t=[],void 0!=i&&t.push(i),t.push(e),t.push(r),this._data&&this._data.get.apply(this._data,t)};r.prototype.getIds=function(n){var i,r,t;return this._data?(t=this._options.filter,r=n&&n.filter?t?function(i){return t(i)&&n.filter(i)}:n.filter:t,i=this._data.getIds({filter:r,order:n&&n.order})):i=[],i};r.prototype.map=function(n,t){var r=[],u,i;return this._data?(i=this._options.filter,u=t&&t.filter?i?function(n){return i(n)&&t.filter(n)}:t.filter:i,r=this._data.map(n,{filter:u,order:t&&t.order})):r=[],r};r.prototype.getDataSet=function(){for(var n=this;n instanceof r;)n=n._data;return n||null};r.prototype._onEvent=function(n,t,i){var u,e,r,h,f=t&&t.items,o=[],c=[],s=[],a=[],v=[],l=[];if(f&&this._data){switch(n){case"add":for(u=0,e=f.length;u<e;u++)r=f[u],h=this.get(r),h&&(this._ids[r]=!0,o.push(r));break;case"update":for(u=0,e=f.length;u<e;u++)r=f[u],h=this.get(r),h?this._ids[r]?(c.push(r),v.push(t.data[u]),a.push(t.oldData[u])):(this._ids[r]=!0,o.push(r)):this._ids[r]&&(delete this._ids[r],s.push(r),l.push(t.oldData[u]));break;case"remove":for(u=0,e=f.length;u<e;u++)r=f[u],this._ids[r]&&(delete this._ids[r],s.push(r),l.push(t.oldData[u]))}this.length+=o.length-s.length;o.length&&this._trigger("add",{items:o},i);c.length&&this._trigger("update",{items:c,oldData:a,data:v},i);s.length&&this._trigger("remove",{items:s,oldData:l},i)}};r.prototype.on=u.prototype.on;r.prototype.off=u.prototype.off;r.prototype._trigger=u.prototype._trigger;r.prototype.subscribe=r.prototype.on;r.prototype.unsubscribe=r.prototype.off;n.exports=r},function(n,t,i){function r(n,t,i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=n;this.dataTable=null;this.dataPoints=null;this.create();l.setDefaults(v,this);this.colX=void 0;this.colY=void 0;this.colZ=void 0;this.colValue=void 0;this.colFilter=void 0;this.setOptions(i);t&&this.setData(t)}function s(n){return"clientX"in n?n.clientX:n.targetTouches[0]&&n.targetTouches[0].clientX||0}function h(n){return"clientY"in n?n.clientY:n.targetTouches[0]&&n.targetTouches[0].clientY||0}var y=i(95),a=i(91),p=i(93),f=i(1),u=i(96),o=i(97),w=(i(98),i(103)),b=i(104),c=i(105),k=i(106),l=i(107),e,v;r.STYLE=l.STYLE;e=void 0;v={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(n){return n},yValueLabel:function(n){return n},zValueLabel:function(n){return n},showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,showAnimationControls:e,animationInterval:1e3,animationPreload:!1,animationAutoStart:e,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:r.STYLE.DOT,tooltip:!1,showLegend:e,backgroundColor:e,dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},xBarWidth:e,yBarWidth:e,valueMin:e,valueMax:e,xMin:e,xMax:e,xStep:e,yMin:e,yMax:e,yStep:e,zMin:e,zMax:e,zStep:e};y(r.prototype);r.prototype._setScale=function(){this.scale=new u(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range());this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y);this.scale.z*=this.verticalRatio;void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());var n=this.xRange.center()*this.scale.x,t=this.yRange.center()*this.scale.y,i=this.zRange.center()*this.scale.z;this.camera.setArmLocation(n,t,i)};r.prototype._convert3Dto2D=function(n){var t=this._convertPointToTranslation(n);return this._convertTranslationToScreen(t)};r.prototype._convertPointToTranslation=function(n){var h=this.camera.getCameraLocation(),t=this.camera.getCameraRotation(),i=n.x*this.scale.x,r=n.y*this.scale.y,c=n.z*this.scale.z,f=h.x,e=h.y,l=h.z,y=Math.sin(t.x),p=Math.cos(t.x),a=Math.sin(t.y),v=Math.cos(t.y),o=Math.sin(t.z),s=Math.cos(t.z),w=v*(o*(r-e)+s*(i-f))-a*(c-l),b=y*(v*(c-l)+a*(o*(r-e)+s*(i-f)))+p*(s*(r-e)-o*(i-f)),k=p*(v*(c-l)+a*(o*(r-e)+s*(i-f)))-y*(s*(r-e)-o*(i-f));return new u(w,b,k)};r.prototype._convertTranslationToScreen=function(n){var i,r,s=this.eye.x,h=this.eye.y,t=this.eye.z,u=n.x,f=n.y,e=n.z;return this.showPerspective?(i=(u-s)*(t/e),r=(f-h)*(t/e)):(i=u*-(t/this.camera.getArmLength()),r=f*-(t/this.camera.getArmLength())),new o(this.currentXCenter+i*this.frame.canvas.clientWidth,this.currentYCenter-r*this.frame.canvas.clientWidth)};r.prototype._calcTranslations=function(n,t){var r,i,u,f;for(void 0===t&&(t=!0),r=0;r<n.length;r++)i=n[r],i.trans=this._convertPointToTranslation(i.point),i.screen=this._convertTranslationToScreen(i.trans),u=this._convertPointToTranslation(i.bottom),i.dist=this.showPerspective?u.length():-u.z;t&&(f=function(n,t){return t.dist-n.dist},n.sort(f))};r.prototype.getNumberOfRows=function(n){return n.length};r.prototype.getNumberOfColumns=function(n){var t=0;for(var i in n[0])n[0].hasOwnProperty(i)&&t++;return t};r.prototype.getDistinctValues=function(n,t){for(var r=[],i=0;i<n.length;i++)r.indexOf(n[i][t])==-1&&r.push(n[i][t]);return r};r.prototype.getColumnRange=function(n,t){for(var u,r=new k,i=0;i<n.length;i++)u=n[i][t],r.adjust(u);return r};r.prototype._checkValueField=function(n){var t=this.style===r.STYLE.BARCOLOR||this.style===r.STYLE.BARSIZE||this.style===r.STYLE.DOTCOLOR||this.style===r.STYLE.DOTSIZE;if(t){if(void 0===this.colValue)throw new Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(void 0===n[0][this.colValue])throw new Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'");}};r.prototype._setRangeDefaults=function(n,t,i){void 0!==t&&(n.min=t);void 0!==i&&(n.max=i);n.max<=n.min&&(n.max=n.min+1)};r.prototype._dataInitialize=function(n){var s=this,t,f,h,c,e,i,u,o,l;if(this.dataSet&&this.dataSet.off("*",this._onChange),void 0!==n){if(Array.isArray(n)&&(n=new a(n)),!(n instanceof a||n instanceof p))throw new Error("Array, DataSet, or DataView expected");(t=n.get(),0!=t.length)&&(this.dataSet=n,this.dataTable=t,this._onChange=function(){s.setData(s.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z",f=this.style==r.STYLE.BAR||this.style==r.STYLE.BARCOLOR||this.style==r.STYLE.BARSIZE,f&&(void 0!==this.defaultXBarWidth?this.xBarWidth=this.defaultXBarWidth:(h=this.getDistinctValues(t,this.colX),this.xBarWidth=h[1]-h[0]||1),void 0!==this.defaultYBarWidth?this.yBarWidth=this.defaultYBarWidth:(c=this.getDistinctValues(t,this.colY),this.yBarWidth=c[1]-c[0]||1)),e=5,i=this.getColumnRange(t,this.colX),f&&i.expand(this.xBarWidth/2),this._setRangeDefaults(i,this.defaultXMin,this.defaultXMax),this.xRange=i,this.xStep=void 0!==this.defaultXStep?this.defaultXStep:i.range()/e,u=this.getColumnRange(t,this.colY),f&&u.expand(this.yBarWidth/2),this._setRangeDefaults(u,this.defaultYMin,this.defaultYMax),this.yRange=u,this.yStep=void 0!==this.defaultYStep?this.defaultYStep:u.range()/e,o=this.getColumnRange(t,this.colZ),(this._setRangeDefaults(o,this.defaultZMin,this.defaultZMax),this.zRange=o,this.zStep=void 0!==this.defaultZStep?this.defaultZStep:o.range()/e,t[0].hasOwnProperty("style"))&&(this.colValue="style",l=this.getColumnRange(t,this.colValue),this._setRangeDefaults(l,this.defaultValueMin,this.defaultValueMax),this.valueRange=l),t[0].hasOwnProperty("filter")&&(this.colFilter="filter",void 0===this.dataFilter&&(this.dataFilter=new w(n,this.colFilter,this),this.dataFilter.setOnLoadCallback(function(){s.redraw()}))),this._setScale())}};r.prototype._getDataPoints=function(n){var t,f,i,p,o,s,a=[],c,l,y,e,v,w,h;if(this.style===r.STYLE.GRID||this.style===r.STYLE.SURFACE){for(c=[],l=[],i=0;i<this.getNumberOfRows(n);i++)t=n[i][this.colX]||0,f=n[i][this.colY]||0,c.indexOf(t)===-1&&c.push(t),l.indexOf(f)===-1&&l.push(f);for(y=function(n,t){return n-t},c.sort(y),l.sort(y),e=[],i=0;i<n.length;i++)t=n[i][this.colX]||0,f=n[i][this.colY]||0,p=n[i][this.colZ]||0,v=c.indexOf(t),w=l.indexOf(f),void 0===e[v]&&(e[v]=[]),h=new u,h.x=t,h.y=f,h.z=p,h.data=n[i],o={},o.point=h,o.trans=void 0,o.screen=void 0,o.bottom=new u(t,f,this.zRange.min),e[v][w]=o,a.push(o);for(t=0;t<e.length;t++)for(f=0;f<e[t].length;f++)e[t][f]&&(e[t][f].pointRight=t<e.length-1?e[t+1][f]:void 0,e[t][f].pointTop=f<e[t].length-1?e[t][f+1]:void 0,e[t][f].pointCross=t<e.length-1&&f<e[t].length-1?e[t+1][f+1]:void 0)}else for(this._checkValueField(n),i=0;i<n.length;i++)s=new u,s.x=n[i][this.colX]||0,s.y=n[i][this.colY]||0,s.z=n[i][this.colZ]||0,s.data=n[i],void 0!==this.colValue&&(s.value=n[i][this.colValue]||0),o={},o.point=s,o.bottom=new u(s.x,s.y,this.zRange.min),o.trans=void 0,o.screen=void 0,this.style===r.STYLE.LINE&&i>0&&(a[i-1].pointNext=o),a.push(o);return a};r.prototype.create=function(){for(var n;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div");this.frame.style.position="relative";this.frame.style.overflow="hidden";this.frame.canvas=document.createElement("canvas");this.frame.canvas.style.position="relative";this.frame.appendChild(this.frame.canvas);n=document.createElement("DIV");n.style.color="red";n.style.fontWeight="bold";n.style.padding="10px";n.innerHTML="Error: your browser does not support HTML canvas";this.frame.canvas.appendChild(n);this.frame.filter=document.createElement("div");this.frame.filter.style.position="absolute";this.frame.filter.style.bottom="0px";this.frame.filter.style.left="0px";this.frame.filter.style.width="100%";this.frame.appendChild(this.frame.filter);var t=this,i=function(n){t._onMouseDown(n)},r=function(n){t._onTouchStart(n)},u=function(n){t._onWheel(n)},e=function(n){t._onTooltip(n)},o=function(n){t._onClick(n)};f.addEventListener(this.frame.canvas,"keydown",onkeydown);f.addEventListener(this.frame.canvas,"mousedown",i);f.addEventListener(this.frame.canvas,"touchstart",r);f.addEventListener(this.frame.canvas,"mousewheel",u);f.addEventListener(this.frame.canvas,"mousemove",e);f.addEventListener(this.frame.canvas,"click",o);this.containerElement.appendChild(this.frame)};r.prototype._setSize=function(n,t){this.frame.style.width=n;this.frame.style.height=t;this._resizeCanvas()};r.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%";this.frame.canvas.style.height="100%";this.frame.canvas.width=this.frame.canvas.clientWidth;this.frame.canvas.height=this.frame.canvas.clientHeight;this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"};r.prototype.animationStart=function(){if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()};r.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()};r.prototype._resizeCenter=function(){this.currentXCenter="%"===this.xCenter.charAt(this.xCenter.length-1)?parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:parseFloat(this.xCenter);this.currentYCenter="%"===this.yCenter.charAt(this.yCenter.length-1)?parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):parseFloat(this.yCenter)};r.prototype.getCameraPosition=function(){var n=this.camera.getArmRotation();return n.distance=this.camera.getArmLength(),n};r.prototype._readData=function(n){this._dataInitialize(n,this.style);this.dataPoints=this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.dataTable);this._redrawFilter()};r.prototype.setData=function(n){this._readData(n);this.redraw();this.animationAutoStart&&this.dataFilter&&this.animationStart()};r.prototype.setOptions=function(n){this.animationStop();l.setOptions(n,this);this.setPointDrawingMethod();this._setSize(this.width,this.height);this.dataTable&&this.setData(this.dataTable);this.animationAutoStart&&this.dataFilter&&this.animationStart()};r.prototype.setPointDrawingMethod=function(){var n=void 0;switch(this.style){case r.STYLE.BAR:n=r.prototype._redrawBarGraphPoint;break;case r.STYLE.BARCOLOR:n=r.prototype._redrawBarColorGraphPoint;break;case r.STYLE.BARSIZE:n=r.prototype._redrawBarSizeGraphPoint;break;case r.STYLE.DOT:n=r.prototype._redrawDotGraphPoint;break;case r.STYLE.DOTLINE:n=r.prototype._redrawDotLineGraphPoint;break;case r.STYLE.DOTCOLOR:n=r.prototype._redrawDotColorGraphPoint;break;case r.STYLE.DOTSIZE:n=r.prototype._redrawDotSizeGraphPoint;break;case r.STYLE.SURFACE:n=r.prototype._redrawSurfaceGraphPoint;break;case r.STYLE.GRID:n=r.prototype._redrawGridGraphPoint;break;case r.STYLE.LINE:n=r.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'");}this._pointDrawingMethod=n};r.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas();this._resizeCenter();this._redrawSlider();this._redrawClear();this._redrawAxis();this._redrawDataGraph();this._redrawInfo();this._redrawLegend()};r.prototype._getContext=function(){var t=this.frame.canvas,n=t.getContext("2d");return n.lineJoin="round",n.lineCap="round",n};r.prototype._redrawClear=function(){var n=this.frame.canvas,t=n.getContext("2d");t.clearRect(0,0,n.width,n.height)};r.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio};r.prototype._getLegendWidth=function(){var n,t;return this.style===r.STYLE.DOTSIZE?(t=this._dotSize(),n=t/2+2*t):n=this.style===r.STYLE.BARSIZE?this.xBarWidth:20,n};r.prototype._redrawLegend=function(){var l,y,b,k,t,g,nt,tt;if(this.showLegend===!0&&this.style!==r.STYLE.LINE&&this.style!==r.STYLE.BARSIZE){var it=this.style===r.STYLE.BARSIZE||this.style===r.STYLE.DOTSIZE,w=this.style===r.STYLE.DOTSIZE||this.style===r.STYLE.DOTCOLOR||this.style===r.STYLE.BARCOLOR,s=Math.max(.25*this.frame.clientHeight,100),u=this.margin,v=this._getLegendWidth(),f=this.frame.clientWidth-this.margin,i=f-v,h=u+s,n=this._getContext();if(n.lineWidth=1,n.font="14px arial",it===!1){for(l=0,y=s,t=l;t<y;t++){var rt=(t-l)/(y-l),ut=240*rt,ft=this._hsv2rgb(ut,1,1);n.strokeStyle=ft;n.beginPath();n.moveTo(i,u+t);n.lineTo(f,u+t);n.stroke()}n.strokeStyle=this.axisColor;n.strokeRect(i,u,v,s)}else this.style===r.STYLE.DOTSIZE?(k=this._dotSize(),b=k/2):this.style===r.STYLE.BARSIZE,n.strokeStyle=this.axisColor,n.fillStyle=this.dataColor.fill,n.beginPath(),n.moveTo(i,u),n.lineTo(f,u),n.lineTo(f-v+b,h),n.lineTo(i,h),n.closePath(),n.fill(),n.stroke();var d=5,a=w?this.valueRange.min:this.zRange.min,p=w?this.valueRange.max:this.zRange.max,e=new c(a,p,(p-a)/5,!0);for(e.start(!0);!e.end();)t=h-(e.getCurrent()-a)/(p-a)*s,g=new o(i-d,t),nt=new o(i,t),this._line(n,g,nt),n.textAlign="right",n.textBaseline="middle",n.fillStyle=this.axisColor,n.fillText(e.getCurrent(),i-2*d,t),e.next();n.textAlign="right";n.textBaseline="top";tt=this.legendLabel;n.fillText(tt,f,h+this.margin)}};r.prototype._redrawFilter=function(){var i,n,t,r;(this.frame.filter.innerHTML="",this.dataFilter)?(i={visible:this.showAnimationControls},n=new b(this.frame.filter,i),this.frame.filter.slider=n,this.frame.filter.style.padding="10px",n.setValues(this.dataFilter.values),n.setPlayInterval(this.animationInterval),t=this,r=function(){var i=n.getIndex();t.dataFilter.selectValue(i);t.dataPoints=t.dataFilter._getDataPoints();t.redraw()},n.setOnChangeCallback(r)):this.frame.filter.slider=void 0};r.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()};r.prototype._redrawInfo=function(){var n,t,i;this.dataFilter&&(n=this._getContext(),n.font="14px arial",n.lineStyle="gray",n.fillStyle="gray",n.textAlign="left",n.textBaseline="top",t=this.margin,i=this.margin,n.fillText(this.dataFilter.getLabel()+": "+this.dataFilter.getSelectedValue(),t,i))};r.prototype._line=function(n,t,i,r){void 0!==r&&(n.strokeStyle=r);n.beginPath();n.moveTo(t.x,t.y);n.lineTo(i.x,i.y);n.stroke()};r.prototype.drawAxisLabelX=function(n,t,i,r,u){void 0===u&&(u=0);var f=this._convert3Dto2D(t);Math.cos(2*r)>0?(n.textAlign="center",n.textBaseline="top",f.y+=u):Math.sin(2*r)<0?(n.textAlign="right",n.textBaseline="middle"):(n.textAlign="left",n.textBaseline="middle");n.fillStyle=this.axisColor;n.fillText(i,f.x,f.y)};r.prototype.drawAxisLabelY=function(n,t,i,r,u){void 0===u&&(u=0);var f=this._convert3Dto2D(t);Math.cos(2*r)<0?(n.textAlign="center",n.textBaseline="top",f.y+=u):Math.sin(2*r)>0?(n.textAlign="right",n.textBaseline="middle"):(n.textAlign="left",n.textBaseline="middle");n.fillStyle=this.axisColor;n.fillText(i,f.x,f.y)};r.prototype.drawAxisLabelZ=function(n,t,i,r){void 0===r&&(r=0);var u=this._convert3Dto2D(t);n.textAlign="right";n.textBaseline="middle";n.fillStyle=this.axisColor;n.fillText(i,u.x-r,u.y)};r.prototype._line3d=function(n,t,i,r){var u=this._convert3Dto2D(t),f=this._convert3Dto2D(i);this._line(n,u,f,r)};r.prototype._redrawAxis=function(){var e,f,s,p,w,h,l,st,ht,tt,it,r=this._getContext(),a,d,v,k,g,nt,ft,et,ot;r.font=24/this.camera.getArmLength()+"px arial";var ct=.025/this.scale.x,lt=.025/this.scale.y,rt=5/this.camera.getArmLength(),b=this.camera.getArmRotation().horizontal,y=new o(Math.cos(b),Math.sin(b)),t=this.xRange,i=this.yRange,n=this.zRange;for(r.lineWidth=1,p=void 0===this.defaultXStep,s=new c(t.min,t.max,this.xStep,p),s.start(!0);!s.end();)a=s.getCurrent(),this.showGrid?(e=new u(a,i.min,n.min),f=new u(a,i.max,n.min),this._line3d(r,e,f,this.gridColor)):(e=new u(a,i.min,n.min),f=new u(a,i.min+ct,n.min),this._line3d(r,e,f,this.axisColor),e=new u(a,i.max,n.min),f=new u(a,i.max-ct,n.min),this._line3d(r,e,f,this.axisColor)),l=y.x>0?i.min:i.max,d=new u(a,l,n.min),k="  "+this.xValueLabel(a)+"  ",this.drawAxisLabelX(r,d,k,b,rt),s.next();for(r.lineWidth=1,p=void 0===this.defaultYStep,s=new c(i.min,i.max,this.yStep,p),s.start(!0);!s.end();)v=s.getCurrent(),this.showGrid?(e=new u(t.min,v,n.min),f=new u(t.max,v,n.min),this._line3d(r,e,f,this.gridColor)):(e=new u(t.min,v,n.min),f=new u(t.min+lt,v,n.min),this._line3d(r,e,f,this.axisColor),e=new u(t.max,v,n.min),f=new u(t.max-lt,v,n.min),this._line3d(r,e,f,this.axisColor)),h=y.y>0?t.min:t.max,d=new u(h,v,n.min),k="  "+this.yValueLabel(v)+"  ",this.drawAxisLabelY(r,d,k,b,rt),s.next();for(r.lineWidth=1,p=void 0===this.defaultZStep,s=new c(n.min,n.max,this.zStep,p),s.start(!0),h=y.x>0?t.min:t.max,l=y.y<0?i.min:i.max;!s.end();){var at=s.getCurrent(),vt=new u(h,l,at),ut=this._convert3Dto2D(vt);f=new o(ut.x-rt,ut.y);this._line(r,ut,f,this.axisColor);k=this.zValueLabel(at)+" ";this.drawAxisLabelZ(r,vt,k,5);s.next()}r.lineWidth=1;e=new u(h,l,n.min);f=new u(h,l,n.max);this._line3d(r,e,f,this.axisColor);r.lineWidth=1;g=new u(t.min,i.min,n.min);nt=new u(t.max,i.min,n.min);this._line3d(r,g,nt,this.axisColor);g=new u(t.min,i.max,n.min);nt=new u(t.max,i.max,n.min);this._line3d(r,g,nt,this.axisColor);r.lineWidth=1;e=new u(t.min,i.min,n.min);f=new u(t.min,i.max,n.min);this._line3d(r,e,f,this.axisColor);e=new u(t.max,i.min,n.min);f=new u(t.max,i.max,n.min);this._line3d(r,e,f,this.axisColor);ft=this.xLabel;ft.length>0&&(it=.1/this.scale.y,h=(t.max+3*t.min)/4,l=y.x>0?i.min-it:i.max+it,w=new u(h,l,n.min),this.drawAxisLabelX(r,w,ft,b));et=this.yLabel;et.length>0&&(tt=.1/this.scale.x,h=y.y>0?t.min-tt:t.max+tt,l=(i.max+3*i.min)/4,w=new u(h,l,n.min),this.drawAxisLabelY(r,w,et,b));ot=this.zLabel;ot.length>0&&(ht=30,h=y.x>0?t.min:t.max,l=y.y<0?i.min:i.max,st=(n.max+3*n.min)/4,w=new u(h,l,st),this.drawAxisLabelZ(r,w,ot,ht))};r.prototype._hsv2rgb=function(n,t,i){var r,u,f,e,s,o;switch(e=i*t,s=Math.floor(n/60),o=e*(1-Math.abs(n/60%2-1)),s){case 0:r=e;u=o;f=0;break;case 1:r=o;u=e;f=0;break;case 2:r=0;u=e;f=o;break;case 3:r=0;u=o;f=e;break;case 4:r=o;u=0;f=e;break;case 5:r=e;u=0;f=o;break;default:r=0;u=0;f=0}return"RGB("+parseInt(255*r)+","+parseInt(255*u)+","+parseInt(255*f)+")"};r.prototype._getStrokeWidth=function(n){return void 0!==n?this.showPerspective?1/-n.trans.z*this.dataColor.strokeWidth:-(this.eye.z/this.camera.getArmLength())*this.dataColor.strokeWidth:this.dataColor.strokeWidth};r.prototype._redrawBar=function(n,t,i,r,f,e){var c,a,p=this,o=t.point,v=this.zRange.min,h=[{point:new u(o.x-i,o.y-r,o.z)},{point:new u(o.x+i,o.y-r,o.z)},{point:new u(o.x+i,o.y+r,o.z)},{point:new u(o.x-i,o.y+r,o.z)}],s=[{point:new u(o.x-i,o.y-r,v)},{point:new u(o.x+i,o.y-r,v)},{point:new u(o.x+i,o.y+r,v)},{point:new u(o.x-i,o.y+r,v)}],l,y;for(h.forEach(function(n){n.screen=p._convert3Dto2D(n.point)}),s.forEach(function(n){n.screen=p._convert3Dto2D(n.point)}),l=[{corners:h,center:u.avg(s[0].point,s[2].point)},{corners:[h[0],h[1],s[1],s[0]],center:u.avg(s[1].point,s[0].point)},{corners:[h[1],h[2],s[2],s[1]],center:u.avg(s[2].point,s[1].point)},{corners:[h[2],h[3],s[3],s[2]],center:u.avg(s[3].point,s[2].point)},{corners:[h[3],h[0],s[0],s[3]],center:u.avg(s[0].point,s[3].point)}],t.surfaces=l,c=0;c<l.length;c++)a=l[c],y=this._convertPointToTranslation(a.center),a.dist=this.showPerspective?y.length():-y.z;for(l.sort(function(n,t){var i=t.dist-n.dist;return i?i:n.corners===h?1:t.corners===h?-1:0}),n.lineWidth=this._getStrokeWidth(t),n.strokeStyle=e,n.fillStyle=f,c=2;c<l.length;c++)a=l[c],this._polygon(n,a.corners)};r.prototype._polygon=function(n,t,i,r){var u,f;if(!(t.length<2)){for(void 0!==i&&(n.fillStyle=i),void 0!==r&&(n.strokeStyle=r),n.beginPath(),n.moveTo(t[0].screen.x,t[0].screen.y),u=1;u<t.length;++u)f=t[u],n.lineTo(f.screen.x,f.screen.y);n.closePath();n.fill();n.stroke()}};r.prototype._drawCircle=function(n,t,i,r,u){var f=this._calcRadius(t,u);n.lineWidth=this._getStrokeWidth(t);n.strokeStyle=r;n.fillStyle=i;n.beginPath();n.arc(t.screen.x,t.screen.y,f,0,2*Math.PI,!0);n.fill();n.stroke()};r.prototype._getColorsRegular=function(n){var t=240*(1-(n.point.z-this.zRange.min)*this.scale.z/this.verticalRatio),i=this._hsv2rgb(t,1,1),r=this._hsv2rgb(t,1,.8);return{fill:i,border:r}};r.prototype._getColorsColor=function(n){var t,i,r;return"string"==typeof n.point.value?(t=n.point.value,i=n.point.value):(r=240*(1-(n.point.value-this.valueRange.min)*this.scale.value),t=this._hsv2rgb(r,1,1),i=this._hsv2rgb(r,1,.8)),{fill:t,border:i}};r.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}};r.prototype._calcRadius=function(n,t){void 0===t&&(t=this._dotSize());var i;return i=this.showPerspective?t/-n.trans.z:t*-(this.eye.z/this.camera.getArmLength()),i<0&&(i=0),i};r.prototype._redrawBarGraphPoint=function(n,t){var r=this.xBarWidth/2,u=this.yBarWidth/2,i=this._getColorsRegular(t);this._redrawBar(n,t,r,u,i.fill,i.border)};r.prototype._redrawBarColorGraphPoint=function(n,t){var r=this.xBarWidth/2,u=this.yBarWidth/2,i=this._getColorsColor(t);this._redrawBar(n,t,r,u,i.fill,i.border)};r.prototype._redrawBarSizeGraphPoint=function(n,t){var i=(t.point.value-this.valueRange.min)/this.valueRange.range(),u=this.xBarWidth/2*(.8*i+.2),f=this.yBarWidth/2*(.8*i+.2),r=this._getColorsSize();this._redrawBar(n,t,u,f,r.fill,r.border)};r.prototype._redrawDotGraphPoint=function(n,t){var i=this._getColorsRegular(t);this._drawCircle(n,t,i.fill,i.border)};r.prototype._redrawDotLineGraphPoint=function(n,t){var i=this._convert3Dto2D(t.bottom);n.lineWidth=1;this._line(n,i,t.screen,this.gridColor);this._redrawDotGraphPoint(n,t)};r.prototype._redrawDotColorGraphPoint=function(n,t){var i=this._getColorsColor(t);this._drawCircle(n,t,i.fill,i.border)};r.prototype._redrawDotSizeGraphPoint=function(n,t){var i=this._dotSize(),u=(t.point.value-this.valueRange.min)/this.valueRange.range(),f=i/2+2*i*u,r=this._getColorsSize();this._drawCircle(n,t,r.fill,r.border,f)};r.prototype._redrawSurfaceGraphPoint=function(n,t){var r=t.pointRight,f=t.pointTop,e=t.pointCross,i,o,h,v;if(void 0!==t&&void 0!==r&&void 0!==f&&void 0!==e){if(h=!0,this.showGrayBottom||this.showShadow){var y=u.subtract(e.trans,t.trans),p=u.subtract(f.trans,r.trans),c=u.crossProduct(y,p),w=c.length();h=c.z>0}if(h){var s,b=(t.point.z+r.point.z+f.point.z+e.point.z)/4,l=240*(1-(b-this.zRange.min)*this.scale.z/this.verticalRatio),a=1;this.showShadow?(s=Math.min(1+c.x/w/2,1),i=this._hsv2rgb(l,a,s),o=i):(s=1,i=this._hsv2rgb(l,a,s),o=this.axisColor)}else i="gray",o=this.axisColor;n.lineWidth=this._getStrokeWidth(t);v=[t,r,e,f];this._polygon(n,v,i,o)}};r.prototype._drawGridLine=function(n,t,i){if(void 0!==t&&void 0!==i){var r=(t.point.z+i.point.z)/2,u=240*(1-(r-this.zRange.min)*this.scale.z/this.verticalRatio);n.lineWidth=2*this._getStrokeWidth(t);n.strokeStyle=this._hsv2rgb(u,1,1);this._line(n,t.screen,i.screen)}};r.prototype._redrawGridGraphPoint=function(n,t){this._drawGridLine(n,t,t.pointRight);this._drawGridLine(n,t,t.pointTop)};r.prototype._redrawLineGraphPoint=function(n,t){void 0!==t.pointNext&&(n.lineWidth=this._getStrokeWidth(t),n.strokeStyle=this.dataColor.stroke,this._line(n,t.screen,t.pointNext.screen))};r.prototype._redrawDataGraph=function(){var n,i=this._getContext(),t;if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),n=0;n<this.dataPoints.length;n++)t=this.dataPoints[n],this._pointDrawingMethod.call(this,i,t)};r.prototype._storeMousePosition=function(n){this.startMouseX=s(n);this.startMouseY=h(n);this._startCameraOffset=this.camera.getOffset()};r.prototype._onMouseDown=function(n){if(n=n||window.event,this.leftButtonDown&&this._onMouseUp(n),this.leftButtonDown=n.which?1===n.which:1===n.button,this.leftButtonDown||this.touchDown){this._storeMousePosition(n);this.startStart=new Date(this.start);this.startEnd=new Date(this.end);this.startArmRotation=this.camera.getArmRotation();this.frame.style.cursor="move";var t=this;this.onmousemove=function(n){t._onMouseMove(n)};this.onmouseup=function(n){t._onMouseUp(n)};f.addEventListener(document,"mousemove",t.onmousemove);f.addEventListener(document,"mouseup",t.onmouseup);f.preventDefault(n)}};r.prototype._onMouseMove=function(n){var u,e,o;if(this.moving=!0,n=n||window.event,u=parseFloat(s(n))-this.startMouseX,e=parseFloat(h(n))-this.startMouseY,n&&n.ctrlKey===!0){var c=.5*this.frame.clientWidth,l=.5*this.frame.clientHeight,a=(this._startCameraOffset.x||0)-u/c*this.camera.armLength*.8,v=(this._startCameraOffset.y||0)+e/l*this.camera.armLength*.8;this.camera.setOffset(a,v);this._storeMousePosition(n)}else{var t=this.startArmRotation.horizontal+u/200,i=this.startArmRotation.vertical+e/200,r=Math.sin(4/180*Math.PI);Math.abs(Math.sin(t))<r&&(t=Math.round(t/Math.PI)*Math.PI-.001);Math.abs(Math.cos(t))<r&&(t=(Math.round(t/Math.PI-.5)+.5)*Math.PI-.001);Math.abs(Math.sin(i))<r&&(i=Math.round(i/Math.PI)*Math.PI);Math.abs(Math.cos(i))<r&&(i=(Math.round(i/Math.PI-.5)+.5)*Math.PI);this.camera.setArmRotation(t,i)}this.redraw();o=this.getCameraPosition();this.emit("cameraPositionChange",o);f.preventDefault(n)};r.prototype._onMouseUp=function(n){this.frame.style.cursor="auto";this.leftButtonDown=!1;f.removeEventListener(document,"mousemove",this.onmousemove);f.removeEventListener(document,"mouseup",this.onmouseup);f.preventDefault(n)};r.prototype._onClick=function(n){if(this.onclick_callback){if(this.moving)this.moving=!1;else{var t=this.frame.getBoundingClientRect(),r=s(n)-t.left,u=h(n)-t.top,i=this._dataPointFromXY(r,u);i&&this.onclick_callback(i.point.data)}f.preventDefault(n)}};r.prototype._onTooltip=function(n){var r=this.frame.getBoundingClientRect(),u=s(n)-r.left,f=h(n)-r.top,t,i;if(this.showTooltip){if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)return void this._hideTooltip();this.tooltip&&this.tooltip.dataPoint?(t=this._dataPointFromXY(u,f),t!==this.tooltip.dataPoint&&(t?this._showTooltip(t):this._hideTooltip())):(i=this,this.tooltipTimeout=setTimeout(function(){i.tooltipTimeout=null;var n=i._dataPointFromXY(u,f);n&&i._showTooltip(n)},300))}};r.prototype._onTouchStart=function(n){this.touchDown=!0;var t=this;this.ontouchmove=function(n){t._onTouchMove(n)};this.ontouchend=function(n){t._onTouchEnd(n)};f.addEventListener(document,"touchmove",t.ontouchmove);f.addEventListener(document,"touchend",t.ontouchend);this._onMouseDown(n)};r.prototype._onTouchMove=function(n){this._onMouseMove(n)};r.prototype._onTouchEnd=function(n){this.touchDown=!1;f.removeEventListener(document,"touchmove",this.ontouchmove);f.removeEventListener(document,"touchend",this.ontouchend);this._onMouseUp(n)};r.prototype._onWheel=function(n){var t,i,r,u;n||(n=window.event);t=0;(n.wheelDelta?t=n.wheelDelta/120:n.detail&&(t=-n.detail/3),t)&&(i=this.camera.getArmLength(),r=i*(1-t/10),this.camera.setArmLength(r),this.redraw(),this._hideTooltip());u=this.getCameraPosition();this.emit("cameraPositionChange",u);f.preventDefault(n)};r.prototype._insideTriangle=function(n,t){function s(n){return n>0?1:n<0?-1:0}var i=t[0],r=t[1],u=t[2],f=s((r.x-i.x)*(n.y-i.y)-(r.y-i.y)*(n.x-i.x)),e=s((u.x-r.x)*(n.y-r.y)-(u.y-r.y)*(n.x-r.x)),o=s((i.x-u.x)*(n.y-u.y)-(i.y-u.y)*(n.x-u.x));return!(0!=f&&0!=e&&f!=e||0!=e&&0!=o&&e!=o||0!=f&&0!=o&&f!=o)};r.prototype._dataPointFromXY=function(n,t){var i,u=null,a=null,c=null,v=new o(n,t),e,s,h;if(this.style===r.STYLE.BAR||this.style===r.STYLE.BARCOLOR||this.style===r.STYLE.BARSIZE){for(i=this.dataPoints.length-1;i>=0;i--)if(u=this.dataPoints[i],e=u.surfaces,e)for(s=e.length-1;s>=0;s--){var w=e[s],f=w.corners,b=[f[0].screen,f[1].screen,f[2].screen],k=[f[2].screen,f[3].screen,f[0].screen];if(this._insideTriangle(v,b)||this._insideTriangle(v,k))return u}}else for(i=0;i<this.dataPoints.length;i++)if(u=this.dataPoints[i],h=u.screen,h){var y=Math.abs(n-h.x),p=Math.abs(t-h.y),l=Math.sqrt(y*y+p*p);(null===c||l<c)&&l<100&&(c=l,a=u)}return a};r.prototype._showTooltip=function(n){var t,r,i;this.tooltip?(t=this.tooltip.dom.content,r=this.tooltip.dom.line,i=this.tooltip.dom.dot):(t=document.createElement("div"),t.style.position="absolute",t.style.padding="10px",t.style.border="1px solid #4d4d4d",t.style.color="#1a1a1a",t.style.background="rgba(255,255,255,0.7)",t.style.borderRadius="2px",t.style.boxShadow="5px 5px 10px rgba(128,128,128,0.5)",r=document.createElement("div"),r.style.position="absolute",r.style.height="40px",r.style.width="0",r.style.borderLeft="1px solid #4d4d4d",i=document.createElement("div"),i.style.position="absolute",i.style.height="0",i.style.width="0",i.style.border="5px solid #4d4d4d",i.style.borderRadius="5px",this.tooltip={dataPoint:null,dom:{content:t,line:r,dot:i}});this._hideTooltip();this.tooltip.dataPoint=n;t.innerHTML="function"==typeof this.showTooltip?this.showTooltip(n.point):"<table><tr><td>"+this.xLabel+":<\/td><td>"+n.point.x+"<\/td><\/tr><tr><td>"+this.yLabel+":<\/td><td>"+n.point.y+"<\/td><\/tr><tr><td>"+this.zLabel+":<\/td><td>"+n.point.z+"<\/td><\/tr><\/table>";t.style.left="0";t.style.top="0";this.frame.appendChild(t);this.frame.appendChild(r);this.frame.appendChild(i);var f=t.offsetWidth,o=t.offsetHeight,e=r.offsetHeight,s=i.offsetWidth,h=i.offsetHeight,u=n.screen.x-f/2;u=Math.min(Math.max(u,10),this.frame.clientWidth-10-f);r.style.left=n.screen.x+"px";r.style.top=n.screen.y-e+"px";t.style.left=u+"px";t.style.top=n.screen.y-e-o+"px";i.style.left=n.screen.x-s/2+"px";i.style.top=n.screen.y-h/2+"px"};r.prototype._hideTooltip=function(){var t,n;if(this.tooltip){this.tooltip.dataPoint=null;for(t in this.tooltip.dom)this.tooltip.dom.hasOwnProperty(t)&&(n=this.tooltip.dom[t],n&&n.parentNode&&n.parentNode.removeChild(n))}};r.prototype.setCameraPosition=function(n){l.setCameraPosition(n,this);this.redraw()};r.prototype.setSize=function(n,t){this._setSize(n,t);this.redraw()};n.exports=r},function(n){function t(n){if(n)return i(n)}function i(n){for(var i in t.prototype)n[i]=t.prototype[i];return n}n.exports=t;t.prototype.on=t.prototype.addEventListener=function(n,t){return this._callbacks=this._callbacks||{},(this._callbacks[n]=this._callbacks[n]||[]).push(t),this};t.prototype.once=function(n,t){function i(){r.off(n,i);t.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},i.fn=t,this.on(n,i),this};t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(n,t){var i,u,r;if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;if(i=this._callbacks[n],!i)return this;if(1==arguments.length)return delete this._callbacks[n],this;for(r=0;r<i.length;r++)if(u=i[r],u===t||u.fn===t){i.splice(r,1);break}return this};t.prototype.emit=function(n){var r,t,i,u;if(this._callbacks=this._callbacks||{},r=[].slice.call(arguments,1),t=this._callbacks[n],t)for(t=t.slice(0),i=0,u=t.length;i<u;++i)t[i].apply(this,r);return this};t.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks[n]||[]};t.prototype.hasListeners=function(n){return!!this.listeners(n).length}},function(n){function t(n,t,i){this.x=void 0!==n?n:0;this.y=void 0!==t?t:0;this.z=void 0!==i?i:0}t.subtract=function(n,i){var r=new t;return r.x=n.x-i.x,r.y=n.y-i.y,r.z=n.z-i.z,r};t.add=function(n,i){var r=new t;return r.x=n.x+i.x,r.y=n.y+i.y,r.z=n.z+i.z,r};t.avg=function(n,i){return new t((n.x+i.x)/2,(n.y+i.y)/2,(n.z+i.z)/2)};t.crossProduct=function(n,i){var r=new t;return r.x=n.y*i.z-n.z*i.y,r.y=n.z*i.x-n.x*i.z,r.z=n.x*i.y-n.y*i.x,r};t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};n.exports=t},function(n){function t(n,t){this.x=void 0!==n?n:0;this.y=void 0!==t?t:0}n.exports=t},function(n,t,i){function f(n){return n&&n.__esModule?n:{"default":n}}function r(){this.armLocation=new u;this.armRotation={};this.armRotation.horizontal=0;this.armRotation.vertical=0;this.armLength=1.7;this.cameraOffset=new u;this.offsetMultiplier=.6;this.cameraLocation=new u;this.cameraRotation=new u(.5*Math.PI,0,0);this.calculateCameraOrientation()}var e=i(99),o=f(e),u=i(96);r.prototype.setOffset=function(n,t){var r=Math.abs,u=o.default,f=this.offsetMultiplier,i=this.armLength*f;r(n)>i&&(n=u(n)*i);r(t)>i&&(t=u(t)*i);this.cameraOffset.x=n;this.cameraOffset.y=t;this.calculateCameraOrientation()};r.prototype.getOffset=function(){return this.cameraOffset};r.prototype.setArmLocation=function(n,t,i){this.armLocation.x=n;this.armLocation.y=t;this.armLocation.z=i;this.calculateCameraOrientation()};r.prototype.setArmRotation=function(n,t){void 0!==n&&(this.armRotation.horizontal=n);void 0!==t&&(this.armRotation.vertical=t,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI));void 0===n&&void 0===t||this.calculateCameraOrientation()};r.prototype.getArmRotation=function(){var n={};return n.horizontal=this.armRotation.horizontal,n.vertical=this.armRotation.vertical,n};r.prototype.setArmLength=function(n){void 0!==n&&(this.armLength=n,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())};r.prototype.getArmLength=function(){return this.armLength};r.prototype.getCameraLocation=function(){return this.cameraLocation};r.prototype.getCameraRotation=function(){return this.cameraRotation};r.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical);this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical);this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical);this.cameraRotation.x=Math.PI/2-this.armRotation.vertical;this.cameraRotation.y=0;this.cameraRotation.z=-this.armRotation.horizontal;var i=this.cameraRotation.x,n=(this.cameraRotation.y,this.cameraRotation.z),f=this.cameraOffset.x,r=this.cameraOffset.y,u=Math.sin,t=Math.cos;this.cameraLocation.x=this.cameraLocation.x+f*t(n)+r*-u(n)*t(i);this.cameraLocation.y=this.cameraLocation.y+f*u(n)+r*t(n)*t(i);this.cameraLocation.z=this.cameraLocation.z+r*u(i)};n.exports=r},function(n,t,i){n.exports={"default":i(100),__esModule:!0}},function(n,t,i){i(101);n.exports=i(17).Math.sign},function(n,t,i){var r=i(15);r(r.S,"Math",{sign:i(102)})},function(n){n.exports=Math.sign||function(n){return 0==(n=+n)||n!=n?n:n<0?-1:1}},function(n,t,i){function r(n,t,i){this.data=n;this.column=t;this.graph=i;this.index=void 0;this.value=void 0;this.values=i.getDistinctValues(n.get(),this.column);this.values.sort(function(n,t){return n>t?1:n<t?-1:0});this.values.length>0&&this.selectValue(0);this.dataPoints=[];this.loaded=!1;this.onLoadCallback=void 0;i.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}var u=i(93);r.prototype.isLoaded=function(){return this.loaded};r.prototype.getLoadedProgress=function(){for(var t=this.values.length,n=0;this.dataPoints[n];)n++;return Math.round(n/t*100)};r.prototype.getLabel=function(){return this.graph.filterLabel};r.prototype.getColumn=function(){return this.column};r.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]};r.prototype.getValues=function(){return this.values};r.prototype.getValue=function(n){if(n>=this.values.length)throw new Error("Index out of range");return this.values[n]};r.prototype._getDataPoints=function(n){var i,t,r;return(void 0===n&&(n=this.index),void 0===n)?[]:(this.dataPoints[n]?i=this.dataPoints[n]:(t={},t.column=this.column,t.value=this.values[n],r=new u(this.data,{filter:function(n){return n[t.column]==t.value}}).get(),i=this.graph._getDataPoints(r),this.dataPoints[n]=i),i)};r.prototype.setOnLoadCallback=function(n){this.onLoadCallback=n};r.prototype.selectValue=function(n){if(n>=this.values.length)throw new Error("Index out of range");this.index=n;this.value=this.values[n]};r.prototype.loadInBackground=function(n){var t,i,r;void 0===n&&(n=0);t=this.graph.frame;n<this.values.length?(this._getDataPoints(n),void 0===t.progress&&(t.progress=document.createElement("DIV"),t.progress.style.position="absolute",t.progress.style.color="gray",t.appendChild(t.progress)),i=this.getLoadedProgress(),t.progress.innerHTML="Loading animation... "+i+"%",t.progress.style.bottom="60px",t.progress.style.left="10px",r=this,setTimeout(function(){r.loadInBackground(n+1)},10),this.loaded=!1):(this.loaded=!0,void 0!==t.progress&&(t.removeChild(t.progress),t.progress=void 0),this.onLoadCallback&&this.onLoadCallback())};n.exports=r},function(n,t,i){function r(n,t){if(void 0===n)throw new Error("No container element defined");if(this.container=n,this.visible=!t||void 0==t.visible||t.visible,this.visible){this.frame=document.createElement("DIV");this.frame.style.width="100%";this.frame.style.position="relative";this.container.appendChild(this.frame);this.frame.prev=document.createElement("INPUT");this.frame.prev.type="BUTTON";this.frame.prev.value="Prev";this.frame.appendChild(this.frame.prev);this.frame.play=document.createElement("INPUT");this.frame.play.type="BUTTON";this.frame.play.value="Play";this.frame.appendChild(this.frame.play);this.frame.next=document.createElement("INPUT");this.frame.next.type="BUTTON";this.frame.next.value="Next";this.frame.appendChild(this.frame.next);this.frame.bar=document.createElement("INPUT");this.frame.bar.type="BUTTON";this.frame.bar.style.position="absolute";this.frame.bar.style.border="1px solid red";this.frame.bar.style.width="100px";this.frame.bar.style.height="6px";this.frame.bar.style.borderRadius="2px";this.frame.bar.style.MozBorderRadius="2px";this.frame.bar.style.border="1px solid #7F7F7F";this.frame.bar.style.backgroundColor="#E5E5E5";this.frame.appendChild(this.frame.bar);this.frame.slide=document.createElement("INPUT");this.frame.slide.type="BUTTON";this.frame.slide.style.margin="0px";this.frame.slide.value=" ";this.frame.slide.style.position="relative";this.frame.slide.style.left="-100px";this.frame.appendChild(this.frame.slide);var i=this;this.frame.slide.onmousedown=function(n){i._onMouseDown(n)};this.frame.prev.onclick=function(n){i.prev(n)};this.frame.play.onclick=function(n){i.togglePlay(n)};this.frame.next.onclick=function(n){i.next(n)}}this.onChangeCallback=void 0;this.values=[];this.index=void 0;this.playTimeout=void 0;this.playInterval=1e3;this.playLoop=!0}var u=i(1);r.prototype.prev=function(){var n=this.getIndex();n>0&&(n--,this.setIndex(n))};r.prototype.next=function(){var n=this.getIndex();n<this.values.length-1&&(n++,this.setIndex(n))};r.prototype.playNext=function(){var t=new Date,n=this.getIndex();n<this.values.length-1?(n++,this.setIndex(n)):this.playLoop&&(n=0,this.setIndex(n));var i=new Date,r=i-t,u=Math.max(this.playInterval-r,0),f=this;this.playTimeout=setTimeout(function(){f.playNext()},u)};r.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()};r.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))};r.prototype.stop=function(){clearInterval(this.playTimeout);this.playTimeout=void 0;this.frame&&(this.frame.play.value="Play")};r.prototype.setOnChangeCallback=function(n){this.onChangeCallback=n};r.prototype.setPlayInterval=function(n){this.playInterval=n};r.prototype.getPlayInterval=function(){return this.playInterval};r.prototype.setPlayLoop=function(n){this.playLoop=n};r.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()};r.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px";this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var n=this.indexToLeft(this.index);this.frame.slide.style.left=n+"px"}};r.prototype.setValues=function(n){this.values=n;this.values.length>0?this.setIndex(0):this.index=void 0};r.prototype.setIndex=function(n){if(!(n<this.values.length))throw new Error("Index out of range");this.index=n;this.redraw();this.onChange()};r.prototype.getIndex=function(){return this.index};r.prototype.get=function(){return this.values[this.index]};r.prototype._onMouseDown=function(n){var i=n.which?1===n.which:1===n.button,t;i&&(this.startClientX=n.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move",t=this,this.onmousemove=function(n){t._onMouseMove(n)},this.onmouseup=function(n){t._onMouseUp(n)},u.addEventListener(document,"mousemove",this.onmousemove),u.addEventListener(document,"mouseup",this.onmouseup),u.preventDefault(n))};r.prototype.leftToIndex=function(n){var i=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,r=n-3,t=Math.round(r/i*(this.values.length-1));return t<0&&(t=0),t>this.values.length-1&&(t=this.values.length-1),t};r.prototype.indexToLeft=function(n){var t=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,i=n/(this.values.length-1)*t;return i+3};r.prototype._onMouseMove=function(n){var t=n.clientX-this.startClientX,i=this.startSlideX+t,r=this.leftToIndex(i);this.setIndex(r);u.preventDefault()};r.prototype._onMouseUp=function(){this.frame.style.cursor="auto";u.removeEventListener(document,"mousemove",this.onmousemove);u.removeEventListener(document,"mouseup",this.onmouseup);u.preventDefault()};n.exports=r},function(n){function t(n,t,i,r){this._start=0;this._end=0;this._step=1;this.prettyStep=!0;this.precision=5;this._current=0;this.setRange(n,t,i,r)}t.prototype.isNumeric=function(n){return!isNaN(parseFloat(n))&&isFinite(n)};t.prototype.setRange=function(n,t,i,r){if(!this.isNumeric(n))throw new Error("Parameter 'start' is not numeric; value: "+n);if(!this.isNumeric(t))throw new Error("Parameter 'end' is not numeric; value: "+n);if(!this.isNumeric(i))throw new Error("Parameter 'step' is not numeric; value: "+n);this._start=n?n:0;this._end=t?t:0;this.setStep(i,r)};t.prototype.setStep=function(n,i){void 0===n||n<=0||(void 0!==i&&(this.prettyStep=i),this._step=this.prettyStep===!0?t.calculatePrettyStep(n):n)};t.calculatePrettyStep=function(n){var i=function(n){return Math.log(n)/Math.LN10},f=Math.pow(10,Math.round(i(n))),r=2*Math.pow(10,Math.round(i(n/2))),u=5*Math.pow(10,Math.round(i(n/5))),t=f;return Math.abs(r-n)<=Math.abs(t-n)&&(t=r),Math.abs(u-n)<=Math.abs(t-n)&&(t=u),t<=0&&(t=1),t};t.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))};t.prototype.getStep=function(){return this._step};t.prototype.start=function(n){void 0===n&&(n=!1);this._current=this._start-this._start%this._step;n&&this.getCurrent()<this._start&&this.next()};t.prototype.next=function(){this._current+=this._step};t.prototype.end=function(){return this._current>this._end};n.exports=t},function(n){function t(){this.min=void 0;this.max=void 0}t.prototype.adjust=function(n){void 0!==n&&((void 0===this.min||this.min>n)&&(this.min=n),(void 0===this.max||this.max<n)&&(this.max=n))};t.prototype.combine=function(n){this.add(n.min);this.add(n.max)};t.prototype.expand=function(n){if(void 0!==n){var t=this.min-n,i=this.max+n;if(t>i)throw new Error("Passed expansion value makes range invalid");this.min=t;this.max=i}};t.prototype.range=function(){return this.max-this.min};t.prototype.center=function(){return(this.min+this.max)/2};n.exports=t},function(n,t,i){function v(n){return n&&n.__esModule?n:{"default":n}}function f(n){for(var t in n)if(n.hasOwnProperty(t))return!1;return!0}function y(n){return void 0===n||""===n||"string"!=typeof n?n:n.charAt(0).toUpperCase()+n.slice(1)}function e(n,t){return void 0===n||""===n?t:n+y(t)}function o(n,t,i,r){var u,f;for(var o in i)u=i[o],f=e(r,u),t[f]=n[u]}function s(n,t,i,r){var u,f;for(var o in i)u=i[o],void 0!==n[u]&&(f=e(r,u),t[f]=n[u])}function p(n,t){if(void 0===n||f(n))throw new Error("No DEFAULTS passed");if(void 0===t)throw new Error("No dst passed");u=n;o(n,t,l);o(n,t,a,"default");h(n,t);t.margin=10;t.showGrayBottom=!1;t.showTooltip=!1;t.onclick_callback=null;t.eye=new ft(0,0,-1)}function w(n,t){if(void 0!==n){if(void 0===t)throw new Error("No dst passed");if(void 0===u||f(u))throw new Error("DEFAULTS not set for module Settings");s(n,t,l);s(n,t,a,"default");h(n,t)}}function h(n,t){void 0!==n.backgroundColor&&nt(n.backgroundColor,t);tt(n.dataColor,t);g(n.style,t);b(n.showLegend,t);c(n.cameraPosition,t);void 0!==n.tooltip&&(t.showTooltip=n.tooltip);void 0!=n.onclick&&(t.onclick_callback=n.onclick)}function b(n,t){var i,f;void 0===n?(i=void 0===u.showLegend,i&&(f=t.style===r.DOTCOLOR||t.style===r.DOTSIZE,t.showLegend=f)):t.showLegend=n}function k(n){var t=et[n];return void 0===t?-1:t}function d(n){var t=!1;for(var i in r)if(r[i]===n){t=!0;break}return t}function g(n,t){if(void 0!==n){var i;if("string"==typeof n){if(i=k(n),i===-1)throw new Error("Style '"+n+"' is invalid");}else{if(!d(n))throw new Error("Style '"+n+"' is invalid");i=n}t.style=i}}function nt(n,t){var i="white",r="gray",u=1;if("string"==typeof n)i=n,r="none",u=0;else{if("object"!==("undefined"==typeof n?"undefined":rt.default(n)))throw new Error("Unsupported type of backgroundColor");void 0!==n.fill&&(i=n.fill);void 0!==n.stroke&&(r=n.stroke);void 0!==n.strokeWidth&&(u=n.strokeWidth)}t.frame.style.backgroundColor=i;t.frame.style.borderColor=r;t.frame.style.borderWidth=u+"px";t.frame.style.borderStyle="solid"}function tt(n,t){void 0!==n&&(void 0===t.dataColor&&(t.dataColor={}),"string"==typeof n?(t.dataColor.fill=n,t.dataColor.stroke=n):(n.fill&&(t.dataColor.fill=n.fill),n.stroke&&(t.dataColor.stroke=n.stroke),void 0!==n.strokeWidth&&(t.dataColor.strokeWidth=n.strokeWidth)))}function c(n,t){var i=n;void 0!==i&&(void 0===t.camera&&(t.camera=new ut),t.camera.setArmRotation(i.horizontal,i.vertical),t.camera.setArmLength(i.distance))}var it=i(62),rt=v(it),ut=i(98),ft=i(96),r={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},et={dot:r.DOT,"dot-line":r.DOTLINE,"dot-color":r.DOTCOLOR,"dot-size":r.DOTSIZE,line:r.LINE,grid:r.GRID,surface:r.SURFACE,bar:r.BAR,"bar-color":r.BARCOLOR,"bar-size":r.BARSIZE},l=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"],a=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"],u=void 0;n.exports.STYLE=r;n.exports.setDefaults=p;n.exports.setOptions=w;n.exports.setCameraPosition=c},function(n,t,i){if("undefined"!=typeof window){var r=i(109),u=window.Hammer||i(110);n.exports=r(u,{preventDefault:"mouse"})}else n.exports=function(){throw Error("hammer.js is only available in a browser, not in node.js.");}},function(n,t){var i,u,r;!function(f){u=[];i=f;r="function"==typeof i?i.apply(t,u):i;!(void 0!==r&&(n.exports=r))}(function(){var n=null;return function t(i,r){function h(n){return n.match(/[^ ]+/g)}function c(t){var r,o,i,u,s,f,e;if("hammer.input"!==t.type){if(t.srcEvent._handled||(t.srcEvent._handled={}),t.srcEvent._handled[t.type])return;t.srcEvent._handled[t.type]=!0}for(r=!1,t.stopPropagation=function(){r=!0},o=t.srcEvent.stopPropagation.bind(t.srcEvent),"function"==typeof o&&(t.srcEvent.stopPropagation=function(){o();t.stopPropagation()}),t.firstTarget=n,i=n;i&&!r;){if(u=i.hammer,u)for(f=0;f<u.length;f++)if(s=u[f]._handlers[t.type])for(e=0;e<s.length&&!r;e++)s[e](t);i=i.parentNode}}var e=r||{preventDefault:!1},f,o,u,s;return i.Manager?(f=i,o=function(n,i){var r=Object.create(e);return i&&f.assign(r,i),t(new f(n,r),r)},f.assign(o,f),o.Manager=function(n,i){var r=Object.create(e);return i&&f.assign(r,i),t(new f.Manager(n,r),r)},o):(u=Object.create(i),s=i.element,s.hammer||(s.hammer=[]),s.hammer.push(u),i.on("hammer.input",function(t){e.preventDefault!==!0&&e.preventDefault!==t.pointerType||t.preventDefault();t.isFirst&&(n=t.target)}),u._handlers={},u.on=function(n,t){return h(n).forEach(function(n){var r=u._handlers[n];r||(u._handlers[n]=r=[],i.on(n,c));r.push(t)}),u},u.off=function(n,t){return h(n).forEach(function(n){var r=u._handlers[n];r&&(r=t?r.filter(function(n){return n!==t}):[],r.length>0?u._handlers[n]=r:(i.off(n,c),delete u._handlers[n]))}),u},u.emit=function(t,r){n=r.target;i.emit(t,r)},u.destroy=function(){var n=i.element.hammer,t=n.indexOf(u);t!==-1&&n.splice(t,1);n.length||delete i.element.hammer;u._handlers={};i.destroy()},u)}})},function(n,t,i){var r;!function(u,f,e,o){function vi(n,t,i){return setTimeout(yi(n,i),t)}function ot(n,t,i){return!!Array.isArray(n)&&(b(n,i[t],i),!0)}function b(n,t,i){var r;if(n)if(n.forEach)n.forEach(t,i);else if(n.length!==o)for(r=0;r<n.length;)t.call(i,n[r],r,n),r++;else for(r in n)n.hasOwnProperty(r)&&t.call(i,n[r],r,n)}function hr(n,t,i){var r="DEPRECATED METHOD: "+t+"\n"+i+" AT \n";return function(){var t=new Error("get-stack-trace"),f=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=u.console&&(u.console.warn||u.console.log);return i&&i.call(u.console,r,f),n.apply(this,arguments)}}function l(n,t,i){var r,u=t.prototype;r=n.prototype=Object.create(u);r.constructor=n;r._super=u;i&&d(r,i)}function yi(n,t){return function(){return n.apply(t,arguments)}}function pi(n,t){return typeof n==yf?n.apply(t?t[0]||o:o,t):n}function cr(n,t){return n===o?t:n}function dt(n,t,i){b(ni(t),function(t){n.addEventListener(t,i,!1)})}function gt(n,t,i){b(ni(t),function(t){n.removeEventListener(t,i,!1)})}function lr(n,t){for(;n;){if(n==t)return!0;n=n.parentNode}return!1}function tt(n,t){return n.indexOf(t)>-1}function ni(n){return n.trim().split(/\s+/g)}function st(n,t,i){if(n.indexOf&&!i)return n.indexOf(t);for(var r=0;r<n.length;){if(i&&n[r][i]==t||!i&&n[r]===t)return r;r++}return-1}function ti(n){return Array.prototype.slice.call(n,0)}function ar(n,t,i){for(var f,u=[],e=[],r=0;r<n.length;)f=t?n[r][t]:n[r],st(e,f)<0&&u.push(n[r]),e[r]=f,r++;return i&&(u=t?u.sort(function(n,i){return n[t]>i[t]}):u.sort()),u}function ii(n,t){for(var i,r,f=t[0].toUpperCase()+t.slice(1),u=0;u<iu.length;){if(i=iu[u],r=i?i+f:t,r in n)return r;u++}return o}function ku(){return wf++}function vr(n){var t=n.ownerDocument||n;return t.defaultView||t.parentWindow||u}function a(n,t){var i=this;this.manager=n;this.callback=t;this.element=n.element;this.target=n.options.inputTarget;this.domHandler=function(t){pi(n.options.enable,[n])&&i.handler(t)};this.init()}function du(n){var i,t=n.options.inputClass;return new(i=t?t:bf?bi:kf?fi:uu?ki:ui)(n,gu)}function gu(n,t,i){var r=i.pointers.length,u=i.changedPointers.length,f=t&h&&r-u==0,e=t&(s|c)&&r-u==0;i.isFirst=!!f;i.isFinal=!!e;f&&(n.session={});i.eventType=t;nf(n,i);n.emit("hammer.input",i);n.recognize(i);n.session.prevInput=i}function nf(n,t){var i=n.session,f=t.pointers,o=f.length,r,e;i.firstInput||(i.firstInput=yr(t));o>1&&!i.firstMultiple?i.firstMultiple=yr(t):1===o&&(i.firstMultiple=!1);var s=i.firstInput,u=i.firstMultiple,h=u?u.center:s.center,c=t.center=pr(f);t.timeStamp=ur();t.deltaTime=t.timeStamp-s.timeStamp;t.angle=wi(h,c);t.distance=ri(h,c);tf(i,t);t.offsetDirection=br(t.deltaX,t.deltaY);r=wr(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=r.x;t.overallVelocityY=r.y;t.overallVelocity=rt(r.x)>rt(r.y)?r.x:r.y;t.scale=u?ff(u.pointers,f):1;t.rotation=u?uf(u.pointers,f):0;t.maxPointers=i.prevInput?t.pointers.length>i.prevInput.maxPointers?t.pointers.length:i.prevInput.maxPointers:t.pointers.length;rf(i,t);e=n.element;lr(t.srcEvent.target,e)&&(e=t.srcEvent.target);t.target=e}function tf(n,t){var i=t.center,r=n.offsetDelta||{},u=n.prevDelta||{},f=n.prevInput||{};t.eventType!==h&&f.eventType!==s||(u=n.prevDelta={x:f.deltaX||0,y:f.deltaY||0},r=n.offsetDelta={x:i.x,y:i.y});t.deltaX=u.x+(i.x-r.x);t.deltaY=u.y+(i.y-r.y)}function rf(n,t){var u,f,e,s,i=n.lastInterval||t,h=t.timeStamp-i.timeStamp;if(t.eventType!=c&&(h>df||i.velocity===o)){var l=t.deltaX-i.deltaX,a=t.deltaY-i.deltaY,r=wr(h,l,a);f=r.x;e=r.y;u=rt(r.x)>rt(r.y)?r.x:r.y;s=br(l,a);n.lastInterval=t}else u=i.velocity,f=i.velocityX,e=i.velocityY,s=i.direction;t.velocity=u;t.velocityX=f;t.velocityY=e;t.direction=s}function yr(n){for(var i=[],t=0;t<n.pointers.length;)i[t]={clientX:ht(n.pointers[t].clientX),clientY:ht(n.pointers[t].clientY)},t++;return{timeStamp:ur(),pointers:i,center:pr(i),deltaX:n.deltaX,deltaY:n.deltaY}}function pr(n){var t=n.length;if(1===t)return{x:ht(n[0].clientX),y:ht(n[0].clientY)};for(var r=0,u=0,i=0;i<t;)r+=n[i].clientX,u+=n[i].clientY,i++;return{x:ht(r/t),y:ht(u/t)}}function wr(n,t,i){return{x:t/n||0,y:i/n||0}}function br(n,t){return n===t?hi:rt(n)>=rt(t)?n<0?at:vt:t<0?yt:pt}function ri(n,t,i){i||(i=eu);var r=t[i[0]]-n[i[0]],u=t[i[1]]-n[i[1]];return Math.sqrt(r*r+u*u)}function wi(n,t,i){i||(i=eu);var r=t[i[0]]-n[i[0]],u=t[i[1]]-n[i[1]];return 180*Math.atan2(u,r)/Math.PI}function uf(n,t){return wi(t[1],t[0],ci)+wi(n[1],n[0],ci)}function ff(n,t){return ri(t[0],t[1],ci)/ri(n[0],n[1],ci)}function ui(){this.evEl=ne;this.evWin=te;this.pressed=!1;a.apply(this,arguments)}function bi(){this.evEl=ou;this.evWin=su;a.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}function kr(){this.evTarget=fe;this.evWin=ee;this.started=!1;a.apply(this,arguments)}function ef(n,t){var i=ti(n.touches),r=ti(n.changedTouches);return t&(s|c)&&(i=ar(i.concat(r),"identifier",!0)),[i,r]}function fi(){this.evTarget=cu;this.targetIds={};a.apply(this,arguments)}function of(n,t){var r=ti(n.touches),u=this.targetIds;if(t&(h|ut)&&1===r.length)return u[r[0].identifier]=!0,[r,r];var i,f,e=ti(n.changedTouches),o=[],l=this.target;if(f=r.filter(function(n){return lr(n.target,l)}),t===h)for(i=0;i<f.length;)u[f[i].identifier]=!0,i++;for(i=0;i<e.length;)u[e[i].identifier]&&o.push(e[i]),t&(s|c)&&delete u[e[i].identifier],i++;if(o.length)return[ar(f.concat(o),"identifier",!0),o]}function ki(){a.apply(this,arguments);var n=yi(this.handler,this);this.touch=new fi(this.manager,n);this.mouse=new ui(this.manager,n);this.primaryTouch=null;this.lastTouches=[]}function sf(n,t){n&h?(this.primaryTouch=t.changedPointers[0].identifier,dr.call(this,t)):n&(s|c)&&dr.call(this,t)}function dr(n){var t=n.changedPointers[0],i,r,u;t.identifier===this.primaryTouch&&(i={x:t.clientX,y:t.clientY},this.lastTouches.push(i),r=this.lastTouches,u=function(){var n=r.indexOf(i);n>-1&&r.splice(n,1)},setTimeout(u,lu))}function hf(n){for(var r=n.srcEvent.clientX,u=n.srcEvent.clientY,t=0;t<this.lastTouches.length;t++){var i=this.lastTouches[t],f=Math.abs(r-i.x),e=Math.abs(u-i.y);if(f<=er&&e<=er)return!0}return!1}function di(n,t){this.manager=n;this.set(t)}function cf(n){if(tt(n,et))return et;var t=tt(n,wt),i=tt(n,bt);return t&&i?et:t||i?t?wt:bt:tt(n,or)?or:pu}function lf(){if(!vu)return!1;var n={},t=u.CSS&&u.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){n[i]=!t||u.CSS.supports("touch-action",i)}),n}function k(n){this.options=d({},this.defaults,n||{});this.id=ku();this.manager=null;this.options.enable=cr(this.options.enable,!0);this.state=ai;this.simultaneous={};this.requireFail=[]}function gr(n){return n&kt?"cancel":n&nt?"end":n&ct?"move":n&v?"start":""}function nu(n){return n==pt?"down":n==yt?"up":n==at?"left":n==vt?"right":""}function ei(n,t){var i=t.manager;return i?i.get(n):n}function y(){k.apply(this,arguments)}function oi(){y.apply(this,arguments);this.pX=null;this.pY=null}function gi(){y.apply(this,arguments)}function nr(){k.apply(this,arguments);this._timer=null;this._input=null}function tr(){y.apply(this,arguments)}function ir(){y.apply(this,arguments)}function si(){k.apply(this,arguments);this.pTime=!1;this.pCenter=!1;this._timer=null;this._input=null;this.count=0}function it(n,t){return t=t||{},t.recognizers=cr(t.recognizers,it.defaults.preset),new rr(n,t)}function rr(n,t){this.options=d({},it.defaults,t||{});this.options.inputTarget=this.options.inputTarget||n;this.handlers={};this.session={};this.recognizers=[];this.oldCssProps={};this.element=n;this.input=du(this);this.touchAction=new di(this,this.options.touchAction);tu(this,!0);b(this.options.recognizers,function(n){var t=this.add(new n[0](n[1]));n[2]&&t.recognizeWith(n[2]);n[3]&&t.requireFailure(n[3])},this)}function tu(n,t){var r=n.element,i;r.style&&(b(n.options.cssProps,function(u,f){i=ii(r.style,f);t?(n.oldCssProps[i]=r.style[i],r.style[i]=u):r.style[i]=n.oldCssProps[i]||""}),t||(n.oldCssProps={}))}function af(n,t){var i=f.createEvent("Event");i.initEvent(n,!0,!0);i.gesture=t;t.target.dispatchEvent(i)}var d,iu=["","webkit","Moz","MS","ms","o"],vf=f.createElement("div"),yf="function",ht=Math.round,rt=Math.abs,ur=Date.now,hu,cu,lu,er,wu,sr,bu;d="function"!=typeof Object.assign?function(n){var u,i,t,r;if(n===o||null===n)throw new TypeError("Cannot convert undefined or null to object");for(u=Object(n),i=1;i<arguments.length;i++)if(t=arguments[i],t!==o&&null!==t)for(r in t)t.hasOwnProperty(r)&&(u[r]=t[r]);return u}:Object.assign;var ru=hr(function(n,t,i){for(var u=Object.keys(t),r=0;r<u.length;)(!i||i&&n[u[r]]===o)&&(n[u[r]]=t[u[r]]),r++;return n},"extend","Use `assign`."),pf=hr(function(n,t){return ru(n,t,!0)},"merge","Use `assign`."),wf=1,uu="ontouchstart"in u,bf=ii(u,"PointerEvent")!==o,kf=uu&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),lt="touch",fr="mouse",df=25,h=1,ut=2,s=4,c=8,hi=1,at=2,vt=4,yt=8,pt=16,p=at|vt,ft=yt|pt,fu=p|ft,eu=["x","y"],ci=["clientX","clientY"];a.prototype={handler:function(){},init:function(){this.evEl&&dt(this.element,this.evEl,this.domHandler);this.evTarget&&dt(this.target,this.evTarget,this.domHandler);this.evWin&&dt(vr(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&gt(this.element,this.evEl,this.domHandler);this.evTarget&&gt(this.target,this.evTarget,this.domHandler);this.evWin&&gt(vr(this.element),this.evWin,this.domHandler)}};var gf={mousedown:h,mousemove:ut,mouseup:s},ne="mousedown",te="mousemove mouseup";l(ui,a,{handler:function(n){var t=gf[n.type];t&h&&0===n.button&&(this.pressed=!0);t&ut&&1!==n.which&&(t=s);this.pressed&&(t&s&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[n],changedPointers:[n],pointerType:fr,srcEvent:n}))}});var ie={pointerdown:h,pointermove:ut,pointerup:s,pointercancel:c,pointerout:c},re={2:lt,3:"pen",4:fr,5:"kinect"},ou="pointerdown",su="pointermove pointerup pointercancel";u.MSPointerEvent&&!u.PointerEvent&&(ou="MSPointerDown",su="MSPointerMove MSPointerUp MSPointerCancel");l(bi,a,{handler:function(n){var t=this.store,u=!1,e=n.type.toLowerCase().replace("ms",""),r=ie[e],f=re[n.pointerType]||n.pointerType,o=f==lt,i=st(t,n.pointerId,"pointerId");r&h&&(0===n.button||o)?i<0&&(t.push(n),i=t.length-1):r&(s|c)&&(u=!0);i<0||(t[i]=n,this.callback(this.manager,r,{pointers:t,changedPointers:[n],pointerType:f,srcEvent:n}),u&&t.splice(i,1))}});var ue={touchstart:h,touchmove:ut,touchend:s,touchcancel:c},fe="touchstart",ee="touchstart touchmove touchend touchcancel";l(kr,a,{handler:function(n){var i=ue[n.type],t;(i===h&&(this.started=!0),this.started)&&(t=ef.call(this,n,i),i&(s|c)&&t[0].length-t[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:t[0],changedPointers:t[1],pointerType:lt,srcEvent:n}))}});hu={touchstart:h,touchmove:ut,touchend:s,touchcancel:c};cu="touchstart touchmove touchend touchcancel";l(fi,a,{handler:function(n){var i=hu[n.type],t=of.call(this,n,i);t&&this.callback(this.manager,i,{pointers:t[0],changedPointers:t[1],pointerType:lt,srcEvent:n})}});lu=2500;er=25;l(ki,a,{handler:function(n,t,i){var u=i.pointerType==lt,r=i.pointerType==fr;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(u)sf.call(this,t,i);else if(r&&hf.call(this,i))return;this.callback(n,t,i)}},destroy:function(){this.touch.destroy();this.mouse.destroy()}});var au=ii(vf.style,"touchAction"),vu=au!==o,yu="compute",pu="auto",or="manipulation",et="none",wt="pan-x",bt="pan-y",li=lf();di.prototype={set:function(n){n==yu&&(n=this.compute());vu&&this.manager.element.style&&li[n]&&(this.manager.element.style[au]=n);this.actions=n.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var n=[];return b(this.manager.recognizers,function(t){pi(t.options.enable,[t])&&(n=n.concat(t.getTouchAction()))}),cf(n.join(" "))},preventDefaults:function(n){var i=n.srcEvent,r=n.offsetDirection;if(this.manager.session.prevented)return void i.preventDefault();var t=this.actions,u=tt(t,et)&&!li[et],f=tt(t,bt)&&!li[bt],e=tt(t,wt)&&!li[wt];if(u){var o=1===n.pointers.length,s=n.distance<2,h=n.deltaTime<250;if(o&&s&&h)return}if(!e||!f)return u||f&&r&p||e&&r&ft?this.preventSrc(i):void 0},preventSrc:function(n){this.manager.session.prevented=!0;n.preventDefault()}};var ai=1,v=2,ct=4,nt=8,g=nt,kt=16,w=32;k.prototype={defaults:{},set:function(n){return d(this.options,n),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(n){if(ot(n,"recognizeWith",this))return this;var t=this.simultaneous;return n=ei(n,this),t[n.id]||(t[n.id]=n,n.recognizeWith(this)),this},dropRecognizeWith:function(n){return ot(n,"dropRecognizeWith",this)?this:(n=ei(n,this),delete this.simultaneous[n.id],this)},requireFailure:function(n){if(ot(n,"requireFailure",this))return this;var t=this.requireFail;return n=ei(n,this),st(t,n)===-1&&(t.push(n),n.requireFailure(this)),this},dropRequireFailure:function(n){if(ot(n,"dropRequireFailure",this))return this;n=ei(n,this);var t=st(this.requireFail,n);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(n){return!!this.simultaneous[n.id]},emit:function(n){function t(t){i.manager.emit(t,n)}var i=this,r=this.state;r<nt&&t(i.options.event+gr(r));t(i.options.event);n.additionalEvent&&t(n.additionalEvent);r>=nt&&t(i.options.event+gr(r))},tryEmit:function(n){return this.canEmit()?this.emit(n):void(this.state=w)},canEmit:function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(w|ai)))return!1;n++}return!0},recognize:function(n){var t=d({},n);return pi(this.options.enable,[this,t])?(this.state&(g|kt|w)&&(this.state=ai),this.state=this.process(t),void(this.state&(v|ct|nt|kt)&&this.tryEmit(t))):(this.reset(),void(this.state=w))},process:function(){},getTouchAction:function(){},reset:function(){}};l(y,k,{defaults:{pointers:1},attrTest:function(n){var t=this.options.pointers;return 0===t||n.pointers.length===t},process:function(n){var t=this.state,i=n.eventType,r=t&(v|ct),u=this.attrTest(n);return r&&(i&c||!u)?t|kt:r||u?i&s?t|nt:t&v?t|ct:v:w}});l(oi,y,{defaults:{event:"pan",threshold:10,pointers:1,direction:fu},getTouchAction:function(){var t=this.options.direction,n=[];return t&p&&n.push(bt),t&ft&&n.push(wt),n},directionTest:function(n){var i=this.options,r=!0,u=n.distance,t=n.direction,f=n.deltaX,e=n.deltaY;return t&i.direction||(i.direction&p?(t=0===f?hi:f<0?at:vt,r=f!=this.pX,u=Math.abs(n.deltaX)):(t=0===e?hi:e<0?yt:pt,r=e!=this.pY,u=Math.abs(n.deltaY))),n.direction=t,r&&u>i.threshold&&t&i.direction},attrTest:function(n){return y.prototype.attrTest.call(this,n)&&(this.state&v||!(this.state&v)&&this.directionTest(n))},emit:function(n){this.pX=n.deltaX;this.pY=n.deltaY;var t=nu(n.direction);t&&(n.additionalEvent=this.options.event+t);this._super.emit.call(this,n)}});l(gi,y,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[et]},attrTest:function(n){return this._super.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&v)},emit:function(n){if(1!==n.scale){var t=n.scale<1?"in":"out";n.additionalEvent=this.options.event+t}this._super.emit.call(this,n)}});l(nr,k,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[pu]},process:function(n){var t=this.options,i=n.pointers.length===t.pointers,r=n.distance<t.threshold,u=n.deltaTime>t.time;if(this._input=n,!r||!i||n.eventType&(s|c)&&!u)this.reset();else if(n.eventType&h)this.reset(),this._timer=vi(function(){this.state=g;this.tryEmit()},t.time,this);else if(n.eventType&s)return g;return w},reset:function(){clearTimeout(this._timer)},emit:function(n){this.state===g&&(n&&n.eventType&s?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=ur(),this.manager.emit(this.options.event,this._input)))}});l(tr,y,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[et]},attrTest:function(n){return this._super.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&v)}});l(ir,y,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:p|ft,pointers:1},getTouchAction:function(){return oi.prototype.getTouchAction.call(this)},attrTest:function(n){var t,i=this.options.direction;return i&(p|ft)?t=n.overallVelocity:i&p?t=n.overallVelocityX:i&ft&&(t=n.overallVelocityY),this._super.attrTest.call(this,n)&&i&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers==this.options.pointers&&rt(t)>this.options.velocity&&n.eventType&s},emit:function(n){var t=nu(n.offsetDirection);t&&this.manager.emit(this.options.event+t,n);this.manager.emit(this.options.event,n)}});l(si,k,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[or]},process:function(n){var t=this.options,f=n.pointers.length===t.pointers,e=n.distance<t.threshold,o=n.deltaTime<t.time,i,r,u;if(this.reset(),n.eventType&h&&0===this.count)return this.failTimeout();if(e&&o&&f){if(n.eventType!=s)return this.failTimeout();if(i=!this.pTime||n.timeStamp-this.pTime<t.interval,r=!this.pCenter||ri(this.pCenter,n.center)<t.posThreshold,this.pTime=n.timeStamp,this.pCenter=n.center,r&&i?this.count+=1:this.count=1,this._input=n,u=this.count%t.taps,0===u)return this.hasRequireFailures()?(this._timer=vi(function(){this.state=g;this.tryEmit()},t.interval,this),v):g}return w},failTimeout:function(){return this._timer=vi(function(){this.state=w},this.options.interval,this),w},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==g&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});it.VERSION="2.0.7";it.defaults={domEvents:!1,touchAction:yu,enable:!0,inputTarget:null,inputClass:null,preset:[[tr,{enable:!1}],[gi,{enable:!1},["rotate"]],[ir,{direction:p}],[oi,{direction:p},["swipe"]],[si],[si,{event:"doubletap",taps:2},["tap"]],[nr]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};wu=1;sr=2;rr.prototype={set:function(n){return d(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},stop:function(n){this.session.stopped=n?sr:wu},recognize:function(n){var r=this.session,i,f,t,u;if(!r.stopped)for(this.touchAction.preventDefaults(n),f=this.recognizers,t=r.curRecognizer,(!t||t&&t.state&g)&&(t=r.curRecognizer=null),u=0;u<f.length;)i=f[u],r.stopped===sr||t&&i!=t&&!i.canRecognizeWith(t)?i.reset():i.recognize(n),!t&&i.state&(v|ct|nt)&&(t=r.curRecognizer=i),u++},get:function(n){if(n instanceof k)return n;for(var i=this.recognizers,t=0;t<i.length;t++)if(i[t].options.event==n)return i[t];return null},add:function(n){if(ot(n,"add",this))return this;var t=this.get(n.options.event);return t&&this.remove(t),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},remove:function(n){if(ot(n,"remove",this))return this;if(n=this.get(n)){var t=this.recognizers,i=st(t,n);i!==-1&&(t.splice(i,1),this.touchAction.update())}return this},on:function(n,t){if(n!==o&&t!==o){var i=this.handlers;return b(ni(n),function(n){i[n]=i[n]||[];i[n].push(t)}),this}},off:function(n,t){if(n!==o){var i=this.handlers;return b(ni(n),function(n){t?i[n]&&i[n].splice(st(i[n],t),1):delete i[n]}),this}},emit:function(n,t){var i,r;if(this.options.domEvents&&af(n,t),i=this.handlers[n]&&this.handlers[n].slice(),i&&i.length)for(t.type=n,t.preventDefault=function(){t.srcEvent.preventDefault()},r=0;r<i.length;)i[r](t),r++},destroy:function(){this.element&&tu(this,!1);this.handlers={};this.session={};this.input.destroy();this.element=null}};d(it,{INPUT_START:h,INPUT_MOVE:ut,INPUT_END:s,INPUT_CANCEL:c,STATE_POSSIBLE:ai,STATE_BEGAN:v,STATE_CHANGED:ct,STATE_ENDED:nt,STATE_RECOGNIZED:g,STATE_CANCELLED:kt,STATE_FAILED:w,DIRECTION_NONE:hi,DIRECTION_LEFT:at,DIRECTION_RIGHT:vt,DIRECTION_UP:yt,DIRECTION_DOWN:pt,DIRECTION_HORIZONTAL:p,DIRECTION_VERTICAL:ft,DIRECTION_ALL:fu,Manager:rr,Input:a,TouchAction:di,TouchInput:fi,MouseInput:ui,PointerEventInput:bi,TouchMouseInput:ki,SingleTouchInput:kr,Recognizer:k,AttrRecognizer:y,Tap:si,Pan:oi,Swipe:ir,Pinch:gi,Rotate:tr,Press:nr,on:dt,off:gt,each:b,merge:pf,extend:ru,assign:d,inherit:l,bindFn:yi,prefixed:ii});bu="undefined"!=typeof u?u:"undefined"!=typeof self?self:{};bu.Hammer=it;r=function(){return it}.call(t,i,t,n);!(r!==o&&(n.exports=r))}(window,document,"Hammer")},function(n,t){var i,u,r;!function(f,e){u=[];i=e;r="function"==typeof i?i.apply(t,u):i;!(void 0!==r&&(n.exports=r))}(this,function(){function n(n){for(var h=n&&n.preventDefault||!1,f=n&&n.container||window,u={},r={keydown:{},keyup:{}},t={},i=97;i<=122;i++)t[String.fromCharCode(i)]={code:i-32,shift:!1};for(i=65;i<=90;i++)t[String.fromCharCode(i)]={code:i,shift:!0};for(i=0;i<=9;i++)t[""+i]={code:48+i,shift:!1};for(i=1;i<=12;i++)t["F"+i]={code:111+i,shift:!1};for(i=0;i<=9;i++)t["num"+i]={code:96+i,shift:!1};t["num*"]={code:106,shift:!1};t["num+"]={code:107,shift:!1};t["num-"]={code:109,shift:!1};t["num/"]={code:111,shift:!1};t["num."]={code:110,shift:!1};t.left={code:37,shift:!1};t.up={code:38,shift:!1};t.right={code:39,shift:!1};t.down={code:40,shift:!1};t.space={code:32,shift:!1};t.enter={code:13,shift:!1};t.shift={code:16,shift:void 0};t.esc={code:27,shift:!1};t.backspace={code:8,shift:!1};t.tab={code:9,shift:!1};t.ctrl={code:17,shift:!1};t.alt={code:18,shift:!1};t.delete={code:46,shift:!1};t.pageup={code:33,shift:!1};t.pagedown={code:34,shift:!1};t["="]={code:187,shift:!1};t["-"]={code:189,shift:!1};t["]"]={code:221,shift:!1};t["["]={code:219,shift:!1};var e=function(n){s(n,"keydown")},o=function(n){s(n,"keyup")},s=function(n,t){if(void 0!==r[t][n.keyCode]){for(var u=r[t][n.keyCode],i=0;i<u.length;i++)void 0===u[i].shift?u[i].fn(n):1==u[i].shift&&1==n.shiftKey?u[i].fn(n):0==u[i].shift&&0==n.shiftKey&&u[i].fn(n);1==h&&n.preventDefault()}};return u.bind=function(n,i,u){if(void 0===u&&(u="keydown"),void 0===t[n])throw new Error("unsupported key: "+n);void 0===r[u][t[n].code]&&(r[u][t[n].code]=[]);r[u][t[n].code].push({fn:i,shift:t[n].shift})},u.bindAll=function(n,i){void 0===i&&(i="keydown");for(var r in t)t.hasOwnProperty(r)&&u.bind(r,n,i)},u.getKey=function(n){for(var i in t)if(t.hasOwnProperty(i)&&(1==n.shiftKey&&1==t[i].shift&&n.keyCode==t[i].code||0==n.shiftKey&&0==t[i].shift&&n.keyCode==t[i].code||n.keyCode==t[i].code&&"shift"==i))return i;return"unknown key, currently not supported"},u.unbind=function(n,i,u){var o,e,f;if(void 0===u&&(u="keydown"),void 0===t[n])throw new Error("unsupported key: "+n);if(void 0!==i){if(o=[],e=r[u][t[n].code],void 0!==e)for(f=0;f<e.length;f++)e[f].fn==i&&e[f].shift==t[n].shift||o.push(r[u][t[n].code][f]);r[u][t[n].code]=o}else r[u][t[n].code]=[]},u.reset=function(){r={keydown:{},keyup:{}}},u.destroy=function(){r={keydown:{},keyup:{}};f.removeEventListener("keydown",e,!0);f.removeEventListener("keyup",o,!0)},f.addEventListener("keydown",e,!0),f.addEventListener("keyup",o,!0),u}return n})},function(n,t,i){t.util=i(1);t.DOMutil=i(90);t.DataSet=i(91);t.DataView=i(93);t.Queue=i(92);t.Timeline=i(113);t.Graph2d=i(144);t.timeline={Core:i(126),DateUtil:i(125),Range:i(123),stack:i(131),TimeStep:i(129),components:{items:{Item:i(133),BackgroundItem:i(137),BoxItem:i(135),PointItem:i(136),RangeItem:i(132)},BackgroundGroup:i(134),Component:i(124),CurrentTime:i(142),CustomTime:i(140),DataAxis:i(146),DataScale:i(147),GraphGroup:i(148),Group:i(130),ItemSet:i(127),Legend:i(152),LineGraph:i(145),TimeAxis:i(138)}};t.moment=i(84);t.Hammer=i(108);t.keycharm=i(111)},function(n,t,i){function o(n){return n&&n.__esModule?n:{"default":n}}function r(n,t,i,o){var l,s,c,h;if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(i)||i instanceof f||i instanceof e)&&i instanceof Object&&(l=o,o=i,i=l),o&&o.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.'),s=this,this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:v,width:null,height:null,maxHeight:null,minHeight:null},this.options=u.deepExtend({},this.defaultOptions),this._create(n),!o||o&&"undefined"==typeof o.rtl){for(h=this.dom.root;!c&&h;)c=window.getComputedStyle(h,null).direction,h=h.parentElement;this.options.rtl=c&&"rtl"==c.toLowerCase()}else this.options.rtl=o.rtl;this.options.rollingMode=o&&o.rollingMode;this.components=[];this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return s.timeAxis.step.scale},getStep:function(){return s.timeAxis.step.step},toScreen:s._toScreen.bind(s),toGlobalScreen:s._toGlobalScreen.bind(s),toTime:s._toTime.bind(s),toGlobalTime:s._toGlobalTime.bind(s)}};this.range=new y(this.body,this.options);this.components.push(this.range);this.body.range=this.range;this.timeAxis=new p(this.body,this.options);this.timeAxis2=null;this.components.push(this.timeAxis);this.currentTime=new w(this.body,this.options);this.components.push(this.currentTime);this.itemSet=new k(this.body,this.options);this.components.push(this.itemSet);this.itemsData=null;this.groupsData=null;this.dom.root.onclick=function(n){s.emit("click",s.getEventProperties(n))};this.dom.root.ondblclick=function(n){s.emit("doubleClick",s.getEventProperties(n))};this.dom.root.oncontextmenu=function(n){s.emit("contextmenu",s.getEventProperties(n))};this.dom.root.onmouseover=function(n){s.emit("mouseOver",s.getEventProperties(n))};this.dom.root.onmousemove=function(n){s.emit("mouseMove",s.getEventProperties(n))};this.fitDone=!1;this.on("changed",function(){var n,t,i;null==this.itemsData||this.options.rollingMode||s.fitDone||((s.fitDone=!0,void 0!=s.options.start||void 0!=s.options.end)?((void 0==s.options.start||void 0==s.options.end)&&(n=s.getItemRange()),t=void 0!=s.options.start?s.options.start:n.min,i=void 0!=s.options.end?s.options.end:n.max,s.setWindow(t,i,{animation:!1})):s.fit({animation:!1}))});o&&this.setOptions(o);i&&this.setGroups(i);t&&this.setItems(t);this._redraw()}var h=i(114),c=o(h),l=i(122),a=o(l),v=(i(95),i(108),i(84)),u=i(1),f=i(91),e=i(93),y=i(123),s=i(126),p=i(138),w=i(142),b=i(140),k=i(127),d=i(122).printStyle,g=i(143).allOptions,nt=i(143).configureOptions;r.prototype=new s;r.prototype._createConfigurator=function(){return new c.default(this,this.dom.container,nt)};r.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0});this._redraw()};r.prototype.setOptions=function(n){var r=a.default.validate(n,g),t,i;(r===!0&&console.log("%cErrors have been found in the supplied options object.",d),s.prototype.setOptions.call(this,n),"type"in n&&n.type!==this.options.type)&&(this.options.type=n.type,t=this.itemsData,t&&(i=this.getSelection(),this.setItems(null),this.setItems(t),this.setSelection(i)))};r.prototype.setItems=function(n){var t;t=n?n instanceof f||n instanceof e?n:new f(n,{type:{start:"Date",end:"Date"}}):null;this.itemsData=t;this.itemSet&&this.itemSet.setItems(t)};r.prototype.setGroups=function(n){var t,i;n?(i=function(n){return n.visible!==!1},t=n instanceof f||n instanceof e?new e(n,{filter:i}):new f(n.filter(i))):t=null;this.groupsData=t;this.itemSet.setGroups(t)};r.prototype.setData=function(n){n&&n.groups&&this.setGroups(n.groups);n&&n.items&&this.setItems(n.items)};r.prototype.setSelection=function(n,t){this.itemSet&&this.itemSet.setSelection(n);t&&t.focus&&this.focus(n,t)};r.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]};r.prototype.focus=function(n,t){if(this.itemsData&&void 0!=n){var e=Array.isArray(n)?n:[n],o=this.itemsData.getDataSet().get(e,{type:{start:"Date",end:"Date"}}),i=null,r=null;if(o.forEach(function(n){var t=n.start.valueOf(),u="end"in n?n.end.valueOf():n.start.valueOf();(null===i||t<i)&&(i=t);(null===r||u>r)&&(r=u)}),null!==i&&null!==r){var u=(i+r)/2,f=Math.max(this.range.end-this.range.start,1.1*(r-i)),s=!t||void 0===t.animation||t.animation;this.range.setRange(u-f/2,u+f/2,s)}}};r.prototype.fit=function(n){var t,i=!n||void 0===n.animation||n.animation,r=this.itemsData&&this.itemsData.getDataSet();1===r.length&&void 0===r.get()[0].end?(t=this.getDataRange(),this.moveTo(t.min.valueOf(),{animation:i})):(t=this.getItemRange(),this.range.setRange(t.min,t.max,i))};r.prototype.getItemRange=function(){var f=this,h=this.getDataRange(),n=null!==h.min?h.min.valueOf():null,t=null!==h.max?h.max.valueOf():null,e=null,o=null,i,s,c,l,r;return null!=n&&null!=t&&!function(){var h=function(n){return u.convert(n.data.start,"Date").valueOf()},a=function(n){var t=void 0!=n.data.end?n.data.end:n.data.start;return u.convert(t,"Date").valueOf()};i=t-n;i<=0&&(i=10);s=i/f.props.center.width;u.forEach(f.itemSet.items,function(i){var f,c,r,u;i.groupShowing&&(i.show(),i.repositionX());f=h(i);c=a(i);this.options.rtl?(r=f-(i.getWidthRight()+10)*s,u=c+(i.getWidthLeft()+10)*s):(r=f-(i.getWidthLeft()+10)*s,u=c+(i.getWidthRight()+10)*s);r<n&&(n=r,e=i);u>t&&(t=u,o=i)}.bind(f));e&&o&&(c=e.getWidthLeft()+10,l=o.getWidthRight()+10,r=f.props.center.width-c-l,r>0&&(f.options.rtl?(n=h(e)-l*i/r,t=a(o)+c*i/r):(n=h(e)-c*i/r,t=a(o)+l*i/r)))}(),{min:null!=n?new Date(n):null,max:null!=t?new Date(t):null}};r.prototype.getDataRange=function(){var n=null,t=null,i=this.itemsData&&this.itemsData.getDataSet();return i&&i.forEach(function(i){var r=u.convert(i.start,"Date").valueOf(),f=u.convert(void 0!=i.end?i.end:i.start,"Date").valueOf();(null===n||r<n)&&(n=r);(null===t||f>t)&&(t=f)}),{min:null!=n?new Date(n):null,max:null!=t?new Date(t):null}};r.prototype.getEventProperties=function(n){var e=n.center?n.center.x:n.clientX,c=n.center?n.center.y:n.clientY,o=this.options.rtl?u.getAbsoluteRight(this.dom.centerContainer)-e:e-u.getAbsoluteLeft(this.dom.centerContainer);var l=c-u.getAbsoluteTop(this.dom.centerContainer),r=this.itemSet.itemFromTarget(n),s=this.itemSet.groupFromTarget(n),a=b.customTimeFromTarget(n),h=this.itemSet.options.snap||null,v=this.body.util.getScale(),y=this.body.util.getStep(),f=this._toTime(o),p=h?h(f,v,y):f,i=u.getTarget(n),t=null;return null!=r?t="item":null!=a?t="custom-time":u.hasParent(i,this.timeAxis.dom.foreground)?t="axis":this.timeAxis2&&u.hasParent(i,this.timeAxis2.dom.foreground)?t="axis":u.hasParent(i,this.itemSet.dom.labelSet)?t="group-label":u.hasParent(i,this.currentTime.bar)?t="current-time":u.hasParent(i,this.dom.center)&&(t="background"),{event:n,item:r?r.id:null,group:s?s.groupId:null,what:t,pageX:n.srcEvent?n.srcEvent.pageX:n.pageX,pageY:n.srcEvent?n.srcEvent.pageY:n.pageY,x:o,y:l,time:f,snappedTime:p}};n.exports=r},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var e=i(82),o=r(e),s=i(62),u=r(s),h=i(115),c=r(h),l=i(116),a=r(l),v=i(120),y=r(v),f=i(1),p=function(){function n(t,i,r){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;c.default(this,n);this.parent=t;this.changedOptions=[];this.container=i;this.allowCreation=!1;this.options={};this.initialized=!1;this.popupCounter=0;this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0};f.extend(this.options,this.defaultOptions);this.configureOptions=r;this.moduleOptions={};this.domElements=[];this.popupDiv={};this.popupLimit=5;this.popupHistory={};this.colorPicker=new y.default(u);this.wrapper=void 0}return a.default(n,[{key:"setOptions",value:function(n){if(void 0!==n){this.popupHistory={};this._removePopup();var t=!0;"string"==typeof n?this.options.filter=n:n instanceof Array?this.options.filter=n.join():"object"===("undefined"==typeof n?"undefined":u.default(n))?(void 0!==n.container&&(this.options.container=n.container),void 0!==n.filter&&(this.options.filter=n.filter),void 0!==n.showButton&&(this.options.showButton=n.showButton),void 0!==n.enabled&&(t=n.enabled)):"boolean"==typeof n?(this.options.filter=!0,t=n):"function"==typeof n&&(this.options.filter=n,t=!0);this.options.filter===!1&&(t=!1);this.options.enabled=t}this._clean()}},{key:"setModuleOptions",value:function(n){this.moduleOptions=n;this.options.enabled===!0&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var t=this,n;this._clean();this.changedOptions=[];var r=this.options.filter,u=0,i=!1;for(n in this.configureOptions)this.configureOptions.hasOwnProperty(n)&&(this.allowCreation=!1,i=!1,"function"==typeof r?(i=r(n,[]),i=i||this._handleObject(this.configureOptions[n],[n],!0)):r!==!0&&r.indexOf(n)===-1||(i=!0),i!==!1&&(this.allowCreation=!0,u>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),u++);this.options.showButton===!0&&!function(){var n=document.createElement("div");n.className="vis-configuration vis-config-button";n.innerHTML="generate options";n.onclick=function(){t._printOptions()};n.onmouseover=function(){n.className="vis-configuration vis-config-button hover"};n.onmouseout=function(){n.className="vis-configuration vis-config-button"};t.optionsContainer=document.createElement("div");t.optionsContainer.className="vis-configuration vis-config-option-container";t.domElements.push(t.optionsContainer);t.domElements.push(n)}();this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div");this.wrapper.className="vis-configuration-wrapper";this.container.appendChild(this.wrapper);for(var n=0;n<this.domElements.length;n++)this.wrapper.appendChild(this.domElements[n]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var n=0;n<this.domElements.length;n++)this.wrapper.removeChild(this.domElements[n]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0);this.domElements=[];this._removePopup()}},{key:"_getValue",value:function(n){for(var t=this.moduleOptions,i=0;i<n.length;i++){if(void 0===t[n[i]]){t=void 0;break}t=t[n[i]]}return t}},{key:"_makeItem",value:function(n){var e=arguments,o=this,i,f,t,r;return this.allowCreation===!0&&(r=function(){var r=document.createElement("div");for(r.className="vis-configuration vis-config-item vis-config-s"+n.length,i=e.length,f=Array(i>1?i-1:0),t=1;t<i;t++)f[t-1]=e[t];return f.forEach(function(n){r.appendChild(n)}),o.domElements.push(r),{v:o.domElements.length}}(),"object"===("undefined"==typeof r?"undefined":u.default(r)))?r.v:0}},{key:"_makeHeader",value:function(n){var t=document.createElement("div");t.className="vis-configuration vis-config-header";t.innerHTML=n;this._makeItem([],t)}},{key:"_makeLabel",value:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=document.createElement("div");return i.className="vis-configuration vis-config-label vis-config-s"+t.length,i.innerHTML=r===!0?"<i><b>"+n+":<\/b><\/i>":n+":",i}},{key:"_makeDropdown",value:function(n,t,i){var f=document.createElement("select"),e,r,u,o,s;for(f.className="vis-configuration vis-config-select",e=0,void 0!==t&&n.indexOf(t)!==-1&&(e=n.indexOf(t)),r=0;r<n.length;r++)u=document.createElement("option"),u.value=n[r],r===e&&(u.selected="selected"),u.innerHTML=n[r],f.appendChild(u);o=this;f.onchange=function(){o._update(this.value,i)};s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,f)}},{key:"_makeRange",value:function(n,t,i){var v=n[0],h=n[1],c=n[2],y=n[3],r=document.createElement("input"),f,e,u,o,l,a,s;r.className="vis-configuration vis-config-range";try{r.type="range";r.min=h;r.max=c}catch(n){}r.step=y;f="";e=0;void 0!==t?(u=1.2,t<0&&t*u<h?(r.min=Math.ceil(t*u),e=r.min,f="range increased"):t/u<h&&(r.min=Math.ceil(t/u),e=r.min,f="range increased"),t*u>c&&1!==c&&(r.max=Math.ceil(t*u),e=r.max,f="range increased"),r.value=t):r.value=v;o=document.createElement("input");o.className="vis-configuration vis-config-rangeinput";o.value=r.value;l=this;r.onchange=function(){o.value=this.value;l._update(Number(this.value),i)};r.oninput=function(){o.value=this.value};a=this._makeLabel(i[i.length-1],i);s=this._makeItem(i,a,r,o);""!==f&&this.popupHistory[s]!==e&&(this.popupHistory[s]=e,this._setupPopup(f,s))}},{key:"_setupPopup",value:function(n,t){var r=this,i;this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit&&(i=document.createElement("div"),i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerHTML=n,i.onclick=function(){r._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:t})}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this,i,n;void 0!==this.popupDiv.html&&(i=this.domElements[this.popupDiv.index],n=i.getBoundingClientRect(),this.popupDiv.html.style.left=n.left+"px",this.popupDiv.html.style.top=n.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){t.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){t._removePopup()},1800))}},{key:"_makeCheckbox",value:function(n,t,i){var r=document.createElement("input"),f,e;r.type="checkbox";r.className="vis-configuration vis-config-checkbox";r.checked=n;void 0!==t&&(r.checked=t,t!==n&&("object"===("undefined"==typeof n?"undefined":u.default(n))?t!==n.enabled&&this.changedOptions.push({path:i,value:t}):this.changedOptions.push({path:i,value:t})));f=this;r.onchange=function(){f._update(this.checked,i)};e=this._makeLabel(i[i.length-1],i);this._makeItem(i,e,r)}},{key:"_makeTextInput",value:function(n,t,i){var r=document.createElement("input"),u,f;r.type="text";r.className="vis-configuration vis-config-text";r.value=t;t!==n&&this.changedOptions.push({path:i,value:t});u=this;r.onchange=function(){u._update(this.value,i)};f=this._makeLabel(i[i.length-1],i);this._makeItem(i,f,r)}},{key:"_makeColorField",value:function(n,t,i){var e=this,u=n[1],r=document.createElement("div"),f;t=void 0===t?u:t;"none"!==t?(r.className="vis-configuration vis-config-colorBlock",r.style.backgroundColor=t):r.className="vis-configuration vis-config-colorBlock none";t=void 0===t?u:t;r.onclick=function(){e._showColorPicker(t,r,i)};f=this._makeLabel(i[i.length-1],i);this._makeItem(i,f,r)}},{key:"_showColorPicker",value:function(n,t,i){var r=this;t.onclick=function(){};this.colorPicker.insertTo(t);this.colorPicker.show();this.colorPicker.setColor(n);this.colorPicker.setUpdateCallback(function(n){var u="rgba("+n.r+","+n.g+","+n.b+","+n.a+")";t.style.backgroundColor=u;r._update(u,i)});this.colorPicker.setCloseCallback(function(){t.onclick=function(){r._showColorPicker(n,t,i)}})}},{key:"_handleObject",value:function(n){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],p=arguments.length>2&&void 0!==arguments[2]&&arguments[2],e=!1,l=this.options.filter,u=!1,r,t,i,o,h,a,c,v,y;for(r in n)n.hasOwnProperty(r)&&(e=!0,t=n[r],i=f.copyAndExtendArray(s,r),("function"==typeof l&&(e=l(r,s),e===!1&&!(t instanceof Array)&&"string"!=typeof t&&"boolean"!=typeof t&&t instanceof Object&&(this.allowCreation=!1,e=this._handleObject(t,i,!0),this.allowCreation=p===!1)),e!==!1)&&(u=!0,o=this._getValue(i),t instanceof Array?this._handleArray(t,o,i):"string"==typeof t?this._makeTextInput(t,o,i):"boolean"==typeof t?this._makeCheckbox(t,o,i):t instanceof Object?(h=!0,(s.indexOf("physics")!==-1&&this.moduleOptions.physics.solver!==r&&(h=!1),h===!0)&&(void 0!==t.enabled?(a=f.copyAndExtendArray(i,"enabled"),c=this._getValue(a),c===!0?(v=this._makeLabel(r,i,!0),this._makeItem(i,v),u=this._handleObject(t,i)||u):this._makeCheckbox(t,c,i)):(y=this._makeLabel(r,i,!0),this._makeItem(i,y),u=this._handleObject(t,i)||u))):console.error("dont know how to handle",t,r,i)));return u}},{key:"_handleArray",value:function(n,t,i){"string"==typeof n[0]&&"color"===n[0]?(this._makeColorField(n,t,i),n[1]!==t&&this.changedOptions.push({path:i,value:t})):"string"==typeof n[0]?(this._makeDropdown(n,t,i),n[0]!==t&&this.changedOptions.push({path:i,value:t})):"number"==typeof n[0]&&(this._makeRange(n,t,i),n[0]!==t&&this.changedOptions.push({path:i,value:Number(t)}))}},{key:"_update",value:function(n,t){var i=this._constructOptions(n,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i);this.initialized=!0;this.parent.setOptions(i)}},{key:"_constructOptions",value:function(n,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=u,i;for(n="true"===n||n,n="false"!==n&&n,i=0;i<t.length;i++)"global"!==t[i]&&(void 0===r[t[i]]&&(r[t[i]]={}),i!==t.length-1?r=r[t[i]]:r[t[i]]=n);return u}},{key:"_printOptions",value:function(){var n=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+o.default(n,null,2)+"<\/pre>"}},{key:"getOptions",value:function(){for(var t={},n=0;n<this.changedOptions.length;n++)this._constructOptions(this.changedOptions[n].value,this.changedOptions[n].path,t);return t}}]),n}();t.default=p},function(n,t){t.__esModule=!0;t.default=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0;var u=i(117),f=r(u);t.default=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),f.default(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}()},function(n,t,i){n.exports={"default":i(118),__esModule:!0}},function(n,t,i){i(119);var r=i(17).Object;n.exports=function(n,t,i){return r.defineProperty(n,t,i)}},function(n,t,i){var r=i(15);r(r.S+r.F*!i(25),"Object",{defineProperty:i(21).f})},function(n,t,i){function u(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var f=i(82),e=u(f),o=i(115),s=u(o),h=i(116),c=u(h),l=i(108),a=i(121),r=i(1),v=function(){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;s.default(this,n);this.pixelRatio=t;this.generated=!1;this.centerCoordinates={x:144.5,y:144.5};this.r=289*.49;this.color={r:255,g:255,b:255,a:1};this.hueCircle=void 0;this.initialColor={r:255,g:255,b:255,a:1};this.previousColor=void 0;this.applied=!1;this.updateCallback=function(){};this.closeCallback=function(){};this._create()}return c.default(n,[{key:"insertTo",value:function(n){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0);this.container=n;this.container.appendChild(this.frame);this._bindHammer();this._setSize()}},{key:"setUpdateCallback",value:function(n){if("function"!=typeof n)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=n}},{key:"setCloseCallback",value:function(n){if("function"!=typeof n)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=n}},{key:"_isColorString",value:function(n){if("string"==typeof n)return{black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"}[n]}},{key:"setColor",value:function(n){var h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t,o,u,i,f,s;if("none"!==n){if(t=void 0,o=this._isColorString(n),(void 0!==o&&(n=o),r.isString(n)===!0)?r.isValidRGB(n)===!0?(u=n.substr(4).substr(0,n.length-5).split(","),t={r:u[0],g:u[1],b:u[2],a:1}):r.isValidRGBA(n)===!0?(i=n.substr(5).substr(0,n.length-6).split(","),t={r:i[0],g:i[1],b:i[2],a:i[3]}):r.isValidHex(n)===!0&&(f=r.hexToRGB(n),t={r:f.r,g:f.g,b:f.b,a:1}):n instanceof Object&&void 0!==n.r&&void 0!==n.g&&void 0!==n.b&&(s=void 0!==n.a?n.a:"1.0",t={r:n.r,g:n.g,b:n.b,a:s}),void 0===t)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+e.default(n));this._setColor(t,h)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0);this.applied=!1;this.frame.style.display="block";this._generateHueCircle()}},{key:"_hide",value:function(){var n=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t===!0&&(this.previousColor=r.extend({},this.color));this.applied===!0&&this.updateCallback(this.initialColor);this.frame.style.display="none";setTimeout(function(){void 0!==n.closeCallback&&(n.closeCallback(),n.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color);this.applied=!1;this._hide()}},{key:"_apply",value:function(){this.applied=!0;this.updateCallback(this.color);this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(n){var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];f===!0&&(this.initialColor=r.extend({},n));this.color=n;var t=r.RGBToHSV(n.r,n.g,n.b),i=2*Math.PI,u=this.r*t.s,e=this.centerCoordinates.x+u*Math.sin(i*t.h),o=this.centerCoordinates.y+u*Math.cos(i*t.h);this.colorPickerSelector.style.left=e-.5*this.colorPickerSelector.clientWidth+"px";this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px";this._updatePicker(n)}},{key:"_setOpacity",value:function(n){this.color.a=n/100;this._updatePicker(this.color)}},{key:"_setBrightness",value:function(n){var t=r.RGBToHSV(this.color.r,this.color.g,this.color.b),i;t.v=n/100;i=r.HSVToRGB(t.h,t.s,t.v);i.a=this.color.a;this.color=i;this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,i=r.RGBToHSV(t.r,t.g,t.b),n=this.colorPickerCanvas.getContext("2d"),u,f;void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1));n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);u=this.colorPickerCanvas.clientWidth;f=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,u,f);n.putImageData(this.hueCircle,0,0);n.fillStyle="rgba(0,0,0,"+(1-i.v)+")";n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r);n.fill();this.brightnessRange.value=100*i.v;this.opacityRange.value=100*t.a;this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")";this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%";this.colorPickerCanvas.style.height="100%";this.colorPickerCanvas.width=289*this.pixelRatio;this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var n,t,i;(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext)?(n=this.colorPickerCanvas.getContext("2d"),this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)):(t=document.createElement("DIV"),t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t));this.colorPickerDiv.className="vis-color";this.opacityDiv=document.createElement("div");this.opacityDiv.className="vis-opacity";this.brightnessDiv=document.createElement("div");this.brightnessDiv.className="vis-brightness";this.arrowDiv=document.createElement("div");this.arrowDiv.className="vis-arrow";this.opacityRange=document.createElement("input");try{this.opacityRange.type="range";this.opacityRange.min="0";this.opacityRange.max="100"}catch(n){}this.opacityRange.value="100";this.opacityRange.className="vis-range";this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range";this.brightnessRange.min="0";this.brightnessRange.max="100"}catch(n){}this.brightnessRange.value="100";this.brightnessRange.className="vis-range";this.opacityDiv.appendChild(this.opacityRange);this.brightnessDiv.appendChild(this.brightnessRange);i=this;this.opacityRange.onchange=function(){i._setOpacity(this.value)};this.opacityRange.oninput=function(){i._setOpacity(this.value)};this.brightnessRange.onchange=function(){i._setBrightness(this.value)};this.brightnessRange.oninput=function(){i._setBrightness(this.value)};this.brightnessLabel=document.createElement("div");this.brightnessLabel.className="vis-label vis-brightness";this.brightnessLabel.innerHTML="brightness:";this.opacityLabel=document.createElement("div");this.opacityLabel.className="vis-label vis-opacity";this.opacityLabel.innerHTML="opacity:";this.newColorDiv=document.createElement("div");this.newColorDiv.className="vis-new-color";this.newColorDiv.innerHTML="new";this.initialColorDiv=document.createElement("div");this.initialColorDiv.className="vis-initial-color";this.initialColorDiv.innerHTML="initial";this.cancelButton=document.createElement("div");this.cancelButton.className="vis-button vis-cancel";this.cancelButton.innerHTML="cancel";this.cancelButton.onclick=this._hide.bind(this,!1);this.applyButton=document.createElement("div");this.applyButton.className="vis-button vis-apply";this.applyButton.innerHTML="apply";this.applyButton.onclick=this._apply.bind(this);this.saveButton=document.createElement("div");this.saveButton.className="vis-button vis-save";this.saveButton.innerHTML="save";this.saveButton.onclick=this._save.bind(this);this.loadButton=document.createElement("div");this.loadButton.className="vis-button vis-load";this.loadButton.innerHTML="load last";this.loadButton.onclick=this._loadLast.bind(this);this.frame.appendChild(this.colorPickerDiv);this.frame.appendChild(this.arrowDiv);this.frame.appendChild(this.brightnessLabel);this.frame.appendChild(this.brightnessDiv);this.frame.appendChild(this.opacityLabel);this.frame.appendChild(this.opacityDiv);this.frame.appendChild(this.newColorDiv);this.frame.appendChild(this.initialColorDiv);this.frame.appendChild(this.cancelButton);this.frame.appendChild(this.applyButton);this.frame.appendChild(this.saveButton);this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var n=this;this.drag={};this.pinch={};this.hammer=new l(this.colorPickerCanvas);this.hammer.get("pinch").set({enable:!0});a.onTouch(this.hammer,function(t){n._moveSelector(t)});this.hammer.on("tap",function(t){n._moveSelector(t)});this.hammer.on("panstart",function(t){n._moveSelector(t)});this.hammer.on("panmove",function(t){n._moveSelector(t)});this.hammer.on("panend",function(t){n._moveSelector(t)})}},{key:"_generateHueCircle",value:function(){var n,u,f;if(this.generated===!1){n=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1));n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);u=this.colorPickerCanvas.clientWidth;f=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,u,f);var o=void 0,s=void 0,t=void 0,i=void 0;this.centerCoordinates={x:.5*u,y:.5*f};this.r=.49*u;var h=Math.PI/180,c=1/this.r,e=void 0;for(t=0;t<360;t++)for(i=0;i<this.r;i++)o=this.centerCoordinates.x+i*Math.sin(h*t),s=this.centerCoordinates.y+i*Math.cos(h*t),e=r.HSVToRGB(t*(1/360),i*c,1),n.fillStyle="rgb("+e.r+","+e.g+","+e.b+")",n.fillRect(o-.5,s-.5,2,2);n.strokeStyle="rgba(0,0,0,1)";n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r);n.stroke();this.hueCircle=n.getImageData(0,0,u,f)}this.generated=!0}},{key:"_moveSelector",value:function(n){var c=this.colorPickerDiv.getBoundingClientRect(),v=n.center.x-c.left,y=n.center.y-c.top,l=.5*this.colorPickerDiv.clientHeight,u=.5*this.colorPickerDiv.clientWidth,f=v-u,e=y-l,o=Math.atan2(f,e),s=.98*Math.min(Math.sqrt(f*f+e*e),u),p=Math.cos(o)*s+l,w=Math.sin(o)*s+u,t,a,i,h;this.colorPickerSelector.style.top=p-.5*this.colorPickerSelector.clientHeight+"px";this.colorPickerSelector.style.left=w-.5*this.colorPickerSelector.clientWidth+"px";t=o/(2*Math.PI);t=t<0?t+1:t;a=s/this.r;i=r.RGBToHSV(this.color.r,this.color.g,this.color.b);i.h=t;i.s=a;h=r.HSVToRGB(i.h,i.s,i.v);h.a=this.color.a;this.color=h;this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")";this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),n}();t.default=v},function(n,t,i){i(108);t.onTouch=function(n,t){t.inputHandler=function(n){n.isFirst&&t(n)};n.on("hammer.input",t.inputHandler)};t.onRelease=function(n,t){return t.inputHandler=function(n){n.isFinal&&t(n)},n.on("hammer.input",t.inputHandler)};t.offTouch=function(n,t){n.off("hammer.input",t.inputHandler)};t.offRelease=t.offTouch;t.disablePreventDefaultVertically=function(n){var t="pan-y";return n.getTouchAction=function(){return[t]},n}},function(n,t,i){function u(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});t.printStyle=void 0;var h=i(82),c=u(h),l=i(62),a=u(l),v=i(58),o=u(v),y=i(115),p=u(y),w=i(116),b=u(w),e=i(1),f=!1,s=void 0,r="background: #FFeeee; color: #dd0000",k=function(){function n(){p.default(this,n)}return b.default(n,null,[{key:"validate",value:function(t,i,r){f=!1;s=i;var u=i;return void 0!==r&&(u=i[r]),n.parse(t,u,[]),f}},{key:"parse",value:function(t,i,r){for(var u in t)t.hasOwnProperty(u)&&n.check(u,t,i,r)}},{key:"check",value:function(t,i,r,u){void 0===r[t]&&void 0===r.__any__?n.getSuggestion(t,r,u):void 0===r[t]&&void 0!==r.__any__?"object"===n.getType(i[t])&&void 0!==r.__any__.__type__?n.checkFields(t,i,r,"__any__",r.__any__.__type__,u):n.checkFields(t,i,r,"__any__",r.__any__,u):void 0!==r[t].__type__?n.checkFields(t,i,r,t,r[t].__type__,u):n.checkFields(t,i,r,t,r[t],u)}},{key:"checkFields",value:function(t,i,u,s,h,c){var a=n.getType(i[t]),l=h[a];void 0!==l?"array"===n.getType(l)&&l.indexOf(i[t])===-1?(console.log('%cInvalid option detected in "'+t+'". Allowed values are:'+n.print(l)+' not "'+i[t]+'". '+n.printLocation(c,t),r),f=!0):"object"===a&&"__any__"!==s&&(c=e.copyAndExtendArray(c,t),n.parse(i[t],u[s],c)):void 0===h.any&&(console.log('%cInvalid type received for "'+t+'". Expected: '+n.print(o.default(h))+". Received ["+a+'] "'+i[t]+'"'+n.printLocation(c,t),r),f=!0)}},{key:"getType",value:function(n){var t="undefined"==typeof n?"undefined":a.default(n);return"object"===t?null===n?"null":n instanceof Boolean?"boolean":n instanceof Number?"number":n instanceof String?"string":Array.isArray(n)?"array":n instanceof Date?"date":void 0!==n.nodeType?"dom":n._isAMomentObject===!0?"moment":"object":"number"===t?"number":"boolean"===t?"boolean":"string"===t?"string":void 0===t?"undefined":t}},{key:"getSuggestion",value:function(t,i,u){var e=n.findInOptions(t,i,u,!1),h=n.findInOptions(t,s,[],!0);void 0!==e.indexMatch?console.log('%cUnknown option detected: "'+t+'" in '+n.printLocation(e.path,t,"")+'Perhaps it was incomplete? Did you mean: "'+e.indexMatch+'"?\n\n',r):h.distance<=4&&e.distance>h.distance?console.log('%cUnknown option detected: "'+t+'" in '+n.printLocation(e.path,t,"")+"Perhaps it was misplaced? Matching option found at: "+n.printLocation(h.path,h.closestMatch,""),r):e.distance<=8?console.log('%cUnknown option detected: "'+t+'". Did you mean "'+e.closestMatch+'"?'+n.printLocation(e.path,t),r):console.log('%cUnknown option detected: "'+t+'". Did you mean one of these: '+n.print(o.default(i))+n.printLocation(u,t),r);f=!0}},{key:"findInOptions",value:function(t,i,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=1e9,h="",c=[],v=t.toLowerCase(),l=void 0,u,s,f;for(u in i)s=void 0,void 0!==i[u].__type__&&a===!0?(f=n.findInOptions(t,i[u],e.copyAndExtendArray(r,u)),o>f.distance&&(h=f.closestMatch,c=f.path,o=f.distance,l=f.indexMatch)):(u.toLowerCase().indexOf(v)!==-1&&(l=u),s=n.levenshteinDistance(t,u),o>s&&(h=u,c=e.copyArray(r),o=s));return{closestMatch:h,path:c,distance:o,indexMatch:l}}},{key:"printLocation",value:function(n,t){for(var f,e,u,o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",i="\n\n"+s+"options = {\n",r=0;r<n.length;r++){for(f=0;f<r+1;f++)i+="  ";i+=n[r]+": {\n"}for(e=0;e<n.length+1;e++)i+="  ";for(i+=t+"\n",u=0;u<n.length+1;u++){for(o=0;o<n.length-u;o++)i+="  ";i+="}\n"}return i+"\n\n"}},{key:"print",value:function(n){return c.default(n).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(n,t){var i,u,r;if(0===n.length)return t.length;if(0===t.length)return n.length;for(u=[],i=0;i<=t.length;i++)u[i]=[i];for(r=0;r<=n.length;r++)u[0][r]=r;for(i=1;i<=t.length;i++)for(r=1;r<=n.length;r++)u[i][r]=t.charAt(i-1)==n.charAt(r-1)?u[i-1][r-1]:Math.min(u[i-1][r-1]+1,Math.min(u[i][r-1]+1,u[i-1][r]+1));return u[t.length][n.length]}}]),n}();t.default=k;t.printStyle=r},function(n,t,i){function e(n){return n&&n.__esModule?n:{"default":n}}function r(n,t){var i=h().hours(0).minutes(0).seconds(0).milliseconds(0),r=i.clone().add(-3,"days").valueOf(),f=i.clone().add(3,"days").valueOf();void 0===t?(this.start=r,this.end=f):(this.start=t.start||r,this.end=t.end||f);this.rolling=!1;this.body=n;this.deltaDifference=0;this.scaleOffset=0;this.startToFront=!1;this.endToFront=!0;this.defaultOptions={rtl:!1,start:null,end:null,moment:h,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10};this.options=u.extend({},this.defaultOptions);this.props={touch:{}};this.animationTimer=null;this.body.emitter.on("panstart",this._onDragStart.bind(this));this.body.emitter.on("panmove",this._onDrag.bind(this));this.body.emitter.on("panend",this._onDragEnd.bind(this));this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this));this.body.emitter.on("touch",this._onTouch.bind(this));this.body.emitter.on("pinch",this._onPinch.bind(this));this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this));this.setOptions(t)}function o(n){if("horizontal"!=n&&"vertical"!=n)throw new TypeError('Unknown direction "'+n+'". Choose "horizontal" or "vertical".');}var c=i(58),l=e(c),a=i(82),v=e(a),y=i(62),s=e(y),u=i(1),h=(i(121),i(84)),p=i(124),f=i(125);r.prototype=new p;r.prototype.setOptions=function(n){if(n)u.selectiveExtend(["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","showCurrentTime","rollMode","horizontalScroll"],this.options,n),n.rollingMode&&this.startRolling(),("start"in n||"end"in n)&&this.setRange(n.start,n.end)};r.prototype.startRolling=function(){function t(){var f,i;n.stopRolling();n.rolling=!0;var i=n.end-n.start,r=u.convert(new Date,"Date").valueOf(),e=r-i/2,o=r+i/2;n.options&&void 0!==n.options.animation&&n.options.animation;n.setRange(e,o,!1);f=n.conversion(n.body.domProps.center.width).scale;i=1/f/10;i<30&&(i=30);i>1e3&&(i=1e3);n.body.dom.rollingModeBtn.style.visibility="hidden";n.currentTimeTimer=setTimeout(t,i)}var n=this;t()};r.prototype.stopRolling=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")};r.prototype.setRange=function(n,t,i,r,e){var h,c,a,p;if(r!==!0&&(r=!1),h=void 0!=n?u.convert(n,"Date").valueOf():null,c=void 0!=t?u.convert(t,"Date").valueOf():null,this._cancelAnimation(),i){var o=this,w=this.start,b=this.end,k="object"===("undefined"==typeof i?"undefined":s.default(i))&&"duration"in i?i.duration:500,d="object"===("undefined"==typeof i?"undefined":s.default(i))&&"easingFunction"in i?i.easingFunction:"easeInOutQuad",g=u.easingFunctions[d];if(!g)throw new Error("Unknown easing function "+v.default(d)+". Choose from: "+l.default(u.easingFunctions).join(", "));var nt=(new Date).valueOf(),y=!1,tt=function n(){var i;if(!o.props.touch.dragging){var v=(new Date).valueOf(),s=v-nt,l=g(s/k),t=s>k,p=t||null===h?h:w+(h-w)*l,d=t||null===c?c:b+(c-b)*l;a=o._applyRange(p,d);f.updateHiddenDates(o.options.moment,o.body,o.options.hiddenDates);y=y||a;i={start:new Date(o.start),end:new Date(o.end),byUser:r,event:u.elementsCensor(e)};a&&o.body.emitter.emit("rangechange",i);t?y&&o.body.emitter.emit("rangechanged",i):o.animationTimer=setTimeout(n,20)}};return tt()}a=this._applyRange(h,c);(f.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),a)&&(p={start:new Date(this.start),end:new Date(this.end),byUser:r,event:u.elementsCensor(e)},this.body.emitter.emit("rangechange",p),this.body.emitter.emit("rangechanged",p))};r.prototype.getMillisecondsPerPixel=function(){return(this.end-this.start)/this.body.dom.center.clientWidth};r.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)};r.prototype._applyRange=function(n,t){var f,i=null!=n?u.convert(n,"Date").valueOf():this.start,r=null!=t?u.convert(t,"Date").valueOf():this.end,e=null!=this.options.max?u.convert(this.options.max,"Date").valueOf():null,o=null!=this.options.min?u.convert(this.options.min,"Date").valueOf():null,s,c,h,l;if(isNaN(i)||null===i)throw new Error('Invalid start "'+n+'"');if(isNaN(r)||null===r)throw new Error('Invalid end "'+t+'"');return(r<i&&(r=i),null!==o&&i<o&&(f=o-i,i+=f,r+=f,null!=e&&r>e&&(r=e)),null!==e&&r>e&&(f=r-e,i-=f,r-=f,null!=o&&i<o&&(i=o)),null!==this.options.zoomMin)&&(s=parseFloat(this.options.zoomMin),(s<0&&(s=0),r-i<s)&&(c=.5,this.end-this.start===s&&i>=this.start-c&&r<=this.end?(i=this.start,r=this.end):(f=s-(r-i),i-=f/2,r+=f/2))),null!==this.options.zoomMax&&(h=parseFloat(this.options.zoomMax),h<0&&(h=0),r-i>h&&(this.end-this.start===h&&i<this.start&&r>this.end?(i=this.start,r=this.end):(f=r-i-h,i+=f/2,r-=f/2))),l=this.start!=i||this.end!=r,i>=this.start&&i<=this.end||r>=this.start&&r<=this.end||this.start>=i&&this.start<=r||this.end>=i&&this.end<=r||this.body.emitter.emit("checkRangedItems"),this.start=i,this.end=r,l};r.prototype.getRange=function(){return{start:this.start,end:this.end}};r.prototype.conversion=function(n,t){return r.conversion(this.start,this.end,n,t)};r.conversion=function(n,t,i,r){return void 0===r&&(r=0),0!=i&&t-n!=0?{offset:n,scale:i/(t-n-r)}:{offset:0,scale:1}};r.prototype._onDragStart=function(n){this.deltaDifference=0;this.previousDelta=0;this.options.moveable&&this._isInsideRange(n)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))};r.prototype._onDrag=function(n){var i,t,r,l,e,s,y,p;if(n&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){i=this.options.direction;o(i);t="horizontal"==i?n.deltaX:n.deltaY;t-=this.deltaDifference;r=this.props.touch.end-this.props.touch.start;l=f.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);r-=l;e="horizontal"==i?this.body.domProps.center.width:this.body.domProps.center.height;s=this.options.rtl?t/e*r:-t/e*r;var h=this.props.touch.start+s,c=this.props.touch.end+s,a=f.snapAwayFromHidden(this.body.hiddenDates,h,this.previousDelta-t,!0),v=f.snapAwayFromHidden(this.body.hiddenDates,c,this.previousDelta-t,!0);if(a!=h||v!=c)return this.deltaDifference+=t,this.props.touch.start=a,this.props.touch.end=v,void this._onDrag(n);this.previousDelta=t;this._applyRange(h,c);y=new Date(this.start);p=new Date(this.end);this.body.emitter.emit("rangechange",{start:y,end:p,byUser:!0,event:u.elementsCensor(n)});this.body.emitter.emit("panmove")}};r.prototype._onDragEnd=function(n){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:u.elementsCensor(n)}))};r.prototype._onMouseWheel=function(n){var t=0,u,i,f;if(n.wheelDelta?t=n.wheelDelta/120:n.detail&&(t=-n.detail/3),this.options.zoomKey&&!n[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable){if(this.options.horizontalScroll){n.preventDefault();var r=t*(this.end-this.start)/20,e=this.start-r,o=this.end-r;this.setRange(e,o,!1,!0,n)}}else this.options.zoomable&&this.options.moveable&&this._isInsideRange(n)&&t&&(u=t<0?1-t/5:1/(1+t/5),this.rolling?i=(this.start+this.end)/2:(f=this.getPointer({x:n.clientX,y:n.clientY},this.body.dom.center),i=this._pointerToDate(f)),this.zoom(u,i,t,n),n.preventDefault())};r.prototype._onTouch=function(){this.props.touch.start=this.start;this.props.touch.end=this.end;this.props.touch.allowDragging=!0;this.props.touch.center=null;this.scaleOffset=0;this.deltaDifference=0};r.prototype._onPinch=function(n){var e,o;if(this.options.zoomable&&this.options.moveable){this.props.touch.allowDragging=!1;this.props.touch.center||(this.props.touch.center=this.getPointer(n.center,this.body.dom.center));this.stopRolling();var t=1/(n.scale+this.scaleOffset),i=this._pointerToDate(this.props.touch.center),c=f.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),s=f.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,i),h=c-s,r=i-s+(this.props.touch.start-(i-s))*t,u=i+h+(this.props.touch.end-(i+h))*t;this.startToFront=1-t<=0;this.endToFront=t-1<=0;e=f.snapAwayFromHidden(this.body.hiddenDates,r,1-t,!0);o=f.snapAwayFromHidden(this.body.hiddenDates,u,t-1,!0);e==r&&o==u||(this.props.touch.start=e,this.props.touch.end=o,this.scaleOffset=1-n.scale,r=e,u=o);this.setRange(r,u,!1,!0,n);this.startToFront=!1;this.endToFront=!0}};r.prototype._isInsideRange=function(n){var i=n.center?n.center.x:n.clientX,r,t;return r=this.options.rtl?i-u.getAbsoluteLeft(this.body.dom.centerContainer):u.getAbsoluteRight(this.body.dom.centerContainer)-i,t=this.body.util.toTime(r),t>=this.start&&t<=this.end};r.prototype._pointerToDate=function(n){var t,i=this.options.direction,r;return(o(i),"horizontal"==i)?this.body.util.toTime(n.x).valueOf():(r=this.body.domProps.center.height,t=this.conversion(r),n.y/t.scale+t.offset)};r.prototype.getPointer=function(n,t){return this.options.rtl?{x:u.getAbsoluteRight(t)-n.x,y:n.y-u.getAbsoluteTop(t)}:{x:n.x-u.getAbsoluteLeft(t),y:n.y-u.getAbsoluteTop(t)}};r.prototype.zoom=function(n,t,i,r){var s,h;null==t&&(t=(this.start+this.end)/2);var l=f.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),o=f.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,t),c=l-o,u=t-o+(this.start-(t-o))*n,e=t+c+(this.end-(t+c))*n;this.startToFront=!(i>0);this.endToFront=!(-i>0);s=f.snapAwayFromHidden(this.body.hiddenDates,u,i,!0);h=f.snapAwayFromHidden(this.body.hiddenDates,e,-i,!0);s==u&&h==e||(u=s,e=h);this.setRange(u,e,!1,!0,r);this.startToFront=!1;this.endToFront=!0};r.prototype.move=function(n){var t=this.end-this.start,i=this.start+t*n,r=this.end+t*n;this.start=i;this.end=r};r.prototype.moveTo=function(n){var i=(this.start+this.end)/2,t=i-n,r=this.start-t,u=this.end-t;this.setRange(r,u,!1,!0,event)};n.exports=r},function(n,t,i){function r(){this.options=null;this.props=null}var u=i(1);r.prototype.setOptions=function(n){n&&u.extend(this.options,n)};r.prototype.redraw=function(){return!1};r.prototype.destroy=function(){};r.prototype._isResized=function(){var n=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,n};n.exports=r},function(n,t){t.convertHiddenOptions=function(n,i,r){var u,f;if(r&&!Array.isArray(r))return t.convertHiddenOptions(n,i,[r]);if(i.hiddenDates=[],r&&1==Array.isArray(r)){for(u=0;u<r.length;u++)void 0===r[u].repeat&&(f={},f.start=n(r[u].start).toDate().valueOf(),f.end=n(r[u].end).toDate().valueOf(),i.hiddenDates.push(f));i.hiddenDates.sort(function(n,t){return n.start-t.start})}};t.updateHiddenDates=function(n,i,r){var u,f,v,s,h,y,a;if(r&&!Array.isArray(r))return t.updateHiddenDates(n,i,[r]);if(r&&void 0!==i.domProps.centerContainer.width){t.convertHiddenOptions(n,i,r);for(var e=n(i.range.start),b=n(i.range.end),k=i.range.end-i.range.start,d=k/i.domProps.centerContainer.width,o=0;o<r.length;o++)if(void 0!==r[o].repeat){if(u=n(r[o].start),f=n(r[o].end),"Invalid Date"==u._d)throw new Error("Supplied start date is not valid: "+r[o].start);if("Invalid Date"==f._d)throw new Error("Supplied end date is not valid: "+r[o].end);if(v=f-u,v>=4*d){s=0;h=b.clone();switch(r[o].repeat){case"daily":u.day()!=f.day()&&(s=1);u.dayOfYear(e.dayOfYear());u.year(e.year());u.subtract(7,"days");f.dayOfYear(e.dayOfYear());f.year(e.year());f.subtract(7-s,"days");h.add(1,"weeks");break;case"weekly":y=f.diff(u,"days");a=u.day();u.date(e.date());u.month(e.month());u.year(e.year());f=u.clone();u.day(a);f.day(a);f.add(y,"days");u.subtract(1,"weeks");f.subtract(1,"weeks");h.add(1,"weeks");break;case"monthly":u.month()!=f.month()&&(s=1);u.month(e.month());u.year(e.year());u.subtract(1,"months");f.month(e.month());f.year(e.year());f.subtract(1,"months");f.add(s,"months");h.add(1,"months");break;case"yearly":u.year()!=f.year()&&(s=1);u.year(e.year());u.subtract(1,"years");f.year(e.year());f.subtract(1,"years");f.add(s,"years");h.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",r[o].repeat)}for(;u<h;)switch(i.hiddenDates.push({start:u.valueOf(),end:f.valueOf()}),r[o].repeat){case"daily":u.add(1,"days");f.add(1,"days");break;case"weekly":u.add(1,"weeks");f.add(1,"weeks");break;case"monthly":u.add(1,"months");f.add(1,"months");break;case"yearly":u.add(1,"y");f.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",r[o].repeat)}i.hiddenDates.push({start:u.valueOf(),end:f.valueOf()})}}t.removeDuplicates(i);var c=t.isHidden(i.range.start,i.hiddenDates),l=t.isHidden(i.range.end,i.hiddenDates),p=i.range.start,w=i.range.end;1==c.hidden&&(p=1==i.range.startToFront?c.startDate-1:c.endDate+1);1==l.hidden&&(w=1==i.range.endToFront?l.startDate-1:l.endDate+1);1!=c.hidden&&1!=l.hidden||i.range._applyRange(p,w)}};t.removeDuplicates=function(n){for(var r,t=n.hiddenDates,u=[],i=0;i<t.length;i++)for(r=0;r<t.length;r++)i!=r&&1!=t[r].remove&&1!=t[i].remove&&(t[r].start>=t[i].start&&t[r].end<=t[i].end?t[r].remove=!0:t[r].start>=t[i].start&&t[r].start<=t[i].end?(t[i].end=t[r].end,t[r].remove=!0):t[r].end>=t[i].start&&t[r].end<=t[i].end&&(t[i].start=t[r].start,t[r].remove=!0));for(i=0;i<t.length;i++)t[i].remove!==!0&&u.push(t[i]);n.hiddenDates=u;n.hiddenDates.sort(function(n,t){return n.start-t.start})};t.printDates=function(n){for(var t=0;t<n.length;t++)console.log(t,new Date(n[t].start),new Date(n[t].end),n[t].start,n[t].end,n[t].remove)};t.stepOverHiddenDates=function(n,t,i){for(var h,o,e,r,s=!1,u=t.current.valueOf(),f=0;f<t.hiddenDates.length;f++)if(h=t.hiddenDates[f].start,o=t.hiddenDates[f].end,u>=h&&u<o){s=!0;break}1==s&&u<t._end.valueOf()&&u!=i&&(e=n(i),r=n(o),e.year()!=r.year()?t.switchedYear=!0:e.month()!=r.month()?t.switchedMonth=!0:e.dayOfYear()!=r.dayOfYear()&&(t.switchedDay=!0),t.current=r)};t.toScreen=function(n,i,r){var e,f,o,s,u;return 0==n.body.hiddenDates.length?(u=n.range.conversion(r),(i.valueOf()-u.offset)*u.scale):(e=t.isHidden(i,n.body.hiddenDates),1==e.hidden&&(i=e.startDate),f=t.getHiddenDurationBetween(n.body.hiddenDates,n.range.start,n.range.end),i<n.range.start)?(u=n.range.conversion(r,f),o=t.getHiddenDurationBeforeStart(n.body.hiddenDates,i,u.offset),i=n.options.moment(i).toDate().valueOf(),i+=o,-(u.offset-i.valueOf())*u.scale):i>n.range.end?(s={start:n.range.start,end:i},i=t.correctTimeForHidden(n.options.moment,n.body.hiddenDates,s,i),u=n.range.conversion(r,f),(i.valueOf()-u.offset)*u.scale):(i=t.correctTimeForHidden(n.options.moment,n.body.hiddenDates,n.range,i),u=n.range.conversion(r,f),(i.valueOf()-u.offset)*u.scale)};t.toTime=function(n,i,r){var u;if(0==n.body.hiddenDates.length)return u=n.range.conversion(r),new Date(i/u.scale+u.offset);var e=t.getHiddenDurationBetween(n.body.hiddenDates,n.range.start,n.range.end),o=n.range.end-n.range.start-e,f=o*i/r,s=t.getAccumulatedHiddenDuration(n.body.hiddenDates,n.range,f);return new Date(s+f+n.range.start)};t.getHiddenDurationBetween=function(n,t,i){for(var f,e,u=0,r=0;r<n.length;r++)f=n[r].start,e=n[r].end,f>=t&&e<i&&(u+=e-f);return u};t.getHiddenDurationBeforeStart=function(n,t,i){for(var f,e,u=0,r=0;r<n.length;r++)f=n[r].start,e=n[r].end,f>=t&&e<=i&&(u+=e-f);return u};t.correctTimeForHidden=function(n,i,r,u){return u=n(u).toDate().valueOf(),u-t.getHiddenDurationBefore(n,i,r,u)};t.getHiddenDurationBefore=function(n,t,i,r){var o=0,u,e,f;for(r=n(r).toDate().valueOf(),u=0;u<t.length;u++)e=t[u].start,f=t[u].end,e>=i.start&&f<i.end&&r>=f&&(o+=f-e);return o};t.getAccumulatedHiddenDuration=function(n,t,i){for(var u,f,e=0,o=0,s=t.start,r=0;r<n.length;r++)if(u=n[r].start,f=n[r].end,u>=t.start&&f<t.end){if(o+=u-s,s=f,o>=i)break;e+=f-u}return e};t.snapAwayFromHidden=function(n,i,r,u){var f=t.isHidden(i,n);return 1==f.hidden?r<0?1==u?f.startDate-(f.endDate-i)-1:f.startDate-1:1==u?f.endDate+(i-f.startDate)+1:f.endDate+1:i};t.isHidden=function(n,t){for(var r,u,i=0;i<t.length;i++)if(r=t[i].start,u=t[i].end,n>=r&&n<u)return{hidden:!0,startDate:r,endDate:u};return{hidden:!1,startDate:r,endDate:u}}},function(n,t,i){function h(n){return n&&n.__esModule?n:{"default":n}}function r(){}var l=i(82),e=h(l),a=i(62),v=h(a),y=i(95),o=i(108),s=i(121),u=i(1),c=(i(91),i(93),i(123),i(127),i(138)),p=i(139),f=i(125),w=i(140);y(r.prototype);r.prototype._create=function(n){function r(n){var t,i,r;(this.isActive()&&this.emit("mousewheel",n),this.options.verticalScroll&&!this.options.horizontalScroll&&this.options.zoomKey&&!n[this.options.zoomKey])&&(n.preventDefault(),t=0,n.wheelDelta?t=n.wheelDelta/120:n.detail&&(t=-n.detail/3),i=this.props.scrollTop,r=i+120*t,this.isActive()&&(this._setScrollTop(r),this._redraw(),this.emit("scroll",n)))}function f(n){if(t.options.verticalScroll&&(n.preventDefault(),t.isActive())){var i=-n.target.scrollTop;t._setScrollTop(i);t._redraw();t.emit("scrollSide",n)}}function c(n){if(n.preventDefault&&n.preventDefault(),!(!n.target.className.indexOf("vis")>-1||i))return n.dataTransfer.dropEffect="move",i=!0,!1}function l(n){try{var r=JSON.parse(n.dataTransfer.getData("text"));if(!r.content)return}catch(n){return!1}return i=!1,n.center={x:n.clientX,y:n.clientY},t.itemSet._onAddItem(n),!1}var t,e,h,i;if(this.dom={},this.dom.container=n,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",function(){this.initialDrawDone===!0&&this._redraw()}.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this)),t=this,this._origRedraw=this._redraw.bind(this),this._redraw=u.throttle(this._origRedraw),this.on("_change",function(n){t.itemSet&&t.itemSet.initialItemSetDrawn&&n&&1==n.queue?t._redraw():t._origRedraw()}),this.hammer=new o(this.dom.root),e=this.hammer.get("pinch").set({enable:!0}),s.disablePreventDefaultVertically(e),this.hammer.get("pan").set({threshold:5,direction:o.DIRECTION_HORIZONTAL}),this.listeners={},h=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"],h.forEach(function(n){var i=function(i){t.isActive()&&t.emit(n,i)};t.hammer.on(n,i);t.listeners[n]=i}),s.onTouch(this.hammer,function(n){t.emit("touch",n)}.bind(this)),s.onRelease(this.hammer,function(n){t.emit("release",n)}.bind(this)),this.dom.centerContainer.addEventListener?(this.dom.centerContainer.addEventListener("mousewheel",r.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",r.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",r.bind(this)),this.dom.left.parentNode.addEventListener("scroll",f.bind(this)),this.dom.right.parentNode.addEventListener("scroll",f.bind(this)),i=!1,this.dom.center.addEventListener("dragover",c.bind(this),!1),this.dom.center.addEventListener("drop",l.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,!n)throw new Error("No container provided");n.appendChild(this.dom.root)};r.prototype.setOptions=function(n){var e,t,i,r;if(n){if(e=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"],(u.selectiveExtend(e,this.options,n),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),this.options.orientation={item:void 0,axis:void 0},"orientation"in n&&("string"==typeof n.orientation?this.options.orientation={item:n.orientation,axis:n.orientation}:"object"===v.default(n.orientation)&&("item"in n.orientation&&(this.options.orientation.item=n.orientation.item),"axis"in n.orientation&&(this.options.orientation.axis=n.orientation.axis))),"both"===this.options.orientation.axis)?this.timeAxis2||(t=this.timeAxis2=new c(this.body),t.setOptions=function(n){var i=n?u.extend({},n):{};i.orientation="top";c.prototype.setOptions.call(t,i)},this.components.push(t)):this.timeAxis2&&(i=this.components.indexOf(this.timeAxis2),i!==-1&&this.components.splice(i,1),this.timeAxis2.destroy(),this.timeAxis2=null),"function"==typeof n.drawPoints&&(n.drawPoints={onRender:n.drawPoints}),"hiddenDates"in this.options&&f.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in n&&(n.clickToUse?this.activator||(this.activator=new p(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in n)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}(this.components.forEach(function(t){return t.setOptions(n)}),"configure"in n)&&(this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(n.configure),r=u.deepExtend({},this.options),this.components.forEach(function(n){u.deepExtend(r,n.options)}),this.configurator.setModuleOptions({global:r}));this._redraw()};r.prototype.isActive=function(){return!this.activator||this.activator.active};r.prototype.destroy=function(){this.setItems(null);this.setGroups(null);this.off();this._stopAutoResize();this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root);this.dom=null;this.activator&&(this.activator.destroy(),delete this.activator);for(var n in this.listeners)this.listeners.hasOwnProperty(n)&&delete this.listeners[n];this.listeners=null;this.hammer=null;this.components.forEach(function(n){return n.destroy()});this.body=null};r.prototype.setCustomTime=function(n,t){var i=this.customTimes.filter(function(n){return t===n.options.id});if(0===i.length)throw new Error("No custom time bar found with id "+e.default(t));i.length>0&&i[0].setCustomTime(n)};r.prototype.getCustomTime=function(n){var t=this.customTimes.filter(function(t){return t.options.id===n});if(0===t.length)throw new Error("No custom time bar found with id "+e.default(n));return t[0].getCustomTime()};r.prototype.setCustomTimeTitle=function(n,t){var i=this.customTimes.filter(function(n){return n.options.id===t});if(0===i.length)throw new Error("No custom time bar found with id "+e.default(t));if(i.length>0)return i[0].setCustomTitle(n)};r.prototype.getEventProperties=function(n){return{event:n}};r.prototype.addCustomTime=function(n,t){var r=void 0!==n?u.convert(n,"Date").valueOf():new Date,f=this.customTimes.some(function(n){return n.options.id===t}),i;if(f)throw new Error("A custom time with id "+e.default(t)+" already exists");return i=new w(this.body,u.extend({},this.options,{time:r,id:t})),this.customTimes.push(i),this.components.push(i),this._redraw(),t};r.prototype.removeCustomTime=function(n){var t=this.customTimes.filter(function(t){return t.options.id===n});if(0===t.length)throw new Error("No custom time bar found with id "+e.default(n));t.forEach(function(n){this.customTimes.splice(this.customTimes.indexOf(n),1);this.components.splice(this.components.indexOf(n),1);n.destroy()}.bind(this))};r.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]};r.prototype.fit=function(n){var t=this.getDataRange();if(null!==t.min||null!==t.max){var i=t.max-t.min,r=new Date(t.min.valueOf()-.01*i),u=new Date(t.max.valueOf()+.01*i),f=!n||void 0===n.animation||n.animation;this.range.setRange(r,u,f)}};r.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange");};r.prototype.setWindow=function(n,t,i){var u,r;1==arguments.length?(r=arguments[0],u=void 0===r.animation||r.animation,this.range.setRange(r.start,r.end,u)):(u=!i||void 0===i.animation||i.animation,this.range.setRange(n,t,u))};r.prototype.moveTo=function(n,t){var i=this.range.end-this.range.start,r=u.convert(n,"Date").valueOf(),f=r-i/2,e=r+i/2,o=!t||void 0===t.animation||t.animation;this.range.setRange(f,e,o)};r.prototype.getWindow=function(){var n=this.range.getRange();return{start:new Date(n.start),end:new Date(n.end)}};r.prototype.zoomIn=function(n){if(!(!n||n<0||n>1)){var t=this.getWindow(),i=t.start.valueOf(),r=t.end.valueOf(),u=r-i,e=u/(1+n),f=(u-e)/2,o=i+f,s=r-f;this.setWindow({start:o,end:s})}};r.prototype.zoomOut=function(n){if(!(!n||n<0||n>1)){var t=this.getWindow(),i=t.start.valueOf(),r=t.end.valueOf(),u=r-i,f=i-u*n/2,e=r+u*n/2;this.setWindow({start:f,end:e})}};r.prototype.redraw=function(){this._redraw()};r.prototype._redraw=function(){var l,a,c,r,e,s,v,y;this.redrawCount++;var h=!1,i=this.options,n=this.props,t=this.dom;if(t&&t.container&&0!=t.root.offsetWidth){if(f.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==i.orientation?(u.addClassName(t.root,"vis-top"),u.removeClassName(t.root,"vis-bottom")):(u.removeClassName(t.root,"vis-top"),u.addClassName(t.root,"vis-bottom")),t.root.style.maxHeight=u.option.asSize(i.maxHeight,""),t.root.style.minHeight=u.option.asSize(i.minHeight,""),t.root.style.width=u.option.asSize(i.width,""),n.border.left=(t.centerContainer.offsetWidth-t.centerContainer.clientWidth)/2,n.border.right=n.border.left,n.border.top=(t.centerContainer.offsetHeight-t.centerContainer.clientHeight)/2,n.border.bottom=n.border.top,n.borderRootHeight=t.root.offsetHeight-t.root.clientHeight,n.borderRootWidth=t.root.offsetWidth-t.root.clientWidth,0===t.centerContainer.clientHeight&&(n.border.left=n.border.top,n.border.right=n.border.left),0===t.root.clientHeight&&(n.borderRootWidth=n.borderRootHeight),n.center.height=t.center.offsetHeight,n.left.height=t.left.offsetHeight,n.right.height=t.right.offsetHeight,n.top.height=t.top.clientHeight||-n.border.top,n.bottom.height=t.bottom.clientHeight||-n.border.bottom,l=Math.max(n.left.height,n.center.height,n.right.height),a=n.top.height+l+n.bottom.height+n.borderRootHeight+n.border.top+n.border.bottom,t.root.style.height=u.option.asSize(i.height,a+"px"),n.root.height=t.root.offsetHeight,n.background.height=n.root.height-n.borderRootHeight,c=n.root.height-n.top.height-n.bottom.height-n.borderRootHeight,n.centerContainer.height=c,n.leftContainer.height=c,n.rightContainer.height=n.leftContainer.height,n.root.width=t.root.offsetWidth,n.background.width=n.root.width-n.borderRootWidth,this.initialDrawDone||(n.scrollbarWidth=u.getScrollBarWidth()),i.verticalScroll?i.rtl?(n.left.width=t.leftContainer.clientWidth||-n.border.left,n.right.width=t.rightContainer.clientWidth+n.scrollbarWidth||-n.border.right):(n.left.width=t.leftContainer.clientWidth+n.scrollbarWidth||-n.border.left,n.right.width=t.rightContainer.clientWidth||-n.border.right):(n.left.width=t.leftContainer.clientWidth||-n.border.left,n.right.width=t.rightContainer.clientWidth||-n.border.right),this._setDOM(),r=this._updateScrollTop(),"top"!=i.orientation.item&&(r+=Math.max(n.centerContainer.height-n.center.height-n.border.top-n.border.bottom,0)),t.center.style.top=r+"px",e=0==n.scrollTop?"hidden":"",s=n.scrollTop==n.scrollTopMin?"hidden":"",t.shadowTop.style.visibility=e,t.shadowBottom.style.visibility=s,t.shadowTopLeft.style.visibility=e,t.shadowBottomLeft.style.visibility=s,t.shadowTopRight.style.visibility=e,t.shadowBottomRight.style.visibility=s,i.verticalScroll&&(t.rightContainer.className="vis-panel vis-right vis-vertical-scroll",t.leftContainer.className="vis-panel vis-left vis-vertical-scroll",t.shadowTopRight.style.visibility="hidden",t.shadowBottomRight.style.visibility="hidden",t.shadowTopLeft.style.visibility="hidden",t.shadowBottomLeft.style.visibility="hidden",t.left.style.top="0px",t.right.style.top="0px"),(!i.verticalScroll||n.center.height<n.centerContainer.height)&&(t.left.style.top=r+"px",t.right.style.top=r+"px",t.rightContainer.className=t.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),t.leftContainer.className=t.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),n.left.width=t.leftContainer.clientWidth||-n.border.left,n.right.width=t.rightContainer.clientWidth||-n.border.right,this._setDOM()),v=n.center.height>n.centerContainer.height,this.hammer.get("pan").set({direction:v?o.DIRECTION_ALL:o.DIRECTION_HORIZONTAL}),this.components.forEach(function(n){h=n.redraw()||h}),y=5,h){if(this.redrawCount<y)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.initialDrawDone=!0;this.body.emitter.emit("changed")}};r.prototype._setDOM=function(){var n=this.props,t=this.dom,i;n.leftContainer.width=n.left.width;n.rightContainer.width=n.right.width;i=n.root.width-n.left.width-n.right.width-n.borderRootWidth;n.center.width=i;n.centerContainer.width=i;n.top.width=i;n.bottom.width=i;t.background.style.height=n.background.height+"px";t.backgroundVertical.style.height=n.background.height+"px";t.backgroundHorizontal.style.height=n.centerContainer.height+"px";t.centerContainer.style.height=n.centerContainer.height+"px";t.leftContainer.style.height=n.leftContainer.height+"px";t.rightContainer.style.height=n.rightContainer.height+"px";t.background.style.width=n.background.width+"px";t.backgroundVertical.style.width=n.centerContainer.width+"px";t.backgroundHorizontal.style.width=n.background.width+"px";t.centerContainer.style.width=n.center.width+"px";t.top.style.width=n.top.width+"px";t.bottom.style.width=n.bottom.width+"px";t.background.style.left="0";t.background.style.top="0";t.backgroundVertical.style.left=n.left.width+n.border.left+"px";t.backgroundVertical.style.top="0";t.backgroundHorizontal.style.left="0";t.backgroundHorizontal.style.top=n.top.height+"px";t.centerContainer.style.left=n.left.width+"px";t.centerContainer.style.top=n.top.height+"px";t.leftContainer.style.left="0";t.leftContainer.style.top=n.top.height+"px";t.rightContainer.style.left=n.left.width+n.center.width+"px";t.rightContainer.style.top=n.top.height+"px";t.top.style.left=n.left.width+"px";t.top.style.top="0";t.bottom.style.left=n.left.width+"px";t.bottom.style.top=n.top.height+n.centerContainer.height+"px";t.center.style.left="0";t.left.style.left="0";t.right.style.left="0"};r.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.");};r.prototype.setCurrentTime=function(n){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(n)};r.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()};r.prototype._toTime=function(n){return f.toTime(this,n,this.props.center.width)};r.prototype._toGlobalTime=function(n){return f.toTime(this,n,this.props.root.width)};r.prototype._toScreen=function(n){return f.toScreen(this,n,this.props.center.width)};r.prototype._toGlobalScreen=function(n){return f.toScreen(this,n,this.props.root.width)};r.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()};r.prototype._startAutoResize=function(){var n=this;this._stopAutoResize();this._onResize=function(){return 1!=n.options.autoResize?void n._stopAutoResize():void(n.dom.root&&(n.dom.root.offsetWidth==n.props.lastWidth&&n.dom.root.offsetHeight==n.props.lastHeight||(n.props.lastWidth=n.dom.root.offsetWidth,n.props.lastHeight=n.dom.root.offsetHeight,n.props.scrollbarWidth=u.getScrollBarWidth(),n.body.emitter.emit("_change"))))};u.addEventListener(window,"resize",this._onResize);n.dom.root&&(n.props.lastWidth=n.dom.root.offsetWidth,n.props.lastHeight=n.dom.root.offsetHeight);this.watchTimer=setInterval(this._onResize,1e3)};r.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0);this._onResize&&(u.removeEventListener(window,"resize",this._onResize),this._onResize=null)};r.prototype._onTouch=function(){this.touch.allowDragging=!0;this.touch.initialScrollTop=this.props.scrollTop};r.prototype._onPinch=function(){this.touch.allowDragging=!1};r.prototype._onDrag=function(n){if(n&&this.touch.allowDragging){var t=n.deltaY,i=this._getScrollTop(),r=this._setScrollTop(this.touch.initialScrollTop+t);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop);r!=i&&this.emit("verticalDrag")}};r.prototype._setScrollTop=function(n){return this.props.scrollTop=n,this._updateScrollTop(),this.props.scrollTop};r.prototype._updateScrollTop=function(){var n=Math.min(this.props.centerContainer.height-this.props.center.height,0);return n!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=n-this.props.scrollTopMin),this.props.scrollTopMin=n),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<n&&(this.props.scrollTop=n),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop};r.prototype._getScrollTop=function(){return this.props.scrollTop};r.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator");};n.exports=r},function(n,t,i){function c(n){return n&&n.__esModule?n:{"default":n}}function r(n,t){this.body=n;this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(n,t){var i=t.order;t.order=n.order;n.order=i},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:!1,editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:g.snap,onAdd:function(n,t){t(n)},onUpdate:function(n,t){t(n)},onMove:function(n,t){t(n)},onRemove:function(n,t){t(n)},onMoving:function(n,t){t(n)},onAddGroup:function(n,t){t(n)},onMoveGroup:function(n,t){t(n)},onRemoveGroup:function(n,t){t(n)},margin:{item:{horizontal:10,vertical:10},axis:20},tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1};this.options=u.extend({},this.defaultOptions);this.options.rtl=t.rtl;this.itemOptions={type:{start:"Date",end:"Date"}};this.conversion={toScreen:n.util.toScreen,toTime:n.util.toTime};this.dom={};this.props={};this.hammer=null;var i=this;this.itemsData=null;this.groupsData=null;this.itemListeners={add:function(n,t){i._onAdd(t.items)},update:function(n,t){i._onUpdate(t.items)},remove:function(n,t){i._onRemove(t.items)}};this.groupListeners={add:function(n,t){i._onAddGroups(t.items)},update:function(n,t){i._onUpdateGroups(t.items)},remove:function(n,t){i._onRemoveGroups(t.items)}};this.items={};this.groups={};this.groupIds=[];this.selection=[];this.stackDirty=!0;this.touchParams={};this.groupTouchParams={};this._create();this.setOptions(t)}var p=i(55),w=c(p),b=i(62),o=c(b),k=i(128),d=c(k),s=i(108),u=i(1),a=i(91),h=i(93),g=i(129),nt=i(124),v=i(130),tt=i(134),it=i(135),rt=i(136),l=i(132),y=i(137),f="__ungrouped__",e="__background__";r.prototype=new nt;r.types={background:y,box:it,range:l,point:rt};r.prototype._create=function(){var n=document.createElement("div"),t,i,r,u,f;n.className="vis-itemset";n["timeline-itemset"]=this;this.dom.frame=n;t=document.createElement("div");t.className="vis-background";n.appendChild(t);this.dom.background=t;i=document.createElement("div");i.className="vis-foreground";n.appendChild(i);this.dom.foreground=i;r=document.createElement("div");r.className="vis-axis";this.dom.axis=r;u=document.createElement("div");u.className="vis-labelset";this.dom.labelSet=u;this._updateUngrouped();f=new tt(e,null,this);f.show();this.groups[e]=f;this.hammer=new s(this.body.dom.centerContainer);this.hammer.on("hammer.input",function(n){n.isFirst&&this._onTouch(n)}.bind(this));this.hammer.on("panstart",this._onDragStart.bind(this));this.hammer.on("panmove",this._onDrag.bind(this));this.hammer.on("panend",this._onDragEnd.bind(this));this.hammer.get("pan").set({threshold:5,direction:s.DIRECTION_HORIZONTAL});this.hammer.on("tap",this._onSelectItem.bind(this));this.hammer.on("press",this._onMultiSelectItem.bind(this));this.hammer.on("doubletap",this._onAddItem.bind(this));this.groupHammer=this.options.rtl?new s(this.body.dom.rightContainer):new s(this.body.dom.leftContainer);this.groupHammer.on("tap",this._onGroupClick.bind(this));this.groupHammer.on("panstart",this._onGroupDragStart.bind(this));this.groupHammer.on("panmove",this._onGroupDrag.bind(this));this.groupHammer.on("panend",this._onGroupDragEnd.bind(this));this.groupHammer.get("pan").set({threshold:5,direction:s.DIRECTION_VERTICAL});this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this));this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this));this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this));this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this));this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this));this.show()};r.prototype.setOptions=function(n){var t,i;n&&(t=["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","itemsAlwaysDraggable","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","tooltip","tooltipOnItemUpdateTime"],u.selectiveExtend(t,this.options,n),"orientation"in n&&("string"==typeof n.orientation?this.options.orientation.item="top"===n.orientation?"top":"bottom":"object"===o.default(n.orientation)&&"item"in n.orientation&&(this.options.orientation.item=n.orientation.item)),"margin"in n&&("number"==typeof n.margin?(this.options.margin.axis=n.margin,this.options.margin.item.horizontal=n.margin,this.options.margin.item.vertical=n.margin):"object"===o.default(n.margin)&&(u.selectiveExtend(["axis"],this.options.margin,n.margin),"item"in n.margin&&("number"==typeof n.margin.item?(this.options.margin.item.horizontal=n.margin.item,this.options.margin.item.vertical=n.margin.item):"object"===o.default(n.margin.item)&&u.selectiveExtend(["horizontal","vertical"],this.options.margin.item,n.margin.item)))),"editable"in n&&("boolean"==typeof n.editable?(this.options.editable.updateTime=n.editable,this.options.editable.updateGroup=n.editable,this.options.editable.add=n.editable,this.options.editable.remove=n.editable,this.options.editable.overrideItems=!1):"object"===o.default(n.editable)&&u.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,n.editable)),"groupEditable"in n&&("boolean"==typeof n.groupEditable?(this.options.groupEditable.order=n.groupEditable,this.options.groupEditable.add=n.groupEditable,this.options.groupEditable.remove=n.groupEditable):"object"===o.default(n.groupEditable)&&u.selectiveExtend(["order","add","remove"],this.options.groupEditable,n.groupEditable)),i=function(t){var i=n[t];if(i){if(!(i instanceof Function))throw new Error("option "+t+" must be a function "+t+"(item, callback)");this.options[t]=i}}.bind(this),["onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(i),this.markDirty())};r.prototype.markDirty=function(n){this.groupIds=[];this.stackDirty=!0;n&&n.refreshItems&&u.forEach(this.items,function(n){n.dirty=!0;n.displayed&&n.redraw()})};r.prototype.destroy=function(){this.hide();this.setItems(null);this.setGroups(null);this.hammer=null;this.body=null;this.conversion=null};r.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame);this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis);this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)};r.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame);this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis);this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))};r.prototype.setSelection=function(n){var t,u,r,i;for(void 0==n&&(n=[]),Array.isArray(n)||(n=[n]),t=0,u=this.selection.length;t<u;t++)r=this.selection[t],i=this.items[r],i&&i.unselect();for(this.selection=[],t=0,u=n.length;t<u;t++)r=n[t],i=this.items[r],i&&(this.selection.push(r),i.select())};r.prototype.getSelection=function(){return this.selection.concat([])};r.prototype.getVisibleItems=function(){var t=this.body.range.getRange(),r,i,u,f,n;this.options.rtl?(i=this.body.util.toScreen(t.start),r=this.body.util.toScreen(t.end)):(r=this.body.util.toScreen(t.start),i=this.body.util.toScreen(t.end));u=[];for(f in this.groups)if(this.groups.hasOwnProperty(f))for(var s=this.groups[f],o=s.visibleItems,e=0;e<o.length;e++)n=o[e],this.options.rtl?n.right<r&&n.right+n.width>i&&u.push(n.id):n.left<i&&n.left+n.width>r&&u.push(n.id);return u};r.prototype._deselect=function(n){for(var i=this.selection,t=0,r=i.length;t<r;t++)if(i[t]==n){i.splice(t,1);break}};r.prototype.redraw=function(){var n=this.options.margin,r=this.body.range,s=u.option.asSize,a=this.options,v=a.orientation.item,t=!1,f=this.dom.frame,o,h;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top;this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left;f.className="vis-itemset";t=this._orderGroups()||t;o=r.end-r.start;h=o!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth;h&&(this.stackDirty=!0);this.lastVisibleInterval=o;this.props.lastWidth=this.props.width;var c=this.stackDirty,y=this._firstGroup(),p={item:n.item,axis:n.axis},l={item:n.item,axis:n.item.vertical/2},i=0,w=n.axis+n.item.vertical;return this.groups[e].redraw(r,l,c),u.forEach(this.groups,function(n){var u=n==y?p:l,f=n.redraw(r,u,c);t=f||t;i+=n.height}),i=Math.max(i,w),this.stackDirty=!1,f.style.height=s(i),this.props.width=f.offsetWidth,this.props.height=i,this.dom.axis.style.top=s("top"==v?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.initialItemSetDrawn=!0,t=this._isResized()||t};r.prototype._firstGroup=function(){var n="top"==this.options.orientation.item?0:this.groupIds.length-1,t=this.groupIds[n],i=this.groups[t]||this.groups[f];return i||null};r.prototype._updateUngrouped=function(){var n,i,t=this.groups[f],u,r,o,s;if(this.groups[e],this.groupsData){if(t){t.hide();delete this.groups[f];for(i in this.items)this.items.hasOwnProperty(i)&&(n=this.items[i],n.parent&&n.parent.remove(n),u=this._getGroupId(n.data),r=this.groups[u],r&&r.add(n)||n.hide())}}else if(!t){o=null;s=null;t=new v(o,s,this);this.groups[f]=t;for(i in this.items)this.items.hasOwnProperty(i)&&(n=this.items[i],t.add(n));t.show()}};r.prototype.getLabelSet=function(){return this.dom.labelSet};r.prototype.setItems=function(n){var t,f=this,i=this.itemsData,r;if(n){if(!(n instanceof a||n instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=n}else this.itemsData=null;(i&&(u.forEach(this.itemListeners,function(n,t){i.off(t,n)}),t=i.getIds(),this._onRemove(t)),this.itemsData)&&(r=this.id,u.forEach(this.itemListeners,function(n,t){f.itemsData.on(t,n,r)}),t=this.itemsData.getIds(),this._onAdd(t),this._updateUngrouped());this.body.emitter.emit("_change",{queue:!0})};r.prototype.getItems=function(){return this.itemsData};r.prototype.setGroups=function(n){var i,r=this,t,f;if(this.groupsData&&(u.forEach(this.groupListeners,function(n,t){r.groupsData.off(t,n)}),i=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(i)),n){if(!(n instanceof a||n instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=n}else this.groupsData=null;this.groupsData&&(t=this.groupsData,this.groupsData instanceof h&&(t=this.groupsData.getDataSet()),t.get().forEach(function(n){n.nestedGroups&&n.nestedGroups.forEach(function(i){var r=t.get(i);r.nestedInGroup=n.id;0==n.showNested&&(r.visible=!1);t.update(r)})}),f=this.id,u.forEach(this.groupListeners,function(n,t){r.groupsData.on(t,n,f)}),i=this.groupsData.getIds(),this._onAddGroups(i));this._updateUngrouped();this._order();this.body.emitter.emit("_change",{queue:!0})};r.prototype.getGroups=function(){return this.groupsData};r.prototype.removeItem=function(n){var i=this.itemsData.get(n),r=this.itemsData.getDataSet(),t=this.items[n];i&&this.options.onRemove(i,function(i){i&&(r.remove(n),t.popup&&(t.popup.destroy(),t.popup=null))})};r.prototype._getType=function(n){return n.type||this.options.type||(n.end?"range":"box")};r.prototype._getGroupId=function(n){var t=this._getType(n);return"background"==t&&void 0==n.group?e:this.groupsData?n.group:f};r.prototype._onUpdate=function(n){var t=this;n.forEach(function(n){var o,u=t.itemsData.get(n,t.itemOptions),i=t.items[n],e=u?t._getType(u):null,f=r.types[e];if(i&&(f&&i instanceof f?t._updateItem(i,u):(o=i.selected,t._removeItem(i),i=null)),!i&&u){if(!f)throw"rangeoverflow"==e?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+e+'"');i=new f(u,t.conversion,t.options);i.id=n;t._addItem(i);o&&(this.selection.push(n),i.select())}}.bind(this));this._order();this.stackDirty=!0;this.body.emitter.emit("_change",{queue:!0})};r.prototype._onAdd=r.prototype._onUpdate;r.prototype._onRemove=function(n){var t=0,i=this;n.forEach(function(n){var r=i.items[n];r&&(t++,i._removeItem(r))});t&&(this._order(),this.stackDirty=!0,this.body.emitter.emit("_change",{queue:!0}))};r.prototype._order=function(){u.forEach(this.groups,function(n){n.order()})};r.prototype._onUpdateGroups=function(n){this._onAddGroups(n)};r.prototype._onAddGroups=function(n){var t=this;n.forEach(function(n){var s=t.groupsData.get(n),i=t.groups[n],h,r,o;if(i)i.setData(s);else{if(n==f||n==e)throw new Error("Illegal group id. "+n+" is a reserved id.");h=w.default(t.options);u.extend(h,{height:null});i=new v(n,s,t);t.groups[n]=i;for(r in t.items)t.items.hasOwnProperty(r)&&(o=t.items[r],o.data.group==n&&i.add(o));i.order();i.show()}});this.body.emitter.emit("_change",{queue:!0})};r.prototype._onRemoveGroups=function(n){var t=this.groups;n.forEach(function(n){var i=t[n];i&&(i.hide(),delete t[n])});this.markDirty();this.body.emitter.emit("_change",{queue:!0})};r.prototype._orderGroups=function(){var n,t,i;return this.groupsData?(n=this.groupsData.getIds({order:this.options.groupOrder}),n=this._orderNestedGroups(n),t=!u.equalArray(n,this.groupIds),t&&(i=this.groups,n.forEach(function(n){i[n].hide()}),n.forEach(function(n){i[n].show()}),this.groupIds=n),t):!1};r.prototype._orderNestedGroups=function(n){var t=[];return n.forEach(function(n){var i=this.groupsData.get(n),r,u;(i.nestedInGroup||t.push(n),i.nestedGroups)&&(r=this.groupsData.get({filter:function(t){return t.nestedInGroup==n}}),u=r.map(function(n){return n.id}),t=t.concat(u))},this),t};r.prototype._addItem=function(n){this.items[n.id]=n;var i=this._getGroupId(n.data),t=this.groups[i];t?t&&t.data&&t.data.showNested&&(n.groupShowing=!0):n.groupShowing=!1;t&&t.add(n)};r.prototype._updateItem=function(n,t){var u=n.data.group,e=n.data.subgroup,f,i,r;n.setData(t);f=this._getGroupId(n.data);i=this.groups[f];(i?i&&i.data&&i.data.showNested&&(n.groupShowing=!0):n.groupShowing=!1,u!=n.data.group||e!=n.data.subgroup)&&(r=this.groups[u],r&&r.remove(n),i&&i.add(n))};r.prototype._removeItem=function(n){n.hide();delete this.items[n.id];var t=this.selection.indexOf(n.id);t!=-1&&this.selection.splice(t,1);n.parent&&n.parent.remove(n)};r.prototype._constructByEndArray=function(n){for(var i=[],t=0;t<n.length;t++)n[t]instanceof l&&i.push(n[t]);return i};r.prototype._onTouch=function(n){this.touchParams.item=this.itemFromTarget(n);this.touchParams.dragLeftItem=n.target.dragLeftItem||!1;this.touchParams.dragRightItem=n.target.dragRightItem||!1;this.touchParams.itemProps=null};r.prototype._getGroupIndex=function(n){for(var t=0;t<this.groupIds.length;t++)if(n==this.groupIds[t])return t};r.prototype._onDragStart=function(n){var i,t,r,u,f,e,o;if(!this.touchParams.itemIsDragging)if(t=this.touchParams.item||null,r=this,t&&(t.selected||this.options.itemsAlwaysDraggable)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;if(null!=t.editable&&!t.editable.updateTime&&!t.editable.updateGroup&&!this.options.editable.overrideItems)return;u=this.touchParams.dragLeftItem;f=this.touchParams.dragRightItem;(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=t,u)?(i={item:u,initialX:n.center.x,dragLeft:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[i]):f?(i={item:f,initialX:n.center.x,dragRight:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[i]):(e=this._getGroupIndex(t.data.group),o=this.options.itemsAlwaysDraggable&&!t.selected?[t.id]:this.getSelection(),this.touchParams.itemProps=o.map(function(t){var i=r.items[t],u=r._getGroupIndex(i.data.group);return{item:i,initialX:n.center.x,groupOffset:e-u,data:this._cloneItemData(i.data)}}.bind(this)));n.stopPropagation()}else this.options.editable.add&&(n.srcEvent.ctrlKey||n.srcEvent.metaKey)&&this._onDragStartAddItem(n)};r.prototype._onDragStartAddItem=function(n){var s=this.options.snap||null,i,e,o,t,f;this.options.rtl?(i=u.getAbsoluteRight(this.dom.frame),e=i-n.center.x+10):(i=u.getAbsoluteLeft(this.dom.frame),e=n.center.x-i-10);var h=this.body.util.toTime(e),v=this.body.util.getScale(),y=this.body.util.getStep(),c=s?s(h,v,y):h,p=c,r={type:"range",start:c,end:p,content:"new item"},a=u.randomUUID();r[this.itemsData._fieldId]=a;o=this.groupFromTarget(n);o&&(r.group=o.groupId);t=new l(r,this.conversion,this.options);t.id=a;t.data=this._cloneItemData(r);this._addItem(t);this.touchParams.selectedItem=t;f={item:t,initialX:n.center.x,data:t.data};this.options.rtl?f.dragLeft=!0:f.dragRight=!0;this.touchParams.itemProps=[f];n.stopPropagation()};r.prototype._onDrag=function(n){var i,t,o,h;if(this.touchParams.itemProps){n.stopPropagation();i=this;t=this.options.snap||null;o=this.options.rtl?this.body.dom.root.offsetLeft+this.body.domProps.right.width:this.body.dom.root.offsetLeft+this.body.domProps.left.width;var f=this.body.util.getScale(),e=this.body.util.getStep(),r=this.touchParams.selectedItem,c=(this.options.editable.overrideItems||null==r.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=r.editable&&r.editable.updateGroup,s=null;c&&r&&void 0!=r.data.group&&(h=i.groupFromTarget(n),h&&(s=this._getGroupIndex(h.groupId)));this.touchParams.itemProps.forEach(function(h){var k=i.body.util.toTime(n.center.x-o),d=i.body.util.toTime(h.initialX-o),y,l,g,w,v,a,p,nt,b;y=this.options.rtl?-(k-d):k-d;l=this._cloneItemData(h.item.data);(null==h.item.editable||h.item.editable.updateTime||h.item.editable.updateGroup||i.options.editable.overrideItems)&&(g=(this.options.editable.overrideItems||null==r.editable)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&null!=r.editable&&r.editable.updateTime,g&&(h.dragLeft?this.options.rtl?void 0!=l.end&&(p=u.convert(h.data.end,"Date"),w=new Date(p.valueOf()+y),l.end=t?t(w,f,e):w):void 0!=l.start&&(v=u.convert(h.data.start,"Date"),a=new Date(v.valueOf()+y),l.start=t?t(a,f,e):a):h.dragRight?this.options.rtl?void 0!=l.start&&(v=u.convert(h.data.start,"Date"),a=new Date(v.valueOf()+y),l.start=t?t(a,f,e):a):void 0!=l.end&&(p=u.convert(h.data.end,"Date"),w=new Date(p.valueOf()+y),l.end=t?t(w,f,e):w):void 0!=l.start&&(v=u.convert(h.data.start,"Date").valueOf(),a=new Date(v+y),void 0!=l.end?(p=u.convert(h.data.end,"Date"),nt=p.valueOf()-v.valueOf(),l.start=t?t(a,f,e):a,l.end=new Date(l.start.valueOf()+nt)):l.start=t?t(a,f,e):a)),!c||h.dragLeft||h.dragRight||null==s||void 0==l.group||(b=s-h.groupOffset,b=Math.max(0,b),b=Math.min(i.groupIds.length-1,b),l.group=i.groupIds[b]),l=this._cloneItemData(l),i.options.onMoving(l,function(n){n&&h.item.setData(this._cloneItemData(n,"Date"))}.bind(this)))}.bind(this));this.stackDirty=!0;this.body.emitter.emit("_change")}};r.prototype._moveToGroup=function(n,t){var i=this.groups[t],r;i&&i.groupId!=n.data.group&&(r=n.parent,r.remove(n),r.order(),i.add(n),i.order(),n.data.group=i.groupId)};r.prototype._onDragEnd=function(n){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){n.stopPropagation();var t=this,i=this.itemsData.getDataSet(),r=this.touchParams.itemProps;this.touchParams.itemProps=null;r.forEach(function(n){var r=n.item.id,f=null!=t.itemsData.get(r,t.itemOptions),u;if(f){u=this._cloneItemData(n.item.data);t.options.onMove(u,function(u){u?(u[i._fieldId]=r,i.update(u)):(n.item.setData(n.data),t.stackDirty=!0,t.body.emitter.emit("_change"))})}else t.options.onAdd(n.item.data,function(i){t._removeItem(n.item);i&&t.itemsData.getDataSet().add(i);t.stackDirty=!0;t.body.emitter.emit("_change")})}.bind(this))}};r.prototype._onGroupClick=function(n){var t=this.groupFromTarget(n),i,r,f;t.nestedGroups&&(i=this.groupsData,this.groupsData instanceof h&&(i=this.groupsData.getDataSet()),t.showNested=!t.showNested,r=i.get(t.nestedGroups).map(function(n){return void 0==n.visible&&(n.visible=!0),n.visible=!!t.showNested,n}),(i.update(r),t.showNested)?(u.removeClassName(t.dom.label,"collapsed"),u.addClassName(t.dom.label,"expanded")):(u.removeClassName(t.dom.label,"expanded"),f=this.options.rtl?"collapsed-rtl":"collapsed",u.addClassName(t.dom.label,f)))};r.prototype._onGroupDragStart=function(n){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(n),this.groupTouchParams.group&&(n.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))};r.prototype._onGroupDrag=function(n){var i,f,w,c,l,r,g;if(this.options.groupEditable.order&&this.groupTouchParams.group){if(n.stopPropagation(),i=this.groupsData,this.groupsData instanceof h&&(i=this.groupsData.getDataSet()),f=this.groupFromTarget(n),f&&f.height!=this.groupTouchParams.group.height){var nt=f.top<this.groupTouchParams.group.top,v=n.center?n.center.y:n.clientY,y=u.getAbsoluteTop(f.dom.foreground),p=this.groupTouchParams.group.height;if(nt){if(y+p<v)return}else if(w=f.height,y+w-p>v)return}if(f&&f!=this.groupTouchParams.group&&(c=i.get(f.groupId),l=i.get(this.groupTouchParams.group.groupId),l&&c&&(this.options.groupOrderSwap(l,c,i),i.update(l),i.update(c)),r=i.getIds({order:this.options.groupOrder}),!u.equalArray(r,this.groupTouchParams.originalOrder)))for(var s=this.groupTouchParams.originalOrder,b=this.groupTouchParams.group.groupId,a=Math.min(s.length,r.length),t=0,e=0,o=0;t<a;){for(;t+e<a&&t+o<a&&r[t+e]==s[t+o];)t++;if(t+e>=a)break;if(r[t+e]!=b)if(s[t+o]!=b){var tt=r.indexOf(s[t+o]),k=i.get(r[t+e]),d=i.get(s[t+o]);this.options.groupOrderSwap(k,d,i);i.update(k);i.update(d);g=r[t+e];r[t+e]=s[t+o];r[tt]=g;t++}else o=1;else e=1}}};r.prototype._onGroupDragEnd=function(n){if(this.options.groupEditable.order&&this.groupTouchParams.group){n.stopPropagation();var t=this,r=t.groupTouchParams.group.groupId,i=t.groupsData.getDataSet(),f=u.extend({},i.get(r));t.options.onMoveGroup(f,function(n){var e,l;if(n)n[i._fieldId]=r,i.update(n);else if(e=i.getIds({order:t.options.groupOrder}),!u.equalArray(e,t.groupTouchParams.originalOrder))for(var o=t.groupTouchParams.originalOrder,s=Math.min(o.length,e.length),f=0;f<s;){for(;f<s&&e[f]==o[f];)f++;if(f>=s)break;var a=e.indexOf(o[f]),h=i.get(e[f]),c=i.get(o[f]);t.options.groupOrderSwap(h,c,i);groupsData.update(h);groupsData.update(c);l=e[f];e[f]=o[f];e[a]=l;f++}});t.body.emitter.emit("groupDragged",{groupId:r})}};r.prototype._onSelectItem=function(n){var i,r,t;if(this.options.selectable){if(i=n.srcEvent&&(n.srcEvent.ctrlKey||n.srcEvent.metaKey),r=n.srcEvent&&n.srcEvent.shiftKey,i||r)return void this._onMultiSelectItem(n);var e=this.getSelection(),f=this.itemFromTarget(n),o=f?[f.id]:[];this.setSelection(o);t=this.getSelection();(t.length>0||e.length>0)&&this.body.emitter.emit("select",{items:t,event:u.elementsCensor(n)})}};r.prototype._onMouseOver=function(n){var t=this.itemFromTarget(n),r,i;t&&(r=this.itemFromRelatedTarget(n),t!==r&&(t.getTitle()&&(null==t.popup&&t.setPopup(new d.default(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),i=this.body.dom.centerContainer,t.popup.setPosition(n.clientX-u.getAbsoluteLeft(i)+i.offsetLeft,n.clientY-u.getAbsoluteTop(i)+i.offsetTop),t.popup.show()),this.body.emitter.emit("itemover",{item:t.id,event:u.elementsCensor(n)})))};r.prototype._onMouseOut=function(n){var t=this.itemFromTarget(n),i;t&&(i=this.itemFromRelatedTarget(n),t!==i&&(null!=t.popup&&t.popup.hide(),this.body.emitter.emit("itemout",{item:t.id,event:u.elementsCensor(n)})))};r.prototype._onMouseMove=function(n){var t=this.itemFromTarget(n),i;t&&this.options.tooltip.followMouse&&t.popup&&!t.popup.hidden&&(i=this.body.dom.centerContainer,t.popup.setPosition(n.clientX-u.getAbsoluteLeft(i)+i.offsetLeft,n.clientY-u.getAbsoluteTop(i)+i.offsetTop),t.popup.show())};r.prototype._onMouseWheel=function(n){this.touchParams.itemIsDragging&&this._onDragEnd(n)};r.prototype._onUpdateItem=function(n){var t,i;if(this.options.selectable&&this.options.editable.add&&(t=this,n)){i=t.itemsData.get(n.id);this.options.onUpdate(i,function(n){n&&t.itemsData.getDataSet().update(n)})}};r.prototype._onAddItem=function(n){var o,e,i,f,c;if(this.options.selectable&&this.options.editable.add){var l=this,r=this.options.snap||null,v=this.itemFromTarget(n);if(!v){this.options.rtl?(o=u.getAbsoluteRight(this.dom.frame),e=o-n.center.x):(o=u.getAbsoluteLeft(this.dom.frame),e=n.center.x-o);var a=this.body.util.toTime(e),s=this.body.util.getScale(),h=this.body.util.getStep(),t={start:r?r(a,s,h):a,content:"new item"};"drop"==n.type?(i=JSON.parse(n.dataTransfer.getData("text")),(t.content=i.content,t.type=i.type||"box",t[this.itemsData._fieldId]=i.id||u.randomUUID(),"range"==i.type||i.end&&i.start)&&(i.end?(t.end=i.end,t.start=i.start):(f=this.body.util.toTime(e+this.props.width/5),t.end=r?r(f,s,h):f))):(t[this.itemsData._fieldId]=u.randomUUID(),"range"===this.options.type)&&(f=this.body.util.toTime(e+this.props.width/5),t.end=r?r(f,s,h):f);c=this.groupFromTarget(n);c&&(t.group=c.groupId);t=this._cloneItemData(t);this.options.onAdd(t,function(t){t&&(l.itemsData.getDataSet().add(t),"drop"==n.type&&l.setSelection([t.id]))})}}};r.prototype._onMultiSelectItem=function(n){var i,t,l,o,f,s,h,c;if(this.options.selectable&&(i=this.itemFromTarget(n),i)){if(t=this.options.multiselect?this.getSelection():[],l=n.srcEvent&&n.srcEvent.shiftKey||!1,l&&this.options.multiselect){if(o=this.itemsData.get(i.id).group,f=void 0,this.options.multiselectPerGroup&&t.length>0&&(f=this.itemsData.get(t[0]).group),this.options.multiselectPerGroup&&void 0!=f&&f!=o||t.push(i.id),s=r._getItemRange(this.itemsData.get(t,this.itemOptions)),!this.options.multiselectPerGroup||f==o){t=[];for(h in this.items)if(this.items.hasOwnProperty(h)){var e=this.items[h],a=e.data.start,v=void 0!==e.data.end?e.data.end:a;!(a>=s.min&&v<=s.max)||this.options.multiselectPerGroup&&f!=this.itemsData.get(e.id).group||e instanceof y||t.push(e.id)}}}else c=t.indexOf(i.id),c==-1?t.push(i.id):t.splice(c,1);this.setSelection(t);this.body.emitter.emit("select",{items:this.getSelection(),event:u.elementsCensor(n)})}};r._getItemRange=function(n){var t=null,i=null;return n.forEach(function(n){(null==i||n.start<i)&&(i=n.start);void 0!=n.end?(null==t||n.end>t)&&(t=n.end):(null==t||n.start>t)&&(t=n.start)}),{min:i,max:t}};r.prototype.itemFromElement=function(n){for(var t=n;t;){if(t.hasOwnProperty("timeline-item"))return t["timeline-item"];t=t.parentNode}return null};r.prototype.itemFromTarget=function(n){return this.itemFromElement(n.target)};r.prototype.itemFromRelatedTarget=function(n){return this.itemFromElement(n.relatedTarget)};r.prototype.groupFromTarget=function(n){for(var i=n.center?n.center.y:n.clientY,t=0;t<this.groupIds.length;t++){var o=this.groupIds[t],r=this.groups[o],e=r.dom.foreground,f=u.getAbsoluteTop(e);if(i>f&&i<f+e.offsetHeight)return r;if("top"===this.options.orientation.item){if(t===this.groupIds.length-1&&i>f)return r}else if(0===t&&i<f+e.offset)return r}return null};r.itemSetFromTarget=function(n){for(var t=n.target;t;){if(t.hasOwnProperty("timeline-itemset"))return t["timeline-itemset"];t=t.parentNode}return null};r.prototype._cloneItemData=function(n,t){var i=u.extend({},n);return t||(t=this.itemsData.getDataSet()._options.type),void 0!=i.start&&(i.start=u.convert(i.start,t&&t.start||"Date")),void 0!=i.end&&(i.end=u.convert(i.end,t&&t.end||"Date")),i};n.exports=r},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(115),f=r(u),e=i(116),o=r(e),s=function(){function n(t,i){f.default(this,n);this.container=t;this.overflowMethod=i||"cap";this.x=0;this.y=0;this.padding=5;this.hidden=!1;this.frame=document.createElement("div");this.frame.className="vis-tooltip";this.container.appendChild(this.frame)}return o.default(n,[{key:"setPosition",value:function(n,t){this.x=parseInt(n);this.y=parseInt(t)}},{key:"setText",value:function(n){n instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(n)):this.frame.innerHTML=n}},{key:"show",value:function(n){var e,o;if(void 0===n&&(n=!0),n===!0){var r=this.frame.clientHeight,u=this.frame.clientWidth,s=this.frame.parentNode.clientHeight,f=this.frame.parentNode.clientWidth,t=0,i=0;"flip"==this.overflowMethod?(e=!1,o=!0,this.y-r<this.padding&&(o=!1),this.x+u>f-this.padding&&(e=!0),t=e?this.x-u:this.x,i=o?this.y-r:this.y):(i=this.y-r,i+r+this.padding>s&&(i=s-r-this.padding),i<this.padding&&(i=this.padding),t=this.x,t+u+this.padding>f&&(t=f-u-this.padding),t<this.padding&&(t=this.padding));this.frame.style.left=t+"px";this.frame.style.top=i+"px";this.frame.style.visibility="visible";this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0;this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),n}();t.default=s},function(n,t,i){function r(n,t,i,f){this.moment=u;this.current=this.moment();this._start=this.moment();this._end=this.moment();this.autoScale=!0;this.scale="day";this.step=1;this.setRange(n,t,i);this.switchedDay=!1;this.switchedMonth=!1;this.switchedYear=!1;this.hiddenDates=Array.isArray(f)?f:void 0!=f?[f]:[];this.format=r.FORMAT}var u=i(84),e=i(125),f=i(1);r.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}};r.prototype.setMoment=function(n){this.moment=n;this.current=this.moment(this.current.valueOf());this._start=this.moment(this._start.valueOf());this._end=this.moment(this._end.valueOf())};r.prototype.setFormat=function(n){var t=f.deepExtend({},r.FORMAT);this.format=f.deepExtend(t,n)};r.prototype.setRange=function(n,t,i){if(!(n instanceof Date&&t instanceof Date))throw"No legal start or end date in method setRange";this._start=void 0!=n?this.moment(n.valueOf()):new Date;this._end=void 0!=t?this.moment(t.valueOf()):new Date;this.autoScale&&this.setMinimumStep(i)};r.prototype.start=function(){this.current=this._start.clone();this.roundToMinor()};r.prototype.roundToMinor=function(){switch(this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step));this.current.month(0);case"month":this.current.date(1);case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}};r.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()};r.prototype.next=function(){var n=this.current.valueOf();if(this.current.month()<6)switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour");this.current.subtract(this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}else switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.moment.duration(this.step,"hour"));this.current.hours()%this.step!=0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==n&&(this.current=this._end.clone());this.switchedDay=!1;this.switchedMonth=!1;this.switchedYear=!1;e.stepOverHiddenDates(this.moment,this,n)};r.prototype.getCurrent=function(){return this.current};r.prototype.setScale=function(n){n&&"string"==typeof n.scale&&(this.scale=n.scale,this.step=n.step>0?n.step:1,this.autoScale=!1)};r.prototype.setAutoScale=function(n){this.autoScale=n};r.prototype.setMinimumStep=function(n){if(void 0!=n){var t=31104e6,e=2592e6,r=864e5,o=36e5,u=6e4,f=1e3,i=1;1e3*t>n&&(this.scale="year",this.step=1e3);500*t>n&&(this.scale="year",this.step=500);100*t>n&&(this.scale="year",this.step=100);50*t>n&&(this.scale="year",this.step=50);10*t>n&&(this.scale="year",this.step=10);5*t>n&&(this.scale="year",this.step=5);t>n&&(this.scale="year",this.step=1);3*e>n&&(this.scale="month",this.step=3);e>n&&(this.scale="month",this.step=1);5*r>n&&(this.scale="day",this.step=5);2*r>n&&(this.scale="day",this.step=2);r>n&&(this.scale="day",this.step=1);r/2>n&&(this.scale="weekday",this.step=1);4*o>n&&(this.scale="hour",this.step=4);o>n&&(this.scale="hour",this.step=1);15*u>n&&(this.scale="minute",this.step=15);10*u>n&&(this.scale="minute",this.step=10);5*u>n&&(this.scale="minute",this.step=5);u>n&&(this.scale="minute",this.step=1);15*f>n&&(this.scale="second",this.step=15);10*f>n&&(this.scale="second",this.step=10);5*f>n&&(this.scale="second",this.step=5);f>n&&(this.scale="second",this.step=1);200*i>n&&(this.scale="millisecond",this.step=200);100*i>n&&(this.scale="millisecond",this.step=100);50*i>n&&(this.scale="millisecond",this.step=50);10*i>n&&(this.scale="millisecond",this.step=10);5*i>n&&(this.scale="millisecond",this.step=5);i>n&&(this.scale="millisecond",this.step=1)}};r.snap=function(n,t,i){var r=u(n),e,f;if("year"==t)e=r.year()+Math.round(r.month()/12),r.year(Math.round(e/i)*i),r.month(0),r.date(0),r.hours(0),r.minutes(0),r.seconds(0),r.milliseconds(0);else if("month"==t)r.date()>15?(r.date(1),r.add(1,"month")):r.date(1),r.hours(0),r.minutes(0),r.seconds(0),r.milliseconds(0);else if("day"==t){switch(i){case 5:case 2:r.hours(24*Math.round(r.hours()/24));break;default:r.hours(12*Math.round(r.hours()/12))}r.minutes(0);r.seconds(0);r.milliseconds(0)}else if("weekday"==t){switch(i){case 5:case 2:r.hours(12*Math.round(r.hours()/12));break;default:r.hours(6*Math.round(r.hours()/6))}r.minutes(0);r.seconds(0);r.milliseconds(0)}else if("hour"==t){switch(i){case 4:r.minutes(60*Math.round(r.minutes()/60));break;default:r.minutes(30*Math.round(r.minutes()/30))}r.seconds(0);r.milliseconds(0)}else if("minute"==t){switch(i){case 15:case 10:r.minutes(5*Math.round(r.minutes()/5));r.seconds(0);break;case 5:r.seconds(60*Math.round(r.seconds()/60));break;default:r.seconds(30*Math.round(r.seconds()/30))}r.milliseconds(0)}else if("second"==t)switch(i){case 15:case 10:r.seconds(5*Math.round(r.seconds()/5));r.milliseconds(0);break;case 5:r.milliseconds(1e3*Math.round(r.milliseconds()/1e3));break;default:r.milliseconds(500*Math.round(r.milliseconds()/500))}else"millisecond"==t&&(f=i>5?i/2:1,r.milliseconds(Math.round(r.milliseconds()/f)*f));return r};r.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var n=this.moment(this.current);switch(this.scale){case"millisecond":return 0==n.milliseconds();case"second":return 0==n.seconds();case"minute":return 0==n.hours()&&0==n.minutes();case"hour":return 0==n.hours();case"weekday":case"day":return 1==n.date();case"month":return 0==n.month();case"year":return!1;default:return!1}};r.prototype.getLabelMinor=function(n){if(void 0==n&&(n=this.current),"function"==typeof this.format.minorLabels)return this.format.minorLabels(n,this.scale,this.step);var t=this.format.minorLabels[this.scale];return t&&t.length>0?this.moment(n).format(t):""};r.prototype.getLabelMajor=function(n){if(void 0==n&&(n=this.current),"function"==typeof this.format.majorLabels)return this.format.majorLabels(n,this.scale,this.step);var t=this.format.majorLabels[this.scale];return t&&t.length>0?this.moment(n).format(t):""};r.prototype.getClassName=function(){function t(n){return n/h%2==0?" vis-even":" vis-odd"}function i(n){return n.isSame(new Date,"day")?" vis-today":n.isSame(e().add(1,"day"),"day")?" vis-tomorrow":n.isSame(e().add(-1,"day"),"day")?" vis-yesterday":""}function o(n){return n.isSame(new Date,"week")?" vis-current-week":""}function f(n){return n.isSame(new Date,"month")?" vis-current-month":""}function s(n){return n.isSame(new Date,"year")?" vis-current-year":""}var e=this.moment,r=this.moment(this.current),n=r.locale?r.locale("en"):r.lang("en"),h=this.step,u;switch(this.scale){case"millisecond":return i(n)+t(n.milliseconds()).trim();case"second":return i(n)+t(n.seconds()).trim();case"minute":return i(n)+t(n.minutes()).trim();case"hour":return"vis-h"+n.hours()+(4==this.step?"-h"+(n.hours()+4):"")+i(n)+t(n.hours());case"weekday":return"vis-"+n.format("dddd").toLowerCase()+i(n)+o(n)+t(n.date());case"day":return"vis-day"+n.date()+" vis-"+n.format("MMMM").toLowerCase()+i(n)+f(n)+(this.step<=2?i(n):"")+(this.step<=2?" vis-"+n.format("dddd").toLowerCase():""+t(n.date()-1));case"month":return"vis-"+n.format("MMMM").toLowerCase()+f(n)+t(n.month());case"year":return u=n.year(),"vis-year"+u+s(n)+t(u);default:return""}};n.exports=r},function(n,t,i){function e(n){return n&&n.__esModule?n:{"default":n}}function u(n,t,i){this.groupId=n;this.subgroups={};this.subgroupIndex=0;this.subgroupOrderer=t&&t.subgroupOrder;this.itemSet=i;this.isVisible=null;t&&t.nestedGroups&&(this.nestedGroups=t.nestedGroups,this.showNested=0==t.showNested?!1:!0);this.nestedInGroup=null;this.dom={};this.props={label:{width:0,height:0}};this.className=null;this.items={};this.visibleItems=[];this.itemsInRange=[];this.orderedItems={byStart:[],byEnd:[]};this.checkRangedItems=!1;var r=this;this.itemSet.body.emitter.on("checkRangedItems",function(){r.checkRangedItems=!0});this._create();this.setData(t)}var o=i(58),s=e(o),r=i(1),f=i(131);i(132);u.prototype._create=function(){var i=document.createElement("div"),n,t;i.className=this.itemSet.options.groupEditable.order?"vis-label draggable":"vis-label";this.dom.label=i;n=document.createElement("div");n.className="vis-inner";i.appendChild(n);this.dom.inner=n;t=document.createElement("div");t.className="vis-group";t["timeline-group"]=this;this.dom.foreground=t;this.dom.background=document.createElement("div");this.dom.background.className="vis-group";this.dom.axis=document.createElement("div");this.dom.axis.className="vis-group";this.dom.marker=document.createElement("div");this.dom.marker.style.visibility="hidden";this.dom.marker.style.position="absolute";this.dom.marker.innerHTML="";this.dom.background.appendChild(this.dom.marker)};u.prototype.setData=function(n){var t,u,f,i;if(this.itemSet.options&&this.itemSet.options.groupTemplate?(u=this.itemSet.options.groupTemplate.bind(this),t=u(n,this.dom.inner)):t=n&&n.content,t instanceof Element){for(this.dom.inner.appendChild(t);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(t)}else t instanceof Object?u(n,this.dom.inner):this.dom.inner.innerHTML=void 0!==t&&null!==t?t:this.groupId||"";(this.dom.label.title=n&&n.title||"",this.dom.inner.firstChild?r.removeClassName(this.dom.inner,"vis-hidden"):r.addClassName(this.dom.inner,"vis-hidden"),n&&n.nestedGroups)&&((this.showNested=0==n.showNested?!1:!0,r.addClassName(this.dom.label,"vis-nesting-group"),this.showNested)?(r.removeClassName(this.dom.label,"collapsed"),r.addClassName(this.dom.label,"expanded")):(r.removeClassName(this.dom.label,"expanded"),f=this.itemSet.options.rtl?"collapsed-rtl":"collapsed",r.addClassName(this.dom.label,f)));n&&n.nestedInGroup&&(r.addClassName(this.dom.label,"vis-nested-group"),this.itemSet.options&&this.itemSet.options.rtl?this.dom.inner.style.paddingRight="30px":this.dom.inner.style.paddingLeft="30px");i=n&&n.className||null;i!=this.className&&(this.className&&(r.removeClassName(this.dom.label,this.className),r.removeClassName(this.dom.foreground,this.className),r.removeClassName(this.dom.background,this.className),r.removeClassName(this.dom.axis,this.className)),r.addClassName(this.dom.label,i),r.addClassName(this.dom.foreground,i),r.addClassName(this.dom.background,i),r.addClassName(this.dom.axis,i),this.className=i);this.style&&(r.removeCssText(this.dom.label,this.style),this.style=null);n&&n.style&&(r.addCssText(this.dom.label,n.style),this.style=n.style)};u.prototype.getLabelWidth=function(){return this.props.label.width};u.prototype.redraw=function(n,t,i){var u=!1,l=this.dom.marker.clientHeight,c,a,v,o,e,s,y,h;for(l!=this.lastMarkerHeight&&(this.lastMarkerHeight=l,r.forEach(this.items,function(n){n.dirty=!0;n.displayed&&n.redraw()}),i=!0),this._calculateSubGroupHeights(t),e=this.dom.foreground,(this.top=e.offsetTop,this.right=e.offsetLeft,this.width=e.offsetWidth,this.isVisible=this._isGroupVisible(n,t),"function"==typeof this.itemSet.options.order)?(i&&(c=this,a=!1,r.forEach(this.items,function(n){n.displayed||(n.redraw(),c.visibleItems.push(n));n.repositionX(a)}),v=this.orderedItems.byStart.slice().sort(function(n,t){return c.itemSet.options.order(n.data,t.data)}),f.stack(v,t,!0)),this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,n)):(this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,n),this.itemSet.options.stack?f.stack(this.visibleItems,t,i):f.nostack(this.visibleItems,t,this.subgroups,this.itemSet.options.stackSubgroups)),this._updateSubgroupsSizes(),o=this._calculateHeight(t),e=this.dom.foreground,this.top=e.offsetTop,this.right=e.offsetLeft,this.width=e.offsetWidth,u=r.updateProperty(this,"height",o)||u,u=r.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||u,u=r.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||u,this.dom.background.style.height=o+"px",this.dom.foreground.style.height=o+"px",this.dom.label.style.height=o+"px",s=0,y=this.visibleItems.length;s<y;s++)h=this.visibleItems[s],h.repositionY(t),this.isVisible||"__background__"==this.groupId||h.displayed&&h.hide();return!this.isVisible&&this.height?u=!1:u};u.prototype._calculateSubGroupHeights=function(n){if(s.default(this.subgroups).length>0){var t=this;this.resetSubgroups();r.forEach(this.visibleItems,function(i){void 0!==i.data.subgroup&&(t.subgroups[i.data.subgroup].height=Math.max(t.subgroups[i.data.subgroup].height,i.height+n.item.vertical),t.subgroups[i.data.subgroup].visible=!0)})}};u.prototype._isGroupVisible=function(n,t){return this.top<=n.body.domProps.centerContainer.height-n.body.domProps.scrollTop+t.axis&&this.top+this.height+t.axis>=-n.body.domProps.scrollTop};u.prototype._calculateHeight=function(n){var f,t=this.visibleItems,i,u,e;return t.length>0?(i=t[0].top,u=t[0].top+t[0].height,(r.forEach(t,function(n){i=Math.min(i,n.top);u=Math.max(u,n.top+n.height)}),i>n.axis)&&(e=i-n.axis,u-=e,r.forEach(t,function(n){n.top-=e})),f=u+n.item.vertical/2):f=0,Math.max(f,this.props.label.height)};u.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label);this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground);this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background);this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)};u.prototype.hide=function(){var r=this.dom.label,n,t,i;r.parentNode&&r.parentNode.removeChild(r);n=this.dom.foreground;n.parentNode&&n.parentNode.removeChild(n);t=this.dom.background;t.parentNode&&t.parentNode.removeChild(t);i=this.dom.axis;i.parentNode&&i.parentNode.removeChild(i)};u.prototype.add=function(n){if(this.items[n.id]=n,n.setParent(this),void 0!==n.data.subgroup&&(void 0===this.subgroups[n.data.subgroup]&&(this.subgroups[n.data.subgroup]={height:0,top:0,start:n.data.start,end:n.data.end,visible:!1,index:this.subgroupIndex,items:[]},this.subgroupIndex++),new Date(n.data.start)<new Date(this.subgroups[n.data.subgroup].start)&&(this.subgroups[n.data.subgroup].start=n.data.start),new Date(n.data.end)>new Date(this.subgroups[n.data.subgroup].end)&&(this.subgroups[n.data.subgroup].end=n.data.end),this.subgroups[n.data.subgroup].items.push(n)),this.orderSubgroups(),this.visibleItems.indexOf(n)==-1){var t=this.itemSet.body.range;this._checkIfVisible(n,this.visibleItems,t)}};u.prototype._updateSubgroupsSizes=function(){var n=this,t,i,r;if(n.subgroups)for(t in n.subgroups)i=n.subgroups[t].items[0].data.start,r=n.subgroups[t].items[0].data.end,n.subgroups[t].items.forEach(function(n){new Date(n.data.start)<new Date(i)&&(i=n.data.start);new Date(n.data.end)>new Date(r)&&(r=n.data.end)}),n.subgroups[t].start=i,n.subgroups[t].end=r};u.prototype.orderSubgroups=function(){var n,t,i;if(void 0!==this.subgroupOrderer){if(n=[],"string"==typeof this.subgroupOrderer){for(t in this.subgroups)n.push({subgroup:t,sortField:this.subgroups[t].items[0].data[this.subgroupOrderer]});n.sort(function(n,t){return n.sortField-t.sortField})}else if("function"==typeof this.subgroupOrderer){for(t in this.subgroups)n.push(this.subgroups[t].items[0].data);n.sort(this.subgroupOrderer)}if(n.length>0)for(i=0;i<n.length;i++)this.subgroups[n[i].subgroup].index=i}};u.prototype.resetSubgroups=function(){for(var n in this.subgroups)this.subgroups.hasOwnProperty(n)&&(this.subgroups[n].visible=!1)};u.prototype.remove=function(n){var i,t,r;delete this.items[n.id];n.setParent(null);i=this.visibleItems.indexOf(n);(i!=-1&&this.visibleItems.splice(i,1),void 0!==n.data.subgroup)&&(t=this.subgroups[n.data.subgroup],t&&(r=t.items.indexOf(n),t.items.splice(r,1),t.items.length?this._updateSubgroupsSizes():(delete this.subgroups[n.data.subgroup],this.subgroupIndex--),this.orderSubgroups()))};u.prototype.removeFromDataSet=function(n){this.itemSet.removeItem(n.id)};u.prototype.order=function(){for(var t=r.toArray(this.items),i=[],u=[],n=0;n<t.length;n++)void 0!==t[n].data.end&&u.push(t[n]),i.push(t[n]);this.orderedItems={byStart:i,byEnd:u};f.orderByStart(this.orderedItems.byStart);f.orderByEnd(this.orderedItems.byEnd)};u.prototype._updateItemsInRange=function(n,t,i){var f=[],e={},c=(i.end-i.start)/4,s=i.start-c,h=i.end+c,l=function(n){return n<s?-1:n<=h?0:1},a,v,u,o;if(t.length>0)for(u=0;u<t.length;u++)this._checkIfVisibleWithReference(t[u],f,e,i);if(a=r.binarySearchCustom(n.byStart,l,"data","start"),this._traceVisible(a,n.byStart,f,e,function(n){return n.data.start<s||n.data.start>h}),1==this.checkRangedItems)for(this.checkRangedItems=!1,u=0;u<n.byEnd.length;u++)this._checkIfVisibleWithReference(n.byEnd[u],f,e,i);else v=r.binarySearchCustom(n.byEnd,l,"data","end"),this._traceVisible(v,n.byEnd,f,e,function(n){return n.data.end<s||n.data.end>h});for(u=0;u<f.length;u++)o=f[u],o.displayed||o.show(),o.repositionX();return f};u.prototype._traceVisible=function(n,t,i,r,u){var e,f;if(n!=-1){for(e=n;e>=0;e--){if(f=t[e],u(f))break;void 0===r[f.id]&&(r[f.id]=!0,i.push(f))}for(e=n+1;e<t.length;e++){if(f=t[e],u(f))break;void 0===r[f.id]&&(r[f.id]=!0,i.push(f))}}};u.prototype._checkIfVisible=function(n,t,i){n.isVisible(i)?(n.displayed||n.show(),n.repositionX(),t.push(n)):n.displayed&&n.hide()};u.prototype._checkIfVisibleWithReference=function(n,t,i,r){n.isVisible(r)?void 0===i[n.id]&&(i[n.id]=!0,t.push(n)):n.displayed&&n.hide()};n.exports=u},function(n,t){var i=.001;t.orderByStart=function(n){n.sort(function(n,t){return n.data.start-t.data.start})};t.orderByEnd=function(n){n.sort(function(n,t){var i="end"in n.data?n.data.end:n.data.start,r="end"in t.data?t.data.end:t.data.start;return i-r})};t.stack=function(n,i,r){var u,f,e;if(r)for(u=0;u<n.length;u++)n[u].top=null;for(u=0;u<n.length;u++)if(f=n[u],f.stack&&null===f.top){f.top=i.axis;do{for(var o=null,s=0,h=n.length;s<h;s++)if(e=n[s],null!==e.top&&e!==f&&e.stack&&t.collision(f,e,i.item,e.options.rtl)){o=e;break}null!=o&&(f.top=o.top+o.height+i.item.vertical)}while(o)}};t.nostack=function(n,i,r,u){for(var o,e,f=0;f<n.length;f++)if(void 0==n[f].data.subgroup)n[f].top=i.item.vertical;else if(void 0!==n[f].data.subgroup&&u){o=0;for(e in r)r.hasOwnProperty(e)&&1==r[e].visible&&r[e].index<r[n[f].data.subgroup].index&&(o+=r[e].height,r[n[f].data.subgroup].top=o);n[f].top=o+.5*i.item.vertical}u||t.stackSubgroups(n,i,r)};t.stackSubgroups=function(n,i,r){var u,f,e,o;for(u in r)if(r.hasOwnProperty(u)){r[u].top=0;do{f=null;for(e in r)if(null!==r[e].top&&e!==u&&r[u].index>r[e].index&&t.collisionByTimes(r[u],r[e])){f=r[e];break}null!=f&&(r[u].top=f.top+f.height)}while(f)}for(o=0;o<n.length;o++)void 0!==n[o].data.subgroup&&(n[o].top=r[n[o].data.subgroup].top+.5*i.item.vertical)};t.collision=function(n,t,r,u){return u?n.right-r.horizontal+i<t.right+t.width&&n.right+n.width+r.horizontal-i>t.right&&n.top-r.vertical+i<t.top+t.height&&n.top+n.height+r.vertical-i>t.top:n.left-r.horizontal+i<t.left+t.width&&n.left+n.width+r.horizontal-i>t.left&&n.top-r.vertical+i<t.top+t.height&&n.top+n.height+r.vertical-i>t.top};t.collisionByTimes=function(n,t){return n.start<=t.start&&n.end>=t.start&&n.top<t.top+t.height&&n.top+n.height>t.top||t.start<=n.start&&t.end>=n.start&&t.top<n.top+n.height&&t.top+t.height>n.top}},function(n,t,i){function r(n,t,i){if(this.props={content:{width:0}},this.overflow=!1,this.options=i,n){if(void 0==n.start)throw new Error('Property "start" missing in item '+n.id);if(void 0==n.end)throw new Error('Property "end" missing in item '+n.id);}u.call(this,n,t,i)}var u=(i(108),i(133));r.prototype=new u(null,null,null);r.prototype.baseClassName="vis-item vis-range";r.prototype.isVisible=function(n){return this.data.start<n.end&&this.data.end>n.start};r.prototype.redraw=function(){var n=this.dom,t,i,r;if(n||(this.dom={},n=this.dom,n.box=document.createElement("div"),n.frame=document.createElement("div"),n.frame.className="vis-item-overflow",n.box.appendChild(n.frame),n.visibleFrame=document.createElement("div"),n.visibleFrame.className="vis-item-visible-frame",n.box.appendChild(n.visibleFrame),n.content=document.createElement("div"),n.content.className="vis-item-content",n.frame.appendChild(n.content),n.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!n.box.parentNode){if(t=this.parent.dom.foreground,!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(n.box)}(this.displayed=!0,this.dirty)&&(this._updateContents(this.dom.content),this._updateTitle(),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),i=(this.options.editable.updateTime||this.options.editable.updateGroup||this.editable===!0)&&this.editable!==!1,r=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(i?" vis-editable":" vis-readonly"),n.box.className=this.baseClassName+r,this.overflow="hidden"!==window.getComputedStyle(n.frame).overflow,this.dom.content.style.maxWidth="none",this.props.content.width=this.dom.content.offsetWidth,this.height=this.dom.box.offsetHeight,this.dom.content.style.maxWidth="",this.dirty=!1);this._repaintOnItemUpdateTimeTooltip(n.box);this._repaintDeleteButton(n.box);this._repaintDragCenter();this._repaintDragLeft();this._repaintDragRight()};r.prototype.show=function(){this.displayed||this.redraw()};r.prototype.hide=function(){if(this.displayed){var n=this.dom.box;n.parentNode&&n.parentNode.removeChild(n);this.displayed=!1}};r.prototype.repositionX=function(n){var f,r,e=this.parent.width,t=this.conversion.toScreen(this.data.start),u=this.conversion.toScreen(this.data.end),i;void 0!==n&&n!==!0||(t<-e&&(t=-e),u>2*e&&(u=2*e));i=Math.max(u-t+.5,1);switch(this.overflow?(this.options.rtl?this.right=t:this.left=t,this.width=i+this.props.content.width,r=this.props.content.width):(this.options.rtl?this.right=t:this.left=t,this.width=i,r=Math.min(u-t,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=i+"px",this.options.align){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(i-r,0)+"px":this.dom.content.style.left=Math.max(i-r,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((i-r)/2,0)+"px":this.dom.content.style.left=Math.max((i-r)/2,0)+"px";break;default:f=this.overflow?u>0?Math.max(-t,0):-r:t<0?-t:0;this.options.rtl?this.dom.content.style.right=f+"px":(this.dom.content.style.left=f+"px",this.dom.content.style.width="calc(100% - "+f+"px)")}};r.prototype.repositionY=function(){var n=this.options.orientation.item,t=this.dom.box;t.style.top="top"==n?this.top+"px":this.parent.height-this.top-this.height+"px"};r.prototype._repaintDragLeft=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragLeft){var n=document.createElement("div");n.className="vis-drag-left";n.dragLeftItem=this;this.dom.box.appendChild(n);this.dom.dragLeft=n}else!this.selected&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)};r.prototype._repaintDragRight=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragRight){var n=document.createElement("div");n.className="vis-drag-right";n.dragRightItem=this;this.dom.box.appendChild(n);this.dom.dragRight=n}else!this.selected&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)};n.exports=r},function(n,t,i){function f(n){return n&&n.__esModule?n:{"default":n}}function r(n,t,i){this.id=null;this.parent=null;this.data=n;this.dom=null;this.conversion=t||{};this.options=i||{};this.selected=!1;this.displayed=!1;this.groupShowing=!0;this.dirty=!0;this.popup=null;this.top=null;this.right=null;this.left=null;this.width=null;this.height=null;this.editable=null;this.data&&this.data.hasOwnProperty("editable")&&("boolean"==typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===e.default(i.editable)&&(this.editable={},u.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,n.editable)))}var h=i(58),c=f(h),l=i(62),e=f(l),o=i(108),u=i(1),s=i(84);r.prototype.stack=!0;r.prototype.select=function(){this.selected=!0;this.dirty=!0;this.displayed&&this.redraw()};r.prototype.unselect=function(){this.selected=!1;this.dirty=!0;this.displayed&&this.redraw()};r.prototype.setData=function(n){var t=void 0!=n.group&&this.data.group!=n.group;t&&this.parent.itemSet._moveToGroup(this,n.group);n.hasOwnProperty("editable")&&("boolean"==typeof n.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===e.default(options.editable)&&(this.editable={},u.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,n.editable)));this.data=n;this.dirty=!0;this.displayed&&this.redraw()};r.prototype.setParent=function(n){this.displayed?(this.hide(),this.parent=n,this.parent&&this.show()):this.parent=n};r.prototype.isVisible=function(){return!1};r.prototype.show=function(){return!1};r.prototype.hide=function(){return!1};r.prototype.redraw=function(){};r.prototype.repositionX=function(){};r.prototype.repositionY=function(){};r.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var t=this,n=document.createElement("div");n.className="vis-drag-center";n.dragCenterItem=this;new o(n).on("doubletap",function(n){n.stopPropagation();t.parent.itemSet._onUpdateItem(t)});this.dom.box?this.dom.box.appendChild(n):this.dom.point&&this.dom.point.appendChild(n);this.dom.dragCenter=n}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)};r.prototype._repaintDeleteButton=function(n){var r=(this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove,i,t;this.selected&&r&&!this.dom.deleteButton?(i=this,t=document.createElement("div"),t.className=this.options.rtl?"vis-delete-rtl":"vis-delete",t.title="Delete this item",new o(t).on("tap",function(n){n.stopPropagation();i.parent.removeFromDataSet(i)}),n.appendChild(t),this.dom.deleteButton=t):!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)};r.prototype._repaintOnItemUpdateTimeTooltip=function(n){var r,t,u,f,e,o,i,h;this.options.tooltipOnItemUpdateTime&&(r=(this.options.editable.updateTime||this.data.editable===!0)&&this.data.editable!==!1,this.selected&&r&&!this.dom.onItemUpdateTimeTooltip?(t=document.createElement("div"),t.className="vis-onUpdateTime-tooltip",n.appendChild(t),this.dom.onItemUpdateTimeTooltip=t):!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null),this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left,f=50,e=this.parent.itemSet.body.domProps.scrollTop,u="top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height,o=u+this.parent.top-f<-e,o?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px"),this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?(h=this.options.tooltipOnItemUpdateTime.template.bind(this),i=h(this.data)):(i="start: "+s(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(i+="<br> end: "+s(this.data.end).format("MM/DD/YYYY hh:mm"))),this.dom.onItemUpdateTimeTooltip.innerHTML=i))};r.prototype._updateContents=function(n){var t,e,i,o,u=this.parent.itemSet.itemsData.get(this.id),s=this.dom.box||this.dom.point,r=s.getElementsByClassName("vis-item-visible-frame")[0],f;if(this.options.visibleFrameTemplate?(o=this.options.visibleFrameTemplate.bind(this),i=o(u,s)):i="",r)if(i instanceof Object&&!(i instanceof Element))o(u,r);else if(f=this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(i),f){if(i instanceof Element)r.innerHTML="",r.appendChild(i);else if(void 0!=i)r.innerHTML=i;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.itemVisibleFrameContent=i}if(this.options.template?(e=this.options.template.bind(this),t=e(u,n)):t=this.data.content,t instanceof Object&&!(t instanceof Element))e(u,n);else if(f=this._contentToString(this.content)!==this._contentToString(t),f){if(t instanceof Element)n.innerHTML="",n.appendChild(t);else if(void 0!=t)n.innerHTML=t;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=t}};r.prototype._updateTitle=function(){null!=this.data.title&&null!=this.popup&&this.popup.setText(this.data.title||"")};r.prototype._updateDataAttributes=function(n){var t,i,r,u;if(this.options.dataAttributes&&this.options.dataAttributes.length>0){if(t=[],Array.isArray(this.options.dataAttributes))t=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;t=c.default(this.data)}for(i=0;i<t.length;i++)r=t[i],u=this.data[r],null!=u?n.setAttribute("data-"+r,u):n.removeAttribute("data-"+r)}};r.prototype._updateStyle=function(n){this.style&&(u.removeCssText(n,this.style),this.style=null);this.data.style&&(u.addCssText(n,this.data.style),this.style=this.data.style)};r.prototype._contentToString=function(n){return"string"==typeof n?n:n&&"outerHTML"in n?n.outerHTML:n};r.prototype.getWidthLeft=function(){return 0};r.prototype.getWidthRight=function(){return 0};r.prototype.getTitle=function(){return this.data.title};r.prototype.setPopup=function(n){this.popup=n;this._updateTitle()};n.exports=r},function(n,t,i){function f(n){return n&&n.__esModule?n:{"default":n}}function r(n,t,i){u.call(this,n,t,i);this.width=0;this.height=0;this.top=0;this.left=0}var e=i(55),o=f(e),u=(i(1),i(130));r.prototype=o.default(u.prototype);r.prototype.redraw=function(n,t){var i,r,u;for(this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,n),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0",i=0,r=this.visibleItems.length;i<r;i++)u=this.visibleItems[i],u.repositionY(t);return!1};r.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)};n.exports=r},function(n,t,i){function r(n,t,i){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=i,n&&void 0==n.start)throw new Error('Property "start" missing in item '+n);u.call(this,n,t,i)}var u=i(133);i(1);r.prototype=new u(null,null,null);r.prototype.isVisible=function(n){var i=this.options.align,t=this.width*n.getMillisecondsPerPixel();return"right"==i?this.data.start.getTime()>n.start&&this.data.start.getTime()-t<n.end:"left"==i?this.data.start.getTime()+t>n.start&&this.data.start.getTime()<n.end:this.data.start.getTime()+t/2>n.start&&this.data.start.getTime()-t/2<n.end};r.prototype.redraw=function(){var n=this.dom,r,t,u,f,i,e,o;if(n||(this.dom={},n=this.dom,n.box=document.createElement("DIV"),n.content=document.createElement("DIV"),n.content.className="vis-item-content",n.box.appendChild(n.content),n.line=document.createElement("DIV"),n.line.className="vis-line",n.dot=document.createElement("DIV"),n.dot.className="vis-dot",n.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!n.box.parentNode){if(r=this.parent.dom.foreground,!r)throw new Error("Cannot redraw item: parent has no foreground container element");r.appendChild(n.box)}if(!n.line.parentNode){if(t=this.parent.dom.background,!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(n.line)}if(!n.dot.parentNode){if(u=this.parent.dom.axis,!t)throw new Error("Cannot redraw item: parent has no axis container element");u.appendChild(n.dot)}(this.displayed=!0,this.dirty)&&(this._updateContents(this.dom.content),this._updateTitle(),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),f=(this.options.editable.updateTime||this.options.editable.updateGroup||this.editable===!0)&&this.editable!==!1,i=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(f?" vis-editable":" vis-readonly"),n.box.className="vis-item vis-box"+i,n.line.className="vis-item vis-line"+i,n.dot.className="vis-item vis-dot"+i,e=n.box.style.right,o=n.box.style.left,this.options.rtl?n.box.style.right="0px":n.box.style.left="0px",this.props.dot.height=n.dot.offsetHeight,this.props.dot.width=n.dot.offsetWidth,this.props.line.width=n.line.offsetWidth,this.width=n.box.offsetWidth,this.height=n.box.offsetHeight,this.options.rtl?n.box.style.right=e:n.box.style.left=o,this.dirty=!1);this._repaintOnItemUpdateTimeTooltip(n.box);this._repaintDragCenter();this._repaintDeleteButton(n.box)};r.prototype.show=function(){this.displayed||this.redraw()};r.prototype.hide=function(){if(this.displayed){var n=this.dom;n.box.parentNode&&n.box.parentNode.removeChild(n.box);n.line.parentNode&&n.line.parentNode.removeChild(n.line);n.dot.parentNode&&n.dot.parentNode.removeChild(n.dot);this.displayed=!1}};r.prototype.repositionX=function(){var n=this.conversion.toScreen(this.data.start),t=this.options.align;"right"==t?this.options.rtl?(this.right=n-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=n-this.props.line.width+"px",this.dom.dot.style.right=n-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=n-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=n-this.props.line.width+"px",this.dom.dot.style.left=n-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==t?this.options.rtl?(this.right=n,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=n+"px",this.dom.dot.style.right=n+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=n,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=n+"px",this.dom.dot.style.left=n+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=n-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=n-this.props.line.width+"px",this.dom.dot.style.right=n-this.props.dot.width/2+"px"):(this.left=n-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=n-this.props.line.width/2+"px",this.dom.dot.style.left=n-this.props.dot.width/2+"px")};r.prototype.repositionY=function(){var u=this.options.orientation.item,i=this.dom.box,n=this.dom.line,f=this.dom.dot,t,r;"top"==u?(i.style.top=(this.top||0)+"px",n.style.top="0",n.style.height=this.parent.top+this.top+1+"px",n.style.bottom=""):(t=this.parent.itemSet.props.height,r=t-this.parent.top-this.parent.height+this.top,i.style.top=(this.parent.height-this.top-this.height||0)+"px",n.style.top=t-r+"px",n.style.bottom="0");f.style.top=-this.props.dot.height/2+"px"};r.prototype.getWidthLeft=function(){return this.width/2};r.prototype.getWidthRight=function(){return this.width/2};n.exports=r},function(n,t,i){function r(n,t,i){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=i,n&&void 0==n.start)throw new Error('Property "start" missing in item '+n);u.call(this,n,t,i)}var u=i(133);r.prototype=new u(null,null,null);r.prototype.isVisible=function(n){var t=this.width*n.getMillisecondsPerPixel();return this.data.start.getTime()+t>n.start&&this.data.start<n.end};r.prototype.redraw=function(){var n=this.dom,t,r,i;if(n||(this.dom={},n=this.dom,n.point=document.createElement("div"),n.content=document.createElement("div"),n.content.className="vis-item-content",n.point.appendChild(n.content),n.dot=document.createElement("div"),n.point.appendChild(n.dot),n.point["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!n.point.parentNode){if(t=this.parent.dom.foreground,!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(n.point)}(this.displayed=!0,this.dirty)&&(this._updateContents(this.dom.content),this._updateTitle(),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point),r=(this.options.editable.updateTime||this.options.editable.updateGroup||this.editable===!0)&&this.editable!==!1,i=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(r?" vis-editable":" vis-readonly"),n.point.className="vis-item vis-point"+i,n.dot.className="vis-item vis-dot"+i,this.props.dot.width=n.dot.offsetWidth,this.props.dot.height=n.dot.offsetHeight,this.props.content.height=n.content.offsetHeight,this.options.rtl?n.content.style.marginRight=2*this.props.dot.width+"px":n.content.style.marginLeft=2*this.props.dot.width+"px",this.width=n.point.offsetWidth,this.height=n.point.offsetHeight,n.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?n.dot.style.right=this.props.dot.width/2+"px":n.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1);this._repaintOnItemUpdateTimeTooltip(n.point);this._repaintDragCenter();this._repaintDeleteButton(n.point)};r.prototype.show=function(){this.displayed||this.redraw()};r.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)};r.prototype.repositionX=function(){var n=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=n-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=n-this.props.dot.width,this.dom.point.style.left=this.left+"px")};r.prototype.repositionY=function(){var n=this.options.orientation.item,t=this.dom.point;t.style.top="top"==n?this.top+"px":this.parent.height-this.top-this.height+"px"};r.prototype.getWidthLeft=function(){return this.props.dot.width};r.prototype.getWidthRight=function(){return this.props.dot.width};n.exports=r},function(n,t,i){function r(n,t,i){if(this.props={content:{width:0}},this.overflow=!1,n){if(void 0==n.start)throw new Error('Property "start" missing in item '+n.id);if(void 0==n.end)throw new Error('Property "end" missing in item '+n.id);}f.call(this,n,t,i)}var f=(i(108),i(133)),e=i(134),u=i(132);r.prototype=new f(null,null,null);r.prototype.baseClassName="vis-item vis-background";r.prototype.stack=!1;r.prototype.isVisible=function(n){return this.data.start<n.end&&this.data.end>n.start};r.prototype.redraw=function(){var n=this.dom,t,i;if(n||(this.dom={},n=this.dom,n.box=document.createElement("div"),n.frame=document.createElement("div"),n.frame.className="vis-item-overflow",n.box.appendChild(n.frame),n.content=document.createElement("div"),n.content.className="vis-item-content",n.frame.appendChild(n.content),this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!n.box.parentNode){if(t=this.parent.dom.background,!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(n.box)}(this.displayed=!0,this.dirty)&&(this._updateContents(this.dom.content),this._updateTitle(),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box),i=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":""),n.box.className=this.baseClassName+i,this.overflow="hidden"!==window.getComputedStyle(n.content).overflow,this.props.content.width=this.dom.content.offsetWidth,this.height=0,this.dirty=!1)};r.prototype.show=u.prototype.show;r.prototype.hide=u.prototype.hide;r.prototype.repositionX=u.prototype.repositionX;r.prototype.repositionY=function(){var i,n,r,t;void 0!==this.data.subgroup?(n=this.data.subgroup,r=this.parent.subgroups,r[n].index,this.dom.box.style.height=this.parent.subgroups[n].height+"px",t=this.options.orientation.item,this.dom.box.style.top="top"==t?this.parent.top+this.parent.subgroups[n].top+"px":this.parent.top+this.parent.height-this.parent.subgroups[n].top-this.parent.subgroups[n].height+"px",this.dom.box.style.bottom=""):this.parent instanceof e?(i=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.top="top"==t?"0":"",this.dom.box.style.bottom="top"==t?"":"0"):(i=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=i+"px"};n.exports=r},function(n,t,i){function s(n){return n&&n.__esModule?n:{"default":n}}function r(n,t){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}};this.props={range:{start:0,end:0,minimumStep:0},lineTop:0};this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:o.FORMAT,moment:f,timeAxis:null};this.options=u.extend({},this.defaultOptions);this.body=n;this._create();this.setOptions(t)}var h=i(62),c=s(h),u=i(1),l=i(124),o=i(129),a=i(125),f=i(84),e;r.prototype=new l;r.prototype.setOptions=function(n){n&&(u.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,n),u.selectiveDeepExtend(["format"],this.options,n),"orientation"in n&&("string"==typeof n.orientation?this.options.orientation.axis=n.orientation:"object"===c.default(n.orientation)&&"axis"in n.orientation&&(this.options.orientation.axis=n.orientation.axis)),"locale"in n&&("function"==typeof f.locale?f.locale(n.locale):f.lang(n.locale)))};r.prototype._create=function(){this.dom.foreground=document.createElement("div");this.dom.background=document.createElement("div");this.dom.foreground.className="vis-time-axis vis-foreground";this.dom.background.className="vis-time-axis vis-background"};r.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground);this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background);this.body=null};r.prototype.redraw=function(){var n=this.props,t=this.dom.foreground,i=this.dom.background,r="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,s=t.parentNode!==r,e,o,u,f;return this._calculateCharSize(),e=this.options.showMinorLabels&&"none"!==this.options.orientation.axis,o=this.options.showMajorLabels&&"none"!==this.options.orientation.axis,n.minorLabelHeight=e?n.minorCharHeight:0,n.majorLabelHeight=o?n.majorCharHeight:0,n.height=n.minorLabelHeight+n.majorLabelHeight,n.width=t.offsetWidth,n.minorLineHeight=this.body.domProps.root.height-n.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),n.minorLineWidth=1,n.majorLineHeight=n.minorLineHeight+n.majorLabelHeight,n.majorLineWidth=1,u=t.nextSibling,f=i.nextSibling,t.parentNode&&t.parentNode.removeChild(t),i.parentNode&&i.parentNode.removeChild(i),t.style.height=this.props.height+"px",this._repaintLabels(),u?r.insertBefore(t,u):r.appendChild(t),f?this.body.dom.backgroundVertical.insertBefore(i,f):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||s};r.prototype._repaintLabels=function(){var s=this.options.orientation.axis,rt=u.convert(this.body.range.start,"Number"),ut=u.convert(this.body.range.end,"Number"),k=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),d=k-a.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,k),n,t,w,b;d-=this.body.util.toTime(0).valueOf();n=new o(new Date(rt),new Date(ut),d,this.body.hiddenDates);n.setMoment(this.options.moment);this.options.format&&n.setFormat(this.options.format);this.options.timeAxis&&n.setScale(this.options.timeAxis);this.step=n;t=this.dom;t.redundant.lines=t.lines;t.redundant.majorTexts=t.majorTexts;t.redundant.minorTexts=t.minorTexts;t.lines=[];t.majorTexts=[];t.minorTexts=[];var ft,h,i,l,g,et,nt,c,tt,f,r=0,v=void 0,y=0,p=1e3;for(n.start(),h=n.getCurrent(),l=this.body.util.toScreen(h);n.hasNext()&&y<p;)y++,g=n.isMajor(),f=n.getClassName(),tt=n.getLabelMinor(),ft=h,i=l,n.next(),h=n.getCurrent(),et=n.isMajor(),l=this.body.util.toScreen(h),nt=r,r=l-i,w=r>=.4*nt,this.options.showMinorLabels&&w&&(b=this._repaintMinorText(i,tt,s,f),b.style.width=r+"px"),g&&this.options.showMajorLabels?(i>0&&(void 0==v&&(v=i),b=this._repaintMajorText(i,n.getLabelMajor(),s,f)),c=this._repaintMajorLine(i,r,s,f)):w?c=this._repaintMinorLine(i,r,s,f):c&&(c.style.width=parseInt(c.style.width)+r+"px");if(y!==p||e||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to "+p+" lines."),e=!0),this.options.showMajorLabels){var ot=this.body.util.toTime(0),it=n.getLabelMajor(ot),st=it.length*(this.props.majorCharWidth||10)+10;(void 0==v||st<v)&&this._repaintMajorText(0,it,s,f)}u.forEach(this.dom.redundant,function(n){for(;n.length;){var t=n.pop();t&&t.parentNode&&t.parentNode.removeChild(t)}})};r.prototype._repaintMinorText=function(n,t,i,r){var u=this.dom.redundant.minorTexts.shift(),f;return u||(f=document.createTextNode(""),u=document.createElement("div"),u.appendChild(f),this.dom.foreground.appendChild(u)),this.dom.minorTexts.push(u),u.innerHTML=t,u.style.top="top"==i?this.props.majorLabelHeight+"px":"0",this.options.rtl?(u.style.left="",u.style.right=n+"px"):u.style.left=n+"px",u.className="vis-text vis-minor "+r,u};r.prototype._repaintMajorText=function(n,t,i,r){var u=this.dom.redundant.majorTexts.shift(),f;return u||(f=document.createElement("div"),u=document.createElement("div"),u.appendChild(f),this.dom.foreground.appendChild(u)),u.childNodes[0].innerHTML=t,u.className="vis-text vis-major "+r,u.style.top="top"==i?"0":this.props.minorLabelHeight+"px",this.options.rtl?(u.style.left="",u.style.right=n+"px"):u.style.left=n+"px",this.dom.majorTexts.push(u),u};r.prototype._repaintMinorLine=function(n,t,i,r){var u=this.dom.redundant.lines.shift(),f;return u||(u=document.createElement("div"),this.dom.background.appendChild(u)),this.dom.lines.push(u),f=this.props,u.style.top="top"==i?f.majorLabelHeight+"px":this.body.domProps.top.height+"px",u.style.height=f.minorLineHeight+"px",this.options.rtl?(u.style.left="",u.style.right=n-f.minorLineWidth/2+"px",u.className="vis-grid vis-vertical-rtl vis-minor "+r):(u.style.left=n-f.minorLineWidth/2+"px",u.className="vis-grid vis-vertical vis-minor "+r),u.style.width=t+"px",u};r.prototype._repaintMajorLine=function(n,t,i,r){var u=this.dom.redundant.lines.shift(),f;return u||(u=document.createElement("div"),this.dom.background.appendChild(u)),this.dom.lines.push(u),f=this.props,u.style.top="top"==i?"0":this.body.domProps.top.height+"px",this.options.rtl?(u.style.left="",u.style.right=n-f.majorLineWidth/2+"px",u.className="vis-grid vis-vertical-rtl vis-major "+r):(u.style.left=n-f.majorLineWidth/2+"px",u.className="vis-grid vis-vertical vis-major "+r),u.style.height=f.majorLineHeight+"px",u.style.width=t+"px",u};r.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor));this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight;this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth;this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor));this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight;this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};e=!1;n.exports=r},function(n,t,i){function r(n){this.active=!1;this.dom={container:n};this.dom.overlay=document.createElement("div");this.dom.overlay.className="vis-overlay";this.dom.container.appendChild(this.dom.overlay);this.hammer=s(this.dom.overlay);this.hammer.on("tap",this._onTapOverlay.bind(this));var t=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(n){t.hammer.on(n,function(n){n.stopPropagation()})});document&&document.body&&(this.onClick=function(i){f(i.target,n)||t.deactivate()},document.body.addEventListener("click",this.onClick));void 0!==this.keycharm&&this.keycharm.destroy();this.keycharm=e();this.escListener=this.deactivate.bind(this)}function f(n,t){for(;n;){if(n===t)return!0;n=n.parentNode}return!1}var e=i(111),o=i(95),s=i(108),u=i(1);o(r.prototype);r.current=null;r.prototype.destroy=function(){this.deactivate();this.dom.overlay.parentNode.removeChild(this.dom.overlay);this.onClick&&document.body.removeEventListener("click",this.onClick);this.hammer.destroy();this.hammer=null};r.prototype.activate=function(){r.current&&r.current.deactivate();r.current=this;this.active=!0;this.dom.overlay.style.display="none";u.addClassName(this.dom.container,"vis-active");this.emit("change");this.emit("activate");this.keycharm.bind("esc",this.escListener)};r.prototype.deactivate=function(){this.active=!1;this.dom.overlay.style.display="";u.removeClassName(this.dom.container,"vis-active");this.keycharm.unbind("esc",this.escListener);this.emit("change");this.emit("deactivate")};r.prototype._onTapOverlay=function(n){this.activate();n.stopPropagation()};n.exports=r},function(n,t,i){function r(n,t){this.body=n;this.defaultOptions={moment:o,locales:s,locale:"en",id:void 0,title:void 0};this.options=u.extend({},this.defaultOptions);this.customTime=t&&t.time?t.time:new Date;this.eventParams={};this.setOptions(t);this._create()}var f=i(108),u=i(1),e=i(124),o=i(84),s=i(141);r.prototype=new e;r.prototype.setOptions=function(n){n&&u.selectiveExtend(["moment","locale","locales","id"],this.options,n)};r.prototype._create=function(){function i(n){this.body.range._onMouseWheel(n)}var t=document.createElement("div"),n;t["custom-time"]=this;t.className="vis-custom-time "+(this.options.id||"");t.style.position="absolute";t.style.top="0px";t.style.height="100%";this.bar=t;n=document.createElement("div");n.style.position="relative";n.style.top="0px";n.style.left="-10px";n.style.height="100%";n.style.width="20px";n.addEventListener?(n.addEventListener("mousewheel",i.bind(this),!1),n.addEventListener("DOMMouseScroll",i.bind(this),!1)):n.attachEvent("onmousewheel",i.bind(this));t.appendChild(n);this.hammer=new f(n);this.hammer.on("panstart",this._onDragStart.bind(this));this.hammer.on("panmove",this._onDrag.bind(this));this.hammer.on("panend",this._onDragEnd.bind(this));this.hammer.get("pan").set({threshold:5,direction:f.DIRECTION_HORIZONTAL})};r.prototype.destroy=function(){this.hide();this.hammer.destroy();this.hammer=null;this.body=null};r.prototype.redraw=function(){var i=this.body.dom.backgroundVertical,r,t,n;return this.bar.parentNode!=i&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),i.appendChild(this.bar)),r=this.body.util.toScreen(this.customTime),t=this.options.locales[this.options.locale],t||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),t=this.options.locales.en),n=this.options.title,void 0===n&&(n=t.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss"),n=n.charAt(0).toUpperCase()+n.substring(1)),this.bar.style.left=r+"px",this.bar.title=n,!1};r.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)};r.prototype.setCustomTime=function(n){this.customTime=u.convert(n,"Date");this.redraw()};r.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())};r.prototype.setCustomTitle=function(n){this.options.title=n};r.prototype._onDragStart=function(n){this.eventParams.dragging=!0;this.eventParams.customTime=this.customTime;n.stopPropagation()};r.prototype._onDrag=function(n){if(this.eventParams.dragging){var t=this.body.util.toScreen(this.eventParams.customTime)+n.deltaX,i=this.body.util.toTime(t);this.setCustomTime(i);this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:u.elementsCensor(n)});n.stopPropagation()}};r.prototype._onDragEnd=function(n){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:u.elementsCensor(n)}),n.stopPropagation())};r.customTimeFromTarget=function(n){for(var t=n.target;t;){if(t.hasOwnProperty("custom-time"))return t["custom-time"];t=t.parentNode}return null};n.exports=r},function(n,t){t.en={current:"current",time:"time"};t.en_EN=t.en;t.en_US=t.en;t.it={current:"attuale",time:"tempo"};t.it_IT=t.it;t.it_CH=t.it;t.nl={current:"huidige",time:"tijd"};t.nl_NL=t.nl;t.nl_BE=t.nl;t.de={current:"Aktuelle",time:"Zeit"};t.de_DE=t.de},function(n,t,i){function r(n,t){this.body=n;this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:e,locales:o,locale:"en"};this.options=u.extend({},this.defaultOptions);this.offset=0;this._create();this.setOptions(t)}var u=i(1),f=i(124),e=i(84),o=i(141);r.prototype=new f;r.prototype._create=function(){var n=document.createElement("div");n.className="vis-current-time";n.style.position="absolute";n.style.top="0px";n.style.height="100%";this.bar=n};r.prototype.destroy=function(){this.options.showCurrentTime=!1;this.redraw();this.body=null};r.prototype.setOptions=function(n){n&&u.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,n)};r.prototype.redraw=function(){var i,n;if(this.options.showCurrentTime){i=this.body.dom.backgroundVertical;this.bar.parentNode!=i&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),i.appendChild(this.bar),this.start());var r=this.options.moment((new Date).valueOf()+this.offset),u=this.body.util.toScreen(r),t=this.options.locales[this.options.locale];t||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),t=this.options.locales.en);n=t.current+" "+t.time+": "+r.format("dddd, MMMM Do YYYY, H:mm:ss");n=n.charAt(0).toUpperCase()+n.substring(1);this.options.rtl?this.bar.style.right=u+"px":this.bar.style.left=u+"px";this.bar.title=n}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1};r.prototype.start=function(){function t(){n.stop();var r=n.body.range.conversion(n.body.domProps.center.width).scale,i=1/r/10;i<30&&(i=30);i>1e3&&(i=1e3);n.redraw();n.body.emitter.emit("currentTimeTick");n.currentTimeTimer=setTimeout(t,i)}var n=this;t()};r.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)};r.prototype.setCurrentTime=function(n){var t=u.convert(n,"Date").valueOf(),i=(new Date).valueOf();this.offset=t-i;this.redraw()};r.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)};n.exports=r},function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i="string",r="boolean",u="number",s="array",e="date",f="object",o="moment",h={configure:{enabled:{boolean:r},filter:{boolean:r,"function":"function"},container:{dom:"dom"},__type__:{object:f,boolean:r,"function":"function"}},align:{string:i},rtl:{boolean:r,undefined:"undefined"},rollingMode:{boolean:r,undefined:"undefined"},verticalScroll:{boolean:r,undefined:"undefined"},horizontalScroll:{boolean:r,undefined:"undefined"},autoResize:{boolean:r},throttleRedraw:{number:u},clickToUse:{boolean:r},dataAttributes:{string:i,array:s},editable:{add:{boolean:r,undefined:"undefined"},remove:{boolean:r,undefined:"undefined"},updateGroup:{boolean:r,undefined:"undefined"},updateTime:{boolean:r,undefined:"undefined"},overrideItems:{boolean:r,undefined:"undefined"},__type__:{boolean:r,object:f}},end:{number:u,date:e,string:i,moment:o},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:f,"function":"function"}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:f,"function":"function"}},__type__:{object:f}},moment:{"function":"function"},groupOrder:{string:i,"function":"function"},groupEditable:{add:{boolean:r,undefined:"undefined"},remove:{boolean:r,undefined:"undefined"},order:{boolean:r,undefined:"undefined"},__type__:{boolean:r,object:f}},groupOrderSwap:{"function":"function"},height:{string:i,number:u},hiddenDates:{start:{date:e,number:u,string:i,moment:o},end:{date:e,number:u,string:i,moment:o},repeat:{string:i},__type__:{object:f,array:s}},itemsAlwaysDraggable:{boolean:r},locale:{string:i},locales:{__any__:{any:"any"},__type__:{object:f}},margin:{axis:{number:u},item:{horizontal:{number:u,undefined:"undefined"},vertical:{number:u,undefined:"undefined"},__type__:{object:f,number:u}},__type__:{object:f,number:u}},max:{date:e,number:u,string:i,moment:o},maxHeight:{number:u,string:i},maxMinorChars:{number:u},min:{date:e,number:u,string:i,moment:o},minHeight:{number:u,string:i},moveable:{boolean:r},multiselect:{boolean:r},multiselectPerGroup:{boolean:r},onAdd:{"function":"function"},onUpdate:{"function":"function"},onMove:{"function":"function"},onMoving:{"function":"function"},onRemove:{"function":"function"},onAddGroup:{"function":"function"},onMoveGroup:{"function":"function"},onRemoveGroup:{"function":"function"},order:{"function":"function"},orientation:{axis:{string:i,undefined:"undefined"},item:{string:i,undefined:"undefined"},__type__:{string:i,object:f}},selectable:{boolean:r},showCurrentTime:{boolean:r},showMajorLabels:{boolean:r},showMinorLabels:{boolean:r},stack:{boolean:r},stackSubgroups:{boolean:r},snap:{"function":"function","null":"null"},start:{date:e,number:u,string:i,moment:o},template:{"function":"function"},groupTemplate:{"function":"function"},visibleFrameTemplate:{string:i,"function":"function"},tooltip:{followMouse:{boolean:r},overflowMethod:{string:["cap","flip"]},__type__:{object:f}},tooltipOnItemUpdateTime:{template:{"function":"function"},__type__:{boolean:r,object:f}},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:u,undefined:"undefined"},__type__:{object:f}},type:{string:i},width:{string:i,number:u},zoomable:{boolean:r},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:u},zoomMin:{number:u},__type__:{object:f}};t.allOptions=h;t.configureOptions={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,start:"",tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}}},function(n,t,i){function o(n){return n&&n.__esModule?n:{"default":n}}function u(n,t,i,u){var s,o;!(Array.isArray(i)||i instanceof f||i instanceof e)&&i instanceof Object&&(s=u,u=i,i=s);u&&u.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');o=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:v,width:null,height:null,maxHeight:null,minHeight:null};this.options=r.deepExtend({},this.defaultOptions);this._create(n);this.components=[];this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:o._toScreen.bind(o),toGlobalScreen:o._toGlobalScreen.bind(o),toTime:o._toTime.bind(o),toGlobalTime:o._toGlobalTime.bind(o)}};this.range=new y(this.body);this.components.push(this.range);this.body.range=this.range;this.timeAxis=new p(this.body);this.components.push(this.timeAxis);this.currentTime=new w(this.body);this.components.push(this.currentTime);this.linegraph=new k(this.body);this.components.push(this.linegraph);this.itemsData=null;this.groupsData=null;this.on("tap",function(n){o.emit("click",o.getEventProperties(n))});this.on("doubletap",function(n){o.emit("doubleClick",o.getEventProperties(n))});this.dom.root.oncontextmenu=function(n){o.emit("contextmenu",o.getEventProperties(n))};u&&this.setOptions(u);i&&this.setGroups(i);t&&this.setItems(t);this._redraw()}var h=i(114),c=o(h),l=i(122),a=o(l),v=(i(95),i(108),i(84)),r=i(1),f=i(91),e=i(93),y=i(123),s=i(126),p=i(138),w=i(142),b=i(140),k=i(145),d=i(122).printStyle,g=i(153).allOptions,nt=i(153).configureOptions;u.prototype=new s;u.prototype.setOptions=function(n){var t=a.default.validate(n,g);t===!0&&console.log("%cErrors have been found in the supplied options object.",d);s.prototype.setOptions.call(this,n)};u.prototype.setItems=function(n){var t,u=null==this.itemsData,i,r;(t=n?n instanceof f||n instanceof e?n:new f(n,{type:{start:"Date",end:"Date"}}):null,this.itemsData=t,this.linegraph&&this.linegraph.setItems(t),u)&&(void 0!=this.options.start||void 0!=this.options.end?(i=void 0!=this.options.start?this.options.start:null,r=void 0!=this.options.end?this.options.end:null,this.setWindow(i,r,{animation:!1})):this.fit({animation:!1}))};u.prototype.setGroups=function(n){var t;t=n?n instanceof f||n instanceof e?n:new f(n):null;this.groupsData=t;this.linegraph.setGroups(t)};u.prototype.getLegend=function(n,t,i){return void 0===t&&(t=15),void 0===i&&(i=15),void 0!==this.linegraph.groups[n]?this.linegraph.groups[n].getLegend(t,i):"cannot find group:'"+n+"'"};u.prototype.isGroupVisible=function(n){return void 0!==this.linegraph.groups[n]&&this.linegraph.groups[n].visible&&(void 0===this.linegraph.options.groups.visibility[n]||1==this.linegraph.options.groups.visibility[n])};u.prototype.getDataRange=function(){var t=null,i=null,u,f,e,n;for(u in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(u)&&1==this.linegraph.groups[u].visible)for(f=0;f<this.linegraph.groups[u].itemsData.length;f++)e=this.linegraph.groups[u].itemsData[f],n=r.convert(e.x,"Date").valueOf(),t=null==t?n:t>n?n:t,i=null==i?n:i<n?n:i;return{min:null!=t?new Date(t):null,max:null!=i?new Date(i):null}};u.prototype.getEventProperties=function(n){var h=n.center?n.center.x:n.clientX,c=n.center?n.center.y:n.clientY,e=h-r.getAbsoluteLeft(this.dom.centerContainer),u=c-r.getAbsoluteTop(this.dom.centerContainer),l=this._toTime(e),a=b.customTimeFromTarget(n),i=r.getTarget(n),t=null;r.hasParent(i,this.timeAxis.dom.foreground)?t="axis":this.timeAxis2&&r.hasParent(i,this.timeAxis2.dom.foreground)?t="axis":r.hasParent(i,this.linegraph.yAxisLeft.dom.frame)?t="data-axis":r.hasParent(i,this.linegraph.yAxisRight.dom.frame)?t="data-axis":r.hasParent(i,this.linegraph.legendLeft.dom.frame)?t="legend":r.hasParent(i,this.linegraph.legendRight.dom.frame)?t="legend":null!=a?t="custom-time":r.hasParent(i,this.currentTime.bar)?t="current-time":r.hasParent(i,this.dom.center)&&(t="background");var f=[],o=this.linegraph.yAxisLeft,s=this.linegraph.yAxisRight;return!o.hidden&&this.itemsData.length>0&&f.push(o.screenToValue(u)),!s.hidden&&this.itemsData.length>0&&f.push(s.screenToValue(u)),{event:n,what:t,pageX:n.srcEvent?n.srcEvent.pageX:n.pageX,pageY:n.srcEvent?n.srcEvent.pageY:n.pageY,x:e,y:u,time:l,value:f}};u.prototype._createConfigurator=function(){return new c.default(this,this.dom.container,nt)};n.exports=u},function(n,t,i){function v(n){return n&&n.__esModule?n:{"default":n}}function r(n,t){this.id=u.randomUUID();this.body=n;this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}};this.options=u.extend({},this.defaultOptions);this.dom={};this.props={};this.hammer=null;this.groups={};this.abortedGraphUpdate=!1;this.updateSVGheight=!1;this.updateSVGheightOnResize=!1;this.forceGraphUpdate=!0;var i=this;this.itemsData=null;this.groupsData=null;this.itemListeners={add:function(n,t){i._onAdd(t.items)},update:function(n,t){i._onUpdate(t.items)},remove:function(n,t){i._onRemove(t.items)}};this.groupListeners={add:function(n,t){i._onAddGroups(t.items)},update:function(n,t){i._onUpdateGroups(t.items)},remove:function(n,t){i._onRemoveGroups(t.items)}};this.items={};this.selection=[];this.lastStart=this.body.range.start;this.touchParams={};this.svgElements={};this.setOptions(t);this.groupsUsingDefaultStyles=[0];this.body.emitter.on("rangechanged",function(){i.lastStart=i.body.range.start;i.svg.style.left=u.option.asSize(-i.props.width);i.forceGraphUpdate=!0;i.redraw.call(i)});this._create();this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}var y=i(62),p=v(y),u=i(1),o=i(90),h=i(91),c=i(93),w=i(124),l=i(146),b=i(148),a=i(152),s=i(149),f=i(151),k=i(150),e="__ungrouped__";r.prototype=new w;r.prototype._create=function(){var n=document.createElement("div");n.className="vis-line-graph";this.dom.frame=n;this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="relative";this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px";this.svg.style.display="block";n.appendChild(this.svg);this.options.dataAxis.orientation="left";this.yAxisLeft=new l(this.body,this.options.dataAxis,this.svg,this.options.groups);this.options.dataAxis.orientation="right";this.yAxisRight=new l(this.body,this.options.dataAxis,this.svg,this.options.groups);delete this.options.dataAxis.orientation;this.legendLeft=new a(this.body,this.options.legend,"left",this.options.groups);this.legendRight=new a(this.body,this.options.legend,"right",this.options.groups);this.show()};r.prototype.setOptions=function(n){if(n)void 0===n.graphHeight&&void 0!==n.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==n.graphHeight&&parseInt((n.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),u.selectiveDeepExtend(["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"],this.options,n),u.mergeOptions(this.options,n,"interpolation"),u.mergeOptions(this.options,n,"drawPoints"),u.mergeOptions(this.options,n,"shaded"),u.mergeOptions(this.options,n,"legend"),n.interpolation&&"object"==p.default(n.interpolation)&&n.interpolation.parametrization&&("uniform"==n.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==n.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==n.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==n.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(e)&&this.groups[e].setOptions(n);this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))};r.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};r.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};r.prototype.setItems=function(n){var t,f=this,i=this.itemsData,r;if(n){if(!(n instanceof h||n instanceof c))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=n}else this.itemsData=null;(i&&(u.forEach(this.itemListeners,function(n,t){i.off(t,n)}),t=i.getIds(),this._onRemove(t)),this.itemsData)&&(r=this.id,u.forEach(this.itemListeners,function(n,t){f.itemsData.on(t,n,r)}),t=this.itemsData.getIds(),this._onAdd(t))};r.prototype.setGroups=function(n){var t,r=this,i,f;if(this.groupsData)for(u.forEach(this.groupListeners,function(n,t){r.groupsData.off(t,n)}),t=this.groupsData.getIds(),this.groupsData=null,i=0;i<t.length;i++)this._removeGroup(t[i]);if(n){if(!(n instanceof h||n instanceof c))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=n}else this.groupsData=null;this.groupsData&&(f=this.id,u.forEach(this.groupListeners,function(n,t){r.groupsData.on(t,n,f)}),t=this.groupsData.getIds(),this._onAddGroups(t))};r.prototype._onUpdate=function(n){this._updateAllGroupData(n)};r.prototype._onAdd=function(n){this._onUpdate(n)};r.prototype._onRemove=function(n){this._onUpdate(n)};r.prototype._onUpdateGroups=function(n){this._updateAllGroupData(null,n)};r.prototype._onAddGroups=function(n){this._onUpdateGroups(n)};r.prototype._onRemoveGroups=function(n){for(var t=0;t<n.length;t++)this._removeGroup(n[t]);this.forceGraphUpdate=!0;this.body.emitter.emit("_change",{queue:!0})};r.prototype._removeGroup=function(n){this.groups.hasOwnProperty(n)&&("right"==this.groups[n].options.yAxisOrientation?(this.yAxisRight.removeGroup(n),this.legendRight.removeGroup(n),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(n),this.legendLeft.removeGroup(n),this.legendLeft.redraw()),delete this.groups[n])};r.prototype._updateGroup=function(n,t){this.groups.hasOwnProperty(t)?(this.groups[t].update(n),"right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.updateGroup(t,this.groups[t]),this.legendRight.updateGroup(t,this.groups[t]),this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t)):(this.yAxisLeft.updateGroup(t,this.groups[t]),this.legendLeft.updateGroup(t,this.groups[t]),this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t))):(this.groups[t]=new b(n,t,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.addGroup(t,this.groups[t]),this.legendRight.addGroup(t,this.groups[t])):(this.yAxisLeft.addGroup(t,this.groups[t]),this.legendLeft.addGroup(t,this.groups[t])));this.legendLeft.redraw();this.legendRight.redraw()};r.prototype._updateAllGroupData=function(n,t){var o,p,y,s,f,l,w,i,h;if(null!=this.itemsData){var r={},a=this.itemsData.get(),c=this.itemsData._fieldId,v={};for(n&&n.map(function(n){v[n]=n}),o={},s=0;s<a.length;s++)f=a[s],i=f.group,null!==i&&void 0!==i||(i=e),o.hasOwnProperty(i)?o[i]++:o[i]=1;if(!t&&n)for(i in this.groups)this.groups.hasOwnProperty(i)&&(h=this.groups[i],p=h.getItems(),r[i]=p.filter(function(n){return n[c]!==v[n[c]]}),y=o[i],o[i]-=r[i].length,r[i].length<y&&(r[i][y-1]={}));for(s=0;s<a.length;s++)f=a[s],i=f.group,(null!==i&&void 0!==i||(i=e),t||!n||f[c]===v[f[c]])&&(r.hasOwnProperty(i)||(r[i]=new Array(o[i])),l=u.bridgeObject(f),l.x=u.convert(f.x,"Date"),l.orginalY=f.y,l.y=Number(f.y),l[c]=f[c],w=r[i].length-o[i]--,r[i][w]=l);for(i in this.groups)this.groups.hasOwnProperty(i)&&(r.hasOwnProperty(i)||(r[i]=new Array(0)));for(i in r)r.hasOwnProperty(i)&&(0==r[i].length?this.groups.hasOwnProperty(i)&&this._removeGroup(i):(h=void 0,void 0!=this.groupsData&&(h=this.groupsData.get(i)),void 0==h&&(h={id:i,content:this.options.defaultGroup+i}),this._updateGroup(h,i),this.groups[i].setItems(r[i])));this.forceGraphUpdate=!0;this.body.emitter.emit("_change",{queue:!0})}};r.prototype.redraw=function(){var n=!1,t,i,r,f,e,o;return this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,n=this._isResized()||n,t=this.body.range.end-this.body.range.start,i=t!=this.lastVisibleInterval,(this.lastVisibleInterval=t,1==n&&(this.svg.style.width=u.option.asSize(3*this.props.width),this.svg.style.left=u.option.asSize(-this.props.width),(this.options.height+"").indexOf("%")==-1&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==n||1==i||1==this.abortedGraphUpdate||1==this.forceGraphUpdate)?(n=this._updateGraph()||n,this.forceGraphUpdate=!1):0!=this.lastStart&&(r=this.body.range.start-this.lastStart,f=this.body.range.end-this.body.range.start,0!=this.props.width&&(e=this.props.width/f,o=r*e,this.svg.style.left=-this.props.width-o+"px")),this.legendLeft.redraw(),this.legendRight.redraw(),n};r.prototype._getSortedGroupIds=function(){var t=[],n,r,f,i;for(n in this.groups)this.groups.hasOwnProperty(n)&&(r=this.groups[n],1!=r.visible||void 0!==this.options.groups.visibility[n]&&1!=this.options.groups.visibility[n]||t.push({id:n,zIndex:r.options.zIndex}));for(u.insertSort(t,function(n,t){var i=n.zIndex,r=t.zIndex;return void 0===i&&(i=0),void 0===r&&(r=0),i==r?0:i<r?-1:1}),f=new Array(t.length),i=0;i<t.length;i++)f[i]=t[i].id;return f};r.prototype._updateGraph=function(){var r,e,u,c,h;if(o.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var n,t,l={},a=!1,v=this.body.util.toGlobalTime(-this.body.domProps.root.width),y=this.body.util.toGlobalTime(2*this.body.domProps.root.width),i=this._getSortedGroupIds();if(i.length>0){for(r={},this._getRelevantData(i,r,v,y),this._applySampling(i,r),t=0;t<i.length;t++)this._convertXcoordinates(r[i[t]]);if(this._getYRanges(i,r,l),a=this._updateYAxis(i,l),1==a)return o.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,!0;for(this.abortedGraphUpdate=!1,e=void 0,t=0;t<i.length;t++)n=this.groups[i[t]],this.options.stack===!0&&"line"===this.options.style&&(void 0!=n.options.excludeFromStacking&&n.options.excludeFromStacking||(void 0!=e&&(this._stack(r[n.id],r[e.id]),1==n.options.shaded.enabled&&"group"!==n.options.shaded.orientation&&("top"==n.options.shaded.orientation&&"group"!==e.options.shaded.orientation?(e.options.shaded.orientation="group",e.options.shaded.groupId=n.id):(n.options.shaded.orientation="group",n.options.shaded.groupId=e.id))),e=n)),this._convertYcoordinates(r[i[t]],n);for(u={},t=0;t<i.length;t++)if(n=this.groups[i[t]],"line"===n.options.style&&1==n.options.shaded.enabled){if(c=r[i[t]],null==c||0==c.length)continue;if(u.hasOwnProperty(i[t])||(u[i[t]]=f.calcPath(c,n)),"group"===n.options.shaded.orientation){if(h=n.options.shaded.groupId,i.indexOf(h)===-1){console.log(n.id+": Unknown shading group target given:"+h);continue}u.hasOwnProperty(h)||(u[h]=f.calcPath(r[h],this.groups[h]));f.drawShading(u[i[t]],n,u[h],this.framework)}else f.drawShading(u[i[t]],n,void 0,this.framework)}for(s.draw(i,r,this.framework),t=0;t<i.length;t++)if(n=this.groups[i[t]],r[i[t]].length>0)switch(n.options.style){case"line":u.hasOwnProperty(i[t])||(u[i[t]]=f.calcPath(r[i[t]],n));f.draw(u[i[t]],n,this.framework);case"point":case"points":"point"!=n.options.style&&"points"!=n.options.style&&1!=n.options.drawPoints.enabled||k.draw(r[i[t]],n,this.framework)}}}return o.cleanupElements(this.svgElements),!1};r.prototype._stack=function(n,t){for(var o,s,f,r,i,e=0,u=0;u<n.length;u++){for(f=void 0,r=void 0,i=e;i<t.length;i++){if(t[i].x===n[u].x){f=t[i];r=t[i];e=i;break}if(t[i].x>n[u].x){r=t[i];f=0==i?r:t[i-1];e=i;break}}void 0===r&&(f=t[t.length-1],r=t[t.length-1]);o=r.x-f.x;s=r.y-f.y;n[u].y=0==o?n[u].orginalY+r.y:n[u].orginalY+s/o*(n[u].x-f.x)+f.y}};r.prototype._getRelevantData=function(n,t,i,r){var e,f,o,a,s,l;if(n.length>0)for(f=0;f<n.length;f++)if(e=this.groups[n[f]],s=e.getItems(),1==e.options.sort){var v=function(n,t){return n.getTime()==t.getTime()?0:n<t?-1:1},c=Math.max(0,u.binarySearchValue(s,i,"x","before",v)),h=Math.min(s.length,u.binarySearchValue(s,r,"x","after",v)+1);for(h<=0&&(h=s.length),l=new Array(h-c),o=c;o<h;o++)a=e.itemsData[o],l[o-c]=a;t[n[f]]=l}else t[n[f]]=e.itemsData};r.prototype._applySampling=function(n,t){var s,r,i,o,f,h;if(n.length>0)for(r=0;r<n.length;r++)if((s=this.groups[n[r]],1==s.options.sampling)&&(i=t[n[r]],i.length>0)){var e=1,u=i.length,c=this.body.util.toGlobalScreen(i[i.length-1].x)-this.body.util.toGlobalScreen(i[0].x),l=u/c;for(e=Math.min(Math.ceil(.2*u),Math.max(1,Math.round(l))),o=new Array(u),f=0;f<u;f+=e)h=Math.round(f/e),o[h]=i[f];t[n[r]]=o.splice(0,Math.round(u/e))}};r.prototype._getYRanges=function(n,t,i){var e,u,r,f,o=[],h=[];if(n.length>0){for(r=0;r<n.length;r++)e=t[n[r]],f=this.groups[n[r]].options,e.length>0&&(u=this.groups[n[r]],f.stack===!0&&"bar"===f.style?"left"===f.yAxisOrientation?o=o.concat(u.getItems()):h=h.concat(u.getItems()):i[n[r]]=u.getYRange(e,n[r]));s.getStackedYRange(o,i,n,"__barStackLeft","left");s.getStackedYRange(h,i,n,"__barStackRight","right")}};r.prototype._updateYAxis=function(n,t){var e,o,r=!1,u=!1,f=!1,s=1e9,h=1e9,c=-1e9,l=-1e9,a,v,i;if(n.length>0){for(i=0;i<n.length;i++)a=this.groups[n[i]],a&&"right"!=a.options.yAxisOrientation?(u=!0,s=1e9,c=-1e9):a&&a.options.yAxisOrientation&&(f=!0,h=1e9,l=-1e9);for(i=0;i<n.length;i++)t.hasOwnProperty(n[i])&&t[n[i]].ignore!==!0&&(e=t[n[i]].min,o=t[n[i]].max,"right"!=t[n[i]].yAxisOrientation?(u=!0,s=s>e?e:s,c=c<o?o:c):(f=!0,h=h>e?e:h,l=l<o?o:l));1==u&&this.yAxisLeft.setRange(s,c);1==f&&this.yAxisRight.setRange(h,l)}for(r=this._toggleAxisVisiblity(u,this.yAxisLeft)||r,r=this._toggleAxisVisiblity(f,this.yAxisRight)||r,1==f&&1==u?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!u,this.yAxisRight.masterAxis=this.yAxisLeft,0==this.yAxisRight.master?(this.yAxisLeft.lineOffset=1==f?this.yAxisRight.width:0,r=this.yAxisLeft.redraw()||r,r=this.yAxisRight.redraw()||r):r=this.yAxisRight.redraw()||r,v=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"],i=0;i<v.length;i++)n.indexOf(v[i])!=-1&&n.splice(n.indexOf(v[i]),1);return r};r.prototype._toggleAxisVisiblity=function(n,t){var i=!1;return 0==n?t.dom.frame.parentNode&&0==t.hidden&&(t.hide(),i=!0):t.dom.frame.parentNode||1!=t.hidden||(t.show(),i=!0),i};r.prototype._convertXcoordinates=function(n){for(var i=this.body.util.toScreen,t=0;t<n.length;t++)n[t].screen_x=i(n[t].x)+this.props.width,n[t].screen_y=n[t].y};r.prototype._convertYcoordinates=function(n,t){var r=this.yAxisLeft,u=Number(this.svg.style.height.replace("px","")),i;for("right"==t.options.yAxisOrientation&&(r=this.yAxisRight),i=0;i<n.length;i++)n[i].screen_y=Math.round(r.convertValue(n[i].y));t.setZeroPosition(Math.min(u,r.convertValue(0)))};n.exports=r},function(n,t,i){function e(n){return n&&n.__esModule?n:{"default":n}}function r(n,t,i,r){this.id=f.randomUUID();this.body=n;this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(n){return""+parseFloat(n.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(n){return""+parseFloat(n.toPrecision(3))},title:{text:void 0,style:void 0}}};this.linegraphOptions=r;this.linegraphSVG=i;this.props={};this.DOMelements={lines:{},labels:{},title:{}};this.dom={};this.scale=void 0;this.range={start:0,end:0};this.options=f.extend({},this.defaultOptions);this.conversionFactor=1;this.setOptions(t);this.width=Number((""+this.options.width).replace("px",""));this.minWidth=this.width;this.height=this.linegraphSVG.getBoundingClientRect().height;this.hidden=!1;this.stepPixels=25;this.zeroCrossing=-1;this.amountOfSteps=-1;this.lineOffset=0;this.master=!0;this.masterAxis=null;this.svgElements={};this.iconsRemoved=!1;this.groups={};this.amountOfGroups=0;this._create();this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var u=this;this.body.emitter.on("verticalDrag",function(){u.dom.lineContainer.style.top=u.body.domProps.scrollTop+"px"})}var o=i(58),s=e(o),f=i(1),u=i(90),h=i(124),c=i(147);r.prototype=new h;r.prototype.addGroup=function(n,t){this.groups.hasOwnProperty(n)||(this.groups[n]=t);this.amountOfGroups+=1};r.prototype.updateGroup=function(n,t){this.groups.hasOwnProperty(n)||(this.amountOfGroups+=1);this.groups[n]=t};r.prototype.removeGroup=function(n){this.groups.hasOwnProperty(n)&&(delete this.groups[n],this.amountOfGroups-=1)};r.prototype.setOptions=function(n){var t,i;n&&(t=!1,this.options.orientation!=n.orientation&&void 0!==n.orientation&&(t=!0),i=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"],f.selectiveDeepExtend(i,this.options,n),this.minWidth=Number((""+this.options.width).replace("px","")),t===!0&&this.dom.frame&&(this.hide(),this.show()))};r.prototype._create=function(){this.dom.frame=document.createElement("div");this.dom.frame.style.width=this.options.width;this.dom.frame.style.height=this.height;this.dom.lineContainer=document.createElement("div");this.dom.lineContainer.style.width="100%";this.dom.lineContainer.style.height=this.height;this.dom.lineContainer.style.position="relative";this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="absolute";this.svg.style.top="0px";this.svg.style.height="100%";this.svg.style.width="100%";this.svg.style.display="block";this.dom.frame.appendChild(this.svg)};r.prototype._redrawGroupIcons=function(){var i,r,n;u.prepareElements(this.svgElements);var e,o=this.options.iconWidth,f=15,t=4,h=t+.5*f;for(e="left"===this.options.orientation?t:this.width-o-t,i=s.default(this.groups),i.sort(function(n,t){return n<t?-1:1}),r=0;r<i.length;r++)n=i[r],this.groups[n].visible!==!0||void 0!==this.linegraphOptions.visibility[n]&&this.linegraphOptions.visibility[n]!==!0||(this.groups[n].getLegend(o,f,this.framework,e,h),h+=f+t);u.cleanupElements(this.svgElements);this.iconsRemoved=!1};r.prototype._cleanupIcons=function(){this.iconsRemoved===!1&&(u.prepareElements(this.svgElements),u.cleanupElements(this.svgElements),this.iconsRemoved=!0)};r.prototype.show=function(){this.hidden=!1;this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame));this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)};r.prototype.hide=function(){this.hidden=!0;this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame);this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)};r.prototype.setRange=function(n,t){this.range.start=n;this.range.end=t};r.prototype.redraw=function(){var r=!1,u=0,i,t,n;this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px";for(i in this.groups)this.groups.hasOwnProperty(i)&&(this.groups[i].visible!==!0||void 0!==this.linegraphOptions.visibility[i]&&this.linegraphOptions.visibility[i]!==!0||u++);if(0===this.amountOfGroups||0===u)this.hide();else{this.show();this.height=Number(this.linegraphSVG.style.height.replace("px",""));this.dom.lineContainer.style.height=this.height+"px";this.width=this.options.visible===!0?Number((""+this.options.width).replace("px","")):0;t=this.props;n=this.dom.frame;n.className="vis-data-axis";this._calculateCharSize();var f=this.options.orientation,e=this.options.showMinorLabels,o=this.options.showMajorLabels;t.minorLabelHeight=e?t.minorCharHeight:0;t.majorLabelHeight=o?t.majorCharHeight:0;t.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset;t.minorLineHeight=1;t.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset;t.majorLineHeight=1;"left"===f?(n.style.top="0",n.style.left="0",n.style.bottom="",n.style.width=this.width+"px",n.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(n.style.top="",n.style.bottom="0",n.style.left="0",n.style.width=this.width+"px",n.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height);r=this._redrawLabels();r=this._isResized()||r;this.options.icons===!0?this._redrawGroupIcons():this._cleanupIcons();this._redrawTitle(f)}return r};r.prototype._redrawLabels=function(){var n=this,r=!1,o,h,e,i;u.prepareElements(this.DOMelements.lines);u.prepareElements(this.DOMelements.labels);var t=this.options.orientation,f=void 0!=this.options[t].range?this.options[t].range:{},s=!0;return void 0!=f.max&&(this.range.end=f.max,s=!1),o=!0,void 0!=f.min&&(this.range.start=f.min,o=!1),this.scale=new c(this.range.start,this.range.end,o,s,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[t].format),this.master===!1&&void 0!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0,h=this.scale.getLines(),h.forEach(function(i){var r=i.y,u=i.major;n.options.showMinorLabels&&u===!1&&n._redrawLabel(r-2,i.val,t,"vis-y-axis vis-minor",n.props.minorCharHeight);u&&r>=0&&n._redrawLabel(r-2,i.val,t,"vis-y-axis vis-major",n.props.majorCharHeight);n.master===!0&&(u?n._redrawLine(r,t,"vis-grid vis-horizontal vis-major",n.options.majorLinesOffset,n.props.majorLineWidth):n._redrawLine(r,t,"vis-grid vis-horizontal vis-minor",n.options.minorLinesOffset,n.props.minorLineWidth))}),e=0,void 0!==this.options[t].title&&void 0!==this.options[t].title.text&&(e=this.props.titleCharHeight),i=this.options.icons===!0?Math.max(this.options.iconWidth,e)+this.options.labelOffsetX+15:e+this.options.labelOffsetX+15,this.maxLabelSize>this.width-i&&this.options.visible===!0?(this.width=this.maxLabelSize+i,this.options.width=this.width+"px",u.cleanupElements(this.DOMelements.lines),u.cleanupElements(this.DOMelements.labels),this.redraw(),r=!0):this.maxLabelSize<this.width-i&&this.options.visible===!0&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+i),this.options.width=this.width+"px",u.cleanupElements(this.DOMelements.lines),u.cleanupElements(this.DOMelements.labels),this.redraw(),r=!0):(u.cleanupElements(this.DOMelements.lines),u.cleanupElements(this.DOMelements.labels),r=!1),r};r.prototype.convertValue=function(n){return this.scale.convertValue(n)};r.prototype.screenToValue=function(n){return this.scale.screenToValue(n)};r.prototype._redrawLabel=function(n,t,i,r,f){var e=u.getDOMElement("div",this.DOMelements.labels,this.dom.frame),o;e.className=r;e.innerHTML=t;"left"===i?(e.style.left="-"+this.options.labelOffsetX+"px",e.style.textAlign="right"):(e.style.right="-"+this.options.labelOffsetX+"px",e.style.textAlign="left");e.style.top=n-.5*f+this.options.labelOffsetY+"px";t+="";o=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<t.length*o&&(this.maxLabelSize=t.length*o)};r.prototype._redrawLine=function(n,t,i,r,f){if(this.master===!0){var e=u.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);e.className=i;e.innerHTML="";"left"===t?e.style.left=this.width-r+"px":e.style.right=this.width-r+"px";e.style.width=f+"px";e.style.top=n+"px"}};r.prototype._redrawTitle=function(n){if(u.prepareElements(this.DOMelements.title),void 0!==this.options[n].title&&void 0!==this.options[n].title.text){var t=u.getDOMElement("div",this.DOMelements.title,this.dom.frame);t.className="vis-y-axis vis-title vis-"+n;t.innerHTML=this.options[n].title.text;void 0!==this.options[n].title.style&&f.addCssText(t,this.options[n].title.style);"left"===n?t.style.left=this.props.titleCharHeight+"px":t.style.right=this.props.titleCharHeight+"px";t.style.width=this.height+"px"}u.cleanupElements(this.DOMelements.title)};r.prototype._calculateCharSize=function(){var r,n,u,t,f,i;"minorCharHeight"in this.props||(r=document.createTextNode("0"),n=document.createElement("div"),n.className="vis-y-axis vis-minor vis-measure",n.appendChild(r),this.dom.frame.appendChild(n),this.props.minorCharHeight=n.clientHeight,this.props.minorCharWidth=n.clientWidth,this.dom.frame.removeChild(n));"majorCharHeight"in this.props||(u=document.createTextNode("0"),t=document.createElement("div"),t.className="vis-y-axis vis-major vis-measure",t.appendChild(u),this.dom.frame.appendChild(t),this.props.majorCharHeight=t.clientHeight,this.props.majorCharWidth=t.clientWidth,this.dom.frame.removeChild(t));"titleCharHeight"in this.props||(f=document.createTextNode("0"),i=document.createElement("div"),i.className="vis-y-axis vis-title vis-measure",i.appendChild(f),this.dom.frame.appendChild(i),this.props.titleCharHeight=i.clientHeight,this.props.titleCharWidth=i.clientWidth,this.dom.frame.removeChild(i))};n.exports=r},function(n){function t(n,t,i,r,u,f){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],h=arguments.length>7&&void 0!==arguments[7]&&arguments[7],e,o;(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=u,this.majorCharHeight=f,this._start=n,this._end=t,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=s,this.autoScaleStart=i,this.autoScaleEnd=r,this.formattingFunction=h,i||r)&&(e=this,o=function(n){var t=n-n%(e.magnitudefactor*e.minorSteps[e.minorStepIdx]);return n%(e.magnitudefactor*e.minorSteps[e.minorStepIdx])>.5*e.magnitudefactor*e.minorSteps[e.minorStepIdx]?t+e.magnitudefactor*e.minorSteps[e.minorStepIdx]:t},i&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=o(this._start)),r&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=o(this._end)),this.determineScale())}t.prototype.setCharHeight=function(n){this.majorCharHeight=n};t.prototype.setHeight=function(n){this.containerHeight=n};t.prototype.determineScale=function(){var r=this._end-this._start,e,n,u,f,i,t,o;for(this.scale=this.containerHeight/r,e=this.majorCharHeight/this.scale,n=r>0?Math.round(Math.log(r)/Math.LN10):0,this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,n),u=0,n<0&&(u=n),f=!1,i=u;Math.abs(i)<=Math.abs(n);i++){for(this.magnitudefactor=Math.pow(10,i),t=0;t<this.minorSteps.length;t++)if(o=this.magnitudefactor*this.minorSteps[t],o>=e){f=!0;this.minorStepIdx=t;break}if(f===!0)break}};t.prototype.is_major=function(n){return n%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0};t.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]};t.prototype.getFirstMajor=function(){var n=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(n-this._start%n)%n)};t.prototype.formatValue=function(n){var t=n.toPrecision(5);return"function"==typeof this.formattingFunction&&(t=this.formattingFunction(n)),"number"==typeof t?""+t:"string"==typeof t?t:n.toPrecision(5)};t.prototype.getLines=function(){for(var i=[],t=this.getStep(),r=(t-this._start%t)%t,n=this._start+r;this._end-n>1e-5;n+=t)n!=this._start&&i.push({major:this.is_major(n),y:this.convertValue(n),val:this.formatValue(n)});return i};t.prototype.followScale=function(n){var e=this.minorStepIdx,u=this._start,o=this._end,s=this,f=function(){s.magnitudefactor*=2},i=function(){s.magnitudefactor/=2},t,c;n.minorStepIdx<=1&&this.minorStepIdx<=1||n.minorStepIdx>1&&this.minorStepIdx>1||(n.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==e?f():(f(),f())):(this.minorStepIdx=2,1==e?i():(i(),i())));for(var l=(n.getLines(),n.convertValue(0)),a=n.getStep()*n.scale,r=!1,v=0;!r&&v++<5;){this.scale=a/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);t=this.containerHeight/this.scale;this._start=u;this._end=this._start+t;var y=this._end*this.scale,p=this.magnitudefactor*this.majorSteps[this.minorStepIdx],h=this.getFirstMajor()-n.getFirstMajor();if(this.zeroAlign?(c=l-y,this._end+=c/this.scale,this._start=this._end-t):this.autoScaleStart?(this._start-=h/this.scale,this._end=this._start+t):(this._start+=p-h/this.scale,this._end=this._start+t),!this.autoScaleEnd&&this._end>o+1e-5)i(),r=!1;else{if(!this.autoScaleStart&&this._start<u-1e-5){if(!(this.zeroAlign&&u>=0)){i();r=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&t<o-u?(f(),r=!1):r=!0}}};t.prototype.convertValue=function(n){return this.containerHeight-(n-this._start)*this.scale};t.prototype.screenToValue=function(n){return(this.containerHeight-n)/this.scale+this._start};n.exports=t},function(n,t,i){function f(n){return n&&n.__esModule?n:{"default":n}}function r(n,t,i,r){this.id=t;this.options=u.selectiveBridgeObject(["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"],i);this.usingDefaultStyle=void 0===n.className;this.groupsUsingDefaultStyles=r;this.zeroPosition=0;this.update(n);1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1);this.itemsData=[];this.visible=void 0===n.visible||n.visible}var e=i(62),o=f(e),u=i(1),s=(i(90),i(149)),h=i(151),c=i(150);r.prototype.setItems=function(n){null!=n?(this.itemsData=n,1==this.options.sort&&u.insertSort(this.itemsData,function(n,t){return n.x>t.x?1:-1})):this.itemsData=[]};r.prototype.getItems=function(){return this.itemsData};r.prototype.setZeroPosition=function(n){this.zeroPosition=n};r.prototype.setOptions=function(n){if(void 0!==n)u.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"],this.options,n),"function"==typeof n.drawPoints&&(n.drawPoints={onRender:n.drawPoints}),u.mergeOptions(this.options,n,"interpolation"),u.mergeOptions(this.options,n,"drawPoints"),u.mergeOptions(this.options,n,"shaded"),n.interpolation&&"object"==o.default(n.interpolation)&&n.interpolation.parametrization&&("uniform"==n.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==n.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))};r.prototype.update=function(n){this.group=n;this.content=n.content||"graph";this.className=n.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10;this.visible=void 0===n.visible||n.visible;this.style=n.style;this.setOptions(n.options)};r.prototype.getLegend=function(n,t,i,r,u){if(void 0==i||null==i){var f=document.createElementNS("http://www.w3.org/2000/svg","svg");i={svg:f,svgElements:{},options:this.options,groups:[this]}}switch(void 0!=r&&null!=r||(r=0),void 0!=u&&null!=u||(u=.5*t),this.options.style){case"line":h.drawIcon(this,r,u,n,t,i);break;case"points":case"point":c.drawIcon(this,r,u,n,t,i);break;case"bar":s.drawIcon(this,r,u,n,t,i)}return{icon:i.svg,label:this.content,orientation:this.options.yAxisOrientation}};r.prototype.getYRange=function(n){for(var i=n[0].y,r=n[0].y,t=0;t<n.length;t++)i=i>n[t].y?n[t].y:i,r=r<n[t].y?n[t].y:r;return{min:i,max:r,yAxisOrientation:this.options.yAxisOrientation}};n.exports=r},function(n,t,i){function r(){}var u=i(90),f=i(150);r.drawIcon=function(n,t,i,r,f,e){var s=.5*f,h=u.getSVGElement("rect",e.svgElements,e.svg),v;h.setAttributeNS(null,"x",t);h.setAttributeNS(null,"y",i-s);h.setAttributeNS(null,"width",r);h.setAttributeNS(null,"height",2*s);h.setAttributeNS(null,"class","vis-outline");var o=Math.round(.3*r),y=n.options.barChart.width,p=y/o,l=Math.round(.4*f),a=Math.round(.75*f),c=Math.round((r-2*o)/3);(u.drawBar(t+.5*o+c,i+s-l-1,o,l,n.className+" vis-bar",e.svgElements,e.svg,n.style),u.drawBar(t+1.5*o+c+2,i+s-a-1,o,a,n.className+" vis-bar",e.svgElements,e.svg,n.style),1==n.options.drawPoints.enabled)&&(v={style:n.options.drawPoints.style,styles:n.options.drawPoints.styles,size:n.options.drawPoints.size/p,className:n.className},u.drawPoint(t+.5*o+c,i+s-l-1,v,e.svgElements,e.svg),u.drawPoint(t+1.5*o+c+2,i+s-a-1,v,e.svgElements,e.svg))};r.draw=function(n,t,i){for(var y,h,l,s,a,o=[],c={},b=0,p,v,w,k,e=0;e<n.length;e++)if(s=i.groups[n[e]],"bar"===s.options.style&&s.visible===!0&&(void 0===i.options.groups.visibility[n[e]]||i.options.groups.visibility[n[e]]===!0))for(a=0;a<t[n[e]].length;a++)o.push({screen_x:t[n[e]][a].screen_x,screen_y:t[n[e]][a].screen_y,x:t[n[e]][a].x,y:t[n[e]][a].y,groupId:n[e],label:t[n[e]][a].label}),b+=1;if(0!==b)for(o.sort(function(n,t){return n.screen_x===t.screen_x?n.groupId<t.groupId?-1:1:n.screen_x-t.screen_x}),r._getDataIntersections(c,o),e=0;e<o.length;e++)s=i.groups[o[e].groupId],p=void 0!=s.options.barChart.minWidth?s.options.barChart.minWidth:.1*s.options.barChart.width,h=o[e].screen_x,v=0,void 0===c[h]?(e+1<o.length&&(y=Math.abs(o[e+1].screen_x-h)),l=r._getSafeDrawData(y,s,p)):(w=e+(c[h].amount-c[h].resolved),e-(c[h].resolved+1),w<o.length&&(y=Math.abs(o[w].screen_x-h)),l=r._getSafeDrawData(y,s,p),c[h].resolved+=1,s.options.stack===!0&&s.options.excludeFromStacking!==!0?o[e].screen_y<s.zeroPosition?(v=c[h].accumulatedNegative,c[h].accumulatedNegative+=s.zeroPosition-o[e].screen_y):(v=c[h].accumulatedPositive,c[h].accumulatedPositive+=s.zeroPosition-o[e].screen_y):s.options.barChart.sideBySide===!0&&(l.width=l.width/c[h].amount,l.offset+=c[h].resolved*l.width-.5*l.width*(c[h].amount+1))),(u.drawBar(o[e].screen_x+l.offset,o[e].screen_y-v,l.width,s.zeroPosition-o[e].screen_y,s.className+" vis-bar",i.svgElements,i.svg,s.style),s.options.drawPoints.enabled===!0)&&(k={screen_x:o[e].screen_x,screen_y:o[e].screen_y-v,x:o[e].x,y:o[e].y,groupId:o[e].groupId,label:o[e].label},f.draw([k],s,i,l.offset))};r._getDataIntersections=function(n,t){for(var r,i=0;i<t.length;i++)i+1<t.length&&(r=Math.abs(t[i+1].screen_x-t[i].screen_x)),i>0&&(r=Math.min(r,Math.abs(t[i-1].screen_x-t[i].screen_x))),0===r&&(void 0===n[t[i].screen_x]&&(n[t[i].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),n[t[i].screen_x].amount+=1)};r._getSafeDrawData=function(n,t,i){var u,r;return n<t.options.barChart.width&&n>0?(u=n<i?i:n,r=0,"left"===t.options.barChart.align?r-=.5*n:"right"===t.options.barChart.align&&(r+=.5*n)):(u=t.options.barChart.width,r=0,"left"===t.options.barChart.align?r-=.5*t.options.barChart.width:"right"===t.options.barChart.align&&(r+=.5*t.options.barChart.width)),{width:u,offset:r}};r.getStackedYRange=function(n,t,i,u,f){if(n.length>0){n.sort(function(n,t){return n.screen_x===t.screen_x?n.groupId<t.groupId?-1:1:n.screen_x-t.screen_x});var e={};r._getDataIntersections(e,n);t[u]=r._getStackedYRange(e,n);t[u].yAxisOrientation=f;i.push(u)}};r._getStackedYRange=function(n,t){for(var f,e,i=t[0].screen_y,r=t[0].screen_y,u=0;u<t.length;u++)e=t[u].screen_x,void 0===n[e]?(i=i>t[u].screen_y?t[u].screen_y:i,r=r<t[u].screen_y?t[u].screen_y:r):t[u].screen_y<0?n[e].accumulatedNegative+=t[u].screen_y:n[e].accumulatedPositive+=t[u].screen_y;for(f in n)n.hasOwnProperty(f)&&(i=i>n[f].accumulatedNegative?n[f].accumulatedNegative:i,i=i>n[f].accumulatedPositive?n[f].accumulatedPositive:i,r=r<n[f].accumulatedNegative?n[f].accumulatedNegative:r,r=r<n[f].accumulatedPositive?n[f].accumulatedPositive:r);return{min:i,max:r}};n.exports=r},function(n,t,i){function e(n){return n&&n.__esModule?n:{"default":n}}function u(){}function f(n,t){return t="undefined"==typeof t?{}:t,{style:t.style||n.options.drawPoints.style,styles:t.styles||n.options.drawPoints.styles,size:t.size||n.options.drawPoints.size,className:t.className||n.className}}function o(n,t){var i=void 0;return n.options&&n.options.drawPoints&&n.options.drawPoints.onRender&&"function"==typeof n.options.drawPoints.onRender&&(i=n.options.drawPoints.onRender),t.group.options&&t.group.options.drawPoints&&t.group.options.drawPoints.onRender&&"function"==typeof t.group.options.drawPoints.onRender&&(i=t.group.options.drawPoints.onRender),i}var s=i(62),h=e(s),r=i(90);u.draw=function(n,t,i,u){var c,e,s;for(u=u||0,c=o(i,t),e=0;e<n.length;e++)c?(s=c(n[e],t),s!==!0&&"object"!==("undefined"==typeof s?"undefined":h.default(s))||r.drawPoint(n[e].screen_x+u,n[e].screen_y,f(t,s),i.svgElements,i.svg,n[e].label)):r.drawPoint(n[e].screen_x+u,n[e].screen_y,f(t),i.svgElements,i.svg,n[e].label)};u.drawIcon=function(n,t,i,u,e,o){var h=.5*e,s=r.getSVGElement("rect",o.svgElements,o.svg);s.setAttributeNS(null,"x",t);s.setAttributeNS(null,"y",i-h);s.setAttributeNS(null,"width",u);s.setAttributeNS(null,"height",2*h);s.setAttributeNS(null,"class","vis-outline");r.drawPoint(t+.5*u,i,f(n),o.svgElements,o.svg)};n.exports=u},function(n,t,i){function r(){}var u=i(90);r.calcPath=function(n,t){if(null!=n&&n.length>0)return 1==t.options.interpolation.enabled?r._catmullRom(n,t):r._linear(n)};r.drawIcon=function(n,t,i,r,f,e){var c,s,o=.5*f,h=u.getSVGElement("rect",e.svgElements,e.svg),l;(h.setAttributeNS(null,"x",t),h.setAttributeNS(null,"y",i-o),h.setAttributeNS(null,"width",r),h.setAttributeNS(null,"height",2*o),h.setAttributeNS(null,"class","vis-outline"),c=u.getSVGElement("path",e.svgElements,e.svg),c.setAttributeNS(null,"class",n.className),void 0!==n.style&&c.setAttributeNS(null,"style",n.style),c.setAttributeNS(null,"d","M"+t+","+i+" L"+(t+r)+","+i),1==n.options.shaded.enabled&&(s=u.getSVGElement("path",e.svgElements,e.svg),"top"==n.options.shaded.orientation?s.setAttributeNS(null,"d","M"+t+", "+(i-o)+"L"+t+","+i+" L"+(t+r)+","+i+" L"+(t+r)+","+(i-o)):s.setAttributeNS(null,"d","M"+t+","+i+" L"+t+","+(i+o)+" L"+(t+r)+","+(i+o)+"L"+(t+r)+","+i),s.setAttributeNS(null,"class",n.className+" vis-icon-fill"),void 0!==n.options.shaded.style&&""!==n.options.shaded.style&&s.setAttributeNS(null,"style",n.options.shaded.style)),1==n.options.drawPoints.enabled)&&(l={style:n.options.drawPoints.style,styles:n.options.drawPoints.styles,size:n.options.drawPoints.size,className:n.className},u.drawPoint(t+.5*r,i,l,e.svgElements,e.svg))};r.drawShading=function(n,t,i,r){var h,o;if(1==t.options.shaded.enabled){var s=Number(r.svg.style.height.replace("px","")),e=u.getSVGElement("path",r.svgElements,r.svg),f="L";1==t.options.interpolation.enabled&&(f="C");o=0;o="top"==t.options.shaded.orientation?0:"bottom"==t.options.shaded.orientation?s:Math.min(Math.max(0,t.zeroPosition),s);h="group"==t.options.shaded.orientation&&null!=i&&void 0!=i?"M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,f,!1)+" L"+i[i.length-1][0]+","+i[i.length-1][1]+" "+this.serializePath(i,f,!0)+i[0][0]+","+i[0][1]+" Z":"M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,f,!1)+" V"+o+" H"+n[0][0]+" Z";e.setAttributeNS(null,"class",t.className+" vis-fill");void 0!==t.options.shaded.style&&e.setAttributeNS(null,"style",t.options.shaded.style);e.setAttributeNS(null,"d",h)}};r.draw=function(n,t,i){var r,f;null!=n&&void 0!=n&&(r=u.getSVGElement("path",i.svgElements,i.svg),r.setAttributeNS(null,"class",t.className),void 0!==t.style&&r.setAttributeNS(null,"style",t.style),f="L",1==t.options.interpolation.enabled&&(f="C"),r.setAttributeNS(null,"d","M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,f,!1)))};r.serializePath=function(n,t,i){var u,r;if(n.length<2)return"";if(u=t,i)for(r=n.length-2;r>0;r--)u+=n[r][0]+","+n[r][1]+" ";else for(r=1;r<n.length;r++)u+=n[r][0]+","+n[r][1]+" ";return u};r._catmullRomUniform=function(n){var e,r,t,o,s,h,u=[];u.push([Math.round(n[0].screen_x),Math.round(n[0].screen_y)]);for(var f=1/6,c=n.length,i=0;i<c-1;i++)e=0==i?n[0]:n[i-1],r=n[i],t=n[i+1],o=i+2<c?n[i+2]:t,s={screen_x:(-e.screen_x+6*r.screen_x+t.screen_x)*f,screen_y:(-e.screen_y+6*r.screen_y+t.screen_y)*f},h={screen_x:(r.screen_x+6*t.screen_x-o.screen_x)*f,screen_y:(r.screen_y+6*t.screen_y-o.screen_y)*f},u.push([s.screen_x,s.screen_y]),u.push([h.screen_x,h.screen_y]),u.push([t.screen_x,t.screen_y]);return u};r._catmullRom=function(n,t){var f=t.options.interpolation.alpha,a,r,i,v,o,s,d,g,nt,tt,it,h,c,p,y,w,e,b,k,l,rt,u;if(0==f||void 0===f)return this._catmullRomUniform(n);for(l=[],l.push([Math.round(n[0].screen_x),Math.round(n[0].screen_y)]),rt=n.length,u=0;u<rt-1;u++)a=0==u?n[0]:n[u-1],r=n[u],i=n[u+1],v=u+2<rt?n[u+2]:i,d=Math.sqrt(Math.pow(a.screen_x-r.screen_x,2)+Math.pow(a.screen_y-r.screen_y,2)),g=Math.sqrt(Math.pow(r.screen_x-i.screen_x,2)+Math.pow(r.screen_y-i.screen_y,2)),nt=Math.sqrt(Math.pow(i.screen_x-v.screen_x,2)+Math.pow(i.screen_y-v.screen_y,2)),p=Math.pow(nt,f),w=Math.pow(nt,2*f),y=Math.pow(g,f),e=Math.pow(g,2*f),k=Math.pow(d,f),b=Math.pow(d,2*f),tt=2*b+3*k*y+e,it=2*w+3*p*y+e,h=3*k*(k+y),h>0&&(h=1/h),c=3*p*(p+y),c>0&&(c=1/c),o={screen_x:(-e*a.screen_x+tt*r.screen_x+b*i.screen_x)*h,screen_y:(-e*a.screen_y+tt*r.screen_y+b*i.screen_y)*h},s={screen_x:(w*r.screen_x+it*i.screen_x-e*v.screen_x)*c,screen_y:(w*r.screen_y+it*i.screen_y-e*v.screen_y)*c},0==o.screen_x&&0==o.screen_y&&(o=r),0==s.screen_x&&0==s.screen_y&&(s=i),l.push([o.screen_x,o.screen_y]),l.push([s.screen_x,s.screen_y]),l.push([i.screen_x,i.screen_y]);return l};r._linear=function(n){for(var i=[],t=0;t<n.length;t++)i.push([n[t].screen_x,n[t].screen_y]);return i};n.exports=r},function(n,t,i){function e(n){return n&&n.__esModule?n:{"default":n}}function r(n,t,i,r){this.body=n;this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}};this.side=i;this.options=f.extend({},this.defaultOptions);this.linegraphOptions=r;this.svgElements={};this.dom={};this.groups={};this.amountOfGroups=0;this._create();this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};this.setOptions(t)}var o=i(58),u=e(o),f=i(1),s=i(90),h=i(124);r.prototype=new h;r.prototype.clear=function(){this.groups={};this.amountOfGroups=0};r.prototype.addGroup=function(n,t){1!=t.options.excludeFromLegend&&(this.groups.hasOwnProperty(n)||(this.groups[n]=t),this.amountOfGroups+=1)};r.prototype.updateGroup=function(n,t){this.groups[n]=t};r.prototype.removeGroup=function(n){this.groups.hasOwnProperty(n)&&(delete this.groups[n],this.amountOfGroups-=1)};r.prototype._create=function(){this.dom.frame=document.createElement("div");this.dom.frame.className="vis-legend";this.dom.frame.style.position="absolute";this.dom.frame.style.top="10px";this.dom.frame.style.display="block";this.dom.textArea=document.createElement("div");this.dom.textArea.className="vis-legend-text";this.dom.textArea.style.position="relative";this.dom.textArea.style.top="0px";this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="absolute";this.svg.style.top="0px";this.svg.style.width=this.options.iconSize+5+"px";this.svg.style.height="100%";this.dom.frame.appendChild(this.svg);this.dom.frame.appendChild(this.dom.textArea)};r.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};r.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};r.prototype.setOptions=function(n){f.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,n)};r.prototype.redraw=function(){var f=0,i=u.default(this.groups),e,r,t,n;for(i.sort(function(n,t){return n<t?-1:1}),t=0;t<i.length;t++)n=i[t],1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||f++;if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==f)this.hide();else{for((this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position)?(this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom=""):(e=this.body.domProps.center.height-this.body.domProps.centerContainer.height,this.dom.frame.style.bottom=4+e+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""),0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons()),r="",t=0;t<i.length;t++)n=i[t],1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||(r+=this.groups[n].content+"<br />");this.dom.textArea.innerHTML=r;this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}};r.prototype.drawLegendIcons=function(){var t,i,n;if(this.dom.frame.parentNode){t=u.default(this.groups);t.sort(function(n,t){return n<t?-1:1});s.resetElements(this.svgElements);var h=window.getComputedStyle(this.dom.frame).paddingTop,r=Number(h.replace("px","")),c=r,e=this.options.iconSize,f=.75*this.options.iconSize,o=r+.5*f+3;for(this.svg.style.width=e+5+r+"px",i=0;i<t.length;i++)n=t[i],1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||(this.groups[n].getLegend(e,f,this.framework,c,o),o+=f+this.options.iconSpacing)}};n.exports=r},function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i="string",r="boolean",u="number",e="date",f="object",o="moment",s="any",h={configure:{enabled:{boolean:r},filter:{boolean:r,"function":"function"},container:{dom:"dom"},__type__:{object:f,boolean:r,"function":"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:i},sort:{boolean:r},sampling:{boolean:r},stack:{boolean:r},graphHeight:{string:i,number:u},shaded:{enabled:{boolean:r},orientation:{string:["bottom","top","zero","group"]},groupId:{object:f},__type__:{boolean:r,object:f}},style:{string:["line","bar","points"]},barChart:{width:{number:u},minWidth:{number:u},sideBySide:{boolean:r},align:{string:["left","center","right"]},__type__:{object:f}},interpolation:{enabled:{boolean:r},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:u},__type__:{object:f,boolean:r}},drawPoints:{enabled:{boolean:r},onRender:{"function":"function"},size:{number:u},style:{string:["square","circle"]},__type__:{object:f,boolean:r,"function":"function"}},dataAxis:{showMinorLabels:{boolean:r},showMajorLabels:{boolean:r},icons:{boolean:r},width:{string:i,number:u},visible:{boolean:r},alignZeros:{boolean:r},left:{range:{min:{number:u,undefined:"undefined"},max:{number:u,undefined:"undefined"},__type__:{object:f}},format:{"function":"function"},title:{text:{string:i,number:u,undefined:"undefined"},style:{string:i,undefined:"undefined"},__type__:{object:f}},__type__:{object:f}},right:{range:{min:{number:u,undefined:"undefined"},max:{number:u,undefined:"undefined"},__type__:{object:f}},format:{"function":"function"},title:{text:{string:i,number:u,undefined:"undefined"},style:{string:i,undefined:"undefined"},__type__:{object:f}},__type__:{object:f}},__type__:{object:f}},legend:{enabled:{boolean:r},icons:{boolean:r},left:{visible:{boolean:r},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:f}},right:{visible:{boolean:r},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:f}},__type__:{object:f,boolean:r}},groups:{visibility:{any:s},__type__:{object:f}},autoResize:{boolean:r},throttleRedraw:{number:u},clickToUse:{boolean:r},end:{number:u,date:e,string:i,moment:o},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:f}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:f}},__type__:{object:f}},moment:{"function":"function"},height:{string:i,number:u},hiddenDates:{start:{date:e,number:u,string:i,moment:o},end:{date:e,number:u,string:i,moment:o},repeat:{string:i},__type__:{object:f,array:"array"}},locale:{string:i},locales:{__any__:{any:s},__type__:{object:f}},max:{date:e,number:u,string:i,moment:o},maxHeight:{number:u,string:i},maxMinorChars:{number:u},min:{date:e,number:u,string:i,moment:o},minHeight:{number:u,string:i},moveable:{boolean:r},multiselect:{boolean:r},orientation:{string:i},showCurrentTime:{boolean:r},showMajorLabels:{boolean:r},showMinorLabels:{boolean:r},start:{date:e,number:u,string:i,moment:o},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:u,undefined:"undefined"},__type__:{object:f}},width:{string:i,number:u},zoomable:{boolean:r},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:u},zoomMin:{number:u},zIndex:{number:u},__type__:{object:f}};t.allOptions=h;t.configureOptions={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}}},function(n,t,i){t.util=i(1);t.DOMutil=i(90);t.DataSet=i(91);t.DataView=i(93);t.Queue=i(92);t.Network=i(155);t.network={Images:i(156),dotparser:i(224),gephiParser:i(225),allOptions:i(220)};t.network.convertDot=function(n){return t.network.dotparser.DOTToGraph(n)};t.network.convertGephi=function(n,i){return t.network.gephiParser.parseGephi(n,i)};t.moment=i(84);t.Hammer=i(108);t.keycharm=i(111)},function(n,t,i){function u(n){return n&&n.__esModule?n:{"default":n}}function r(n,t,i){var u=this;if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.options={};this.defaultOptions={locale:"en",locales:ti,clickToUse:!1};f.extend(this.options,this.defaultOptions);this.body={container:n,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}};this.bindEventListeners();this.images=new h.default(function(){return u.body.emitter.emit("_requestRedraw")});this.groups=new l.default;this.canvas=new it.default(this.body);this.selectionHandler=new st.default(this.body,this.canvas);this.interactionHandler=new et.default(this.body,this.canvas,this.selectionHandler);this.view=new ut.default(this.body,this.canvas);this.renderer=new nt.default(this.body,this.canvas);this.physics=new b.default(this.body);this.layoutEngine=new ct.default(this.body);this.clustering=new d.default(this.body);this.manipulation=new at.default(this.body,this.canvas,this.selectionHandler);this.nodesHandler=new v.default(this.body,this.images,this.groups,this.layoutEngine);this.edgesHandler=new p.default(this.body,this.images,this.groups);this.body.modules.kamadaKawai=new bt.default(this.body,150,.05);this.body.modules.clustering=this.clustering;this.canvas._create();this.setOptions(i);this.setData(t)}var s=i(156),h=u(s),c=i(157),l=u(c),a=i(158),v=u(a),y=i(191),p=u(y),w=i(200),b=u(w),k=i(209),d=u(k),g=i(212),nt=u(g),tt=i(213),it=u(tt),rt=i(214),ut=u(rt),ft=i(215),et=u(ft),ot=i(217),st=u(ot),ht=i(218),ct=u(ht),lt=i(219),at=u(lt),vt=i(114),yt=u(vt),e=i(122),pt=u(e),o=i(220),wt=i(221),bt=u(wt);i(223);var kt=i(95),f=i(1),dt=(i(91),i(93),i(224)),gt=i(225),ni=i(139),ti=i(226);kt(r.prototype);r.prototype.setOptions=function(n){var u=this,i,r,t;void 0!==n&&(i=pt.default.validate(n,o.allOptions),i===!0&&console.log("%cErrors have been found in the supplied options object.",e.printStyle),r=["locale","locales","clickToUse"],(f.selectiveDeepExtend(r,this.options,n),n=this.layoutEngine.setOptions(n.layout,n),this.canvas.setOptions(n),this.groups.setOptions(n.groups),this.nodesHandler.setOptions(n.nodes),this.edgesHandler.setOptions(n.edges),this.physics.setOptions(n.physics),this.manipulation.setOptions(n.manipulation,n,this.options),this.interactionHandler.setOptions(n.interaction),this.renderer.setOptions(n.interaction),this.selectionHandler.setOptions(n.interaction),void 0!==n.groups&&this.body.emitter.emit("refreshNodes"),"configure"in n&&(this.configurator||(this.configurator=new yt.default(this,this.body.container,o.configureOptions,this.canvas.pixelRatio)),this.configurator.setOptions(n.configure)),this.configurator&&this.configurator.options.enabled===!0)&&(t={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}},f.deepExtend(t.nodes,this.nodesHandler.options),f.deepExtend(t.edges,this.edgesHandler.options),f.deepExtend(t.layout,this.layoutEngine.options),f.deepExtend(t.interaction,this.selectionHandler.options),f.deepExtend(t.interaction,this.renderer.options),f.deepExtend(t.interaction,this.interactionHandler.options),f.deepExtend(t.manipulation,this.manipulation.options),f.deepExtend(t.physics,this.physics.options),f.deepExtend(t.global,this.canvas.options),f.deepExtend(t.global,this.options),this.configurator.setModuleOptions(t)),void 0!==n.clickToUse?n.clickToUse===!0?void 0===this.activator&&(this.activator=new ni(this.canvas.frame),this.activator.on("change",function(){u.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation"))};r.prototype._updateVisibleIndices=function(){var n=this.body.nodes,t=this.body.edges,i,r;this.body.nodeIndices=[];this.body.edgeIndices=[];for(i in n)n.hasOwnProperty(i)&&n[i].options.hidden===!1&&this.body.nodeIndices.push(n[i].id);for(r in t)t.hasOwnProperty(r)&&t[r].options.hidden===!1&&this.body.edgeIndices.push(t[r].id)};r.prototype.bindEventListeners=function(){var n=this;this.body.emitter.on("_dataChanged",function(){n._updateVisibleIndices();n.body.emitter.emit("_requestRedraw");n.body.emitter.emit("_dataUpdated")});this.body.emitter.on("_dataUpdated",function(){n._updateValueRange(n.body.nodes);n._updateValueRange(n.body.edges);n.body.emitter.emit("startSimulation");n.body.emitter.emit("_requestRedraw")})};r.prototype.setData=function(n){var t,i;if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),n&&n.dot&&(n.nodes||n.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(n&&n.options),n&&n.dot)return console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);"),t=dt.DOTToGraph(n.dot),void this.setData(t);if(n&&n.gephi)return console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);"),i=gt.parseGephi(n.gephi),void this.setData(i);this.nodesHandler.setData(n&&n.nodes,!0);this.edgesHandler.setData(n&&n.edges,!0);this.body.emitter.emit("_dataChanged");this.body.emitter.emit("_dataLoaded");this.body.emitter.emit("initPhysics")};r.prototype.destroy=function(){var n,t;this.body.emitter.emit("destroy");this.body.emitter.off();this.off();delete this.groups;delete this.canvas;delete this.selectionHandler;delete this.interactionHandler;delete this.view;delete this.renderer;delete this.physics;delete this.layoutEngine;delete this.clustering;delete this.manipulation;delete this.nodesHandler;delete this.edgesHandler;delete this.configurator;delete this.images;for(n in this.body.nodes)delete this.body.nodes[n];for(t in this.body.edges)delete this.body.edges[t];f.recursiveDOMDelete(this.body.container)};r.prototype._updateValueRange=function(n){var i,r=void 0,u=void 0,f=0,t;for(i in n)n.hasOwnProperty(i)&&(t=n[i].getValue(),void 0!==t&&(r=void 0===r?t:Math.min(t,r),u=void 0===u?t:Math.max(t,u),f+=t));if(void 0!==r&&void 0!==u)for(i in n)n.hasOwnProperty(i)&&n[i].setValueRange(r,u,f)};r.prototype.isActive=function(){return!this.activator||this.activator.active};r.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};r.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};r.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};r.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};r.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};r.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};r.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};r.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};r.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};r.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};r.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};r.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};r.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};r.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};r.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};r.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};r.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};r.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};r.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};r.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};r.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};r.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};r.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};r.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};r.prototype.getConnectedNodes=function(n){return void 0!==this.body.nodes[n]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};r.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};r.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};r.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};r.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};r.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};r.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};r.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)};r.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)};r.prototype.getNodeAt=function(){var n=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==n&&void 0!==n.id?n.id:n};r.prototype.getEdgeAt=function(){var n=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==n&&void 0!==n.id?n.id:n};r.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};r.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};r.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments);this.redraw()};r.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};r.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};r.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};r.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};r.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};r.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};r.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};r.prototype.getOptionsFromConfigurator=function(){var n={};return this.configurator&&(n=this.configurator.getOptions.apply(this.configurator)),n};n.exports=r},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(115),f=r(u),e=i(116),o=r(e),s=function(){function n(t){f.default(this,n);this.images={};this.imageBroken={};this.callback=t}return o.default(n,[{key:"_addImageToCache",value:function(n,t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t));this.images[n]=t}},{key:"_tryloadBrokenUrl",value:function(n,t,i){var r=this;void 0!==n&&void 0!==t&&void 0!==i&&(i.onerror=function(){console.error("Could not load brokenImage:",t);r._addImageToCache(n,new Image)},i.src=t)}},{key:"_redrawWithImage",value:function(n){this.callback&&this.callback(n)}},{key:"load",value:function(n,t){var r=this,u=this.images[n],i;return u?u:(i=new Image,i.onload=function(){r._addImageToCache(n,i);r._redrawWithImage(i)},i.onerror=function(){console.error("Could not load image:",n);r._tryloadBrokenUrl(n,t,i)},i.src=n,i)}}]),n}();t.default=s},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(115),f=r(u),e=i(116),o=r(e),s=i(1),h=function(){function n(){f.default(this,n);this.clear();this.defaultIndex=0;this.groupsArray=[];this.groupIndex=0;this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}];this.options={};this.defaultOptions={useDefaultGroups:!0};s.extend(this.options,this.defaultOptions)}return o.default(n,[{key:"setOptions",value:function(n){var r=["useDefaultGroups"],t,i;if(void 0!==n)for(t in n)n.hasOwnProperty(t)&&r.indexOf(t)===-1&&(i=n[t],this.add(t,i))}},{key:"clear",value:function(){this.groups={};this.groupsArray=[]}},{key:"get",value:function(n){var t=this.groups[n],i,r;return void 0===t&&(this.options.useDefaultGroups===!1&&this.groupsArray.length>0?(i=this.groupIndex%this.groupsArray.length,this.groupIndex++,t={},t.color=this.groups[this.groupsArray[i]],this.groups[n]=t):(r=this.defaultIndex%this.defaultGroups.length,this.defaultIndex++,t={},t.color=this.defaultGroups[r],this.groups[n]=t)),t}},{key:"add",value:function(n,t){return this.groups[n]=t,this.groupsArray.push(n),t}}]),n}();t.default=h},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(115),s=r(o),h=i(116),c=r(h),l=i(159),e=r(l),a=i(160),v=r(a),u=i(1),f=i(91),y=i(93),p=function(){function n(t,i,r,f){var e=this;s.default(this,n);this.body=t;this.images=i;this.groups=r;this.layoutEngine=f;this.body.functions.createNode=this.create.bind(this);this.nodesListeners={add:function(n,t){e.add(t.items)},update:function(n,t){e.update(t.items,t.data)},remove:function(n,t){e.remove(t.items)}};this.options={};this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(n,t,i,r){if(t===n)return.5;var u=1/(t-n);return Math.max(0,(r-n)*u)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0};u.extend(this.options,this.defaultOptions);this.bindEventListeners()}return c.default(n,[{key:"bindEventListeners",value:function(){var n=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this));this.body.emitter.on("refresh",this.refresh.bind(this));this.body.emitter.on("destroy",function(){u.forEach(n.nodesListeners,function(t,i){n.body.data.nodes&&n.body.data.nodes.off(i,t)});delete n.body.functions.createNode;delete n.nodesListeners.add;delete n.nodesListeners.update;delete n.nodesListeners.remove;delete n.nodesListeners})}},{key:"setOptions",value:function(n){var i,t,r;if(this.nodeOptions=n,void 0!==n){if(e.default.parseOptions(this.options,n),void 0!==n.shape)for(i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&this.body.nodes[i].updateShape();if(void 0!==n.font){v.default.parseOptions(this.options.font,n);for(t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&(this.body.nodes[t].updateLabelModule(),this.body.nodes[t]._reset())}if(void 0!==n.size)for(r in this.body.nodes)this.body.nodes.hasOwnProperty(r)&&this.body.nodes[r]._reset();void 0===n.hidden&&void 0===n.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(n){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.nodes;if(n instanceof f||n instanceof y)this.body.data.nodes=n;else if(Array.isArray(n))this.body.data.nodes=new f,this.body.data.nodes.add(n);else{if(n)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new f}i&&u.forEach(this.nodesListeners,function(n,t){i.off(t,n)});this.body.nodes={};this.body.data.nodes&&!function(){var i=t,n;u.forEach(t.nodesListeners,function(n,t){i.body.data.nodes.on(t,n)});n=t.body.data.nodes.getIds();t.add(n,!0)}();r===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(n){for(var f,r,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=void 0,u=[],i=0;i<n.length;i++)t=n[i],f=this.body.data.nodes.get(t),r=this.create(f),u.push(r),this.body.nodes[t]=r;this.layoutEngine.positionInitially(u);e===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(n,t){for(var f=this.body.nodes,u=!1,i=0;i<n.length;i++){var e=n[i],r=f[e],o=t[i];void 0!==r?u=r.setOptions(o):(u=!0,r=this.create(o),f[e]=r)}u===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(n){for(var r,i=this.body.nodes,t=0;t<n.length;t++)r=n[t],delete i[r];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.default;return new t(n,this.body,this.images,this.groups,this.options,this.defaultOptions,this.nodeOptions)}},{key:"refresh",value:function(){var u=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.body.nodes,t,n,r;for(t in i)n=void 0,i.hasOwnProperty(t)&&(n=i[t]),r=this.body.data.nodes._data[t],void 0!==n&&void 0!==r&&(u===!0&&n.setOptions({x:null,y:null}),n.setOptions({fixed:!1}),n.setOptions(r))}},{key:"getPositions",value:function(n){var r={},t,u,f,i,e;if(void 0!==n)if(Array.isArray(n)===!0)for(t=0;t<n.length;t++)void 0!==this.body.nodes[n[t]]&&(u=this.body.nodes[n[t]],r[n[t]]={x:Math.round(u.x),y:Math.round(u.y)});else void 0!==this.body.nodes[n]&&(f=this.body.nodes[n],r[n]={x:Math.round(f.x),y:Math.round(f.y)});else for(i=0;i<this.body.nodeIndices.length;i++)e=this.body.nodes[this.body.nodeIndices[i]],r[this.body.nodeIndices[i]]={x:Math.round(e.x),y:Math.round(e.y)};return r}},{key:"storePositions",value:function(){var r=[],t=this.body.data.nodes.getDataSet(),i,n;for(i in t._data)t._data.hasOwnProperty(i)&&(n=this.body.nodes[i],t._data[i].x==Math.round(n.x)&&t._data[i].y==Math.round(n.y)||r.push({id:n.id,x:Math.round(n.x),y:Math.round(n.y)}));t.update(r)}},{key:"getBoundingBox",value:function(n){if(void 0!==this.body.nodes[n])return this.body.nodes[n].shape.boundingBox}},{key:"getConnectedNodes",value:function(n){var u=[],t;if(void 0!==this.body.nodes[n])for(var i=this.body.nodes[n],r={},f=0;f<i.edges.length;f++)t=i.edges[f],t.toId==i.id?void 0===r[t.fromId]&&(u.push(t.fromId),r[t.fromId]=!0):t.fromId==i.id&&void 0===r[t.toId]&&(u.push(t.toId),r[t.toId]=!0);return u}},{key:"getConnectedEdges",value:function(n){var r=[],i,t;if(void 0!==this.body.nodes[n])for(i=this.body.nodes[n],t=0;t<i.edges.length;t++)r.push(i.edges[t].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",n);return r}},{key:"moveNode",value:function(n,t,i){var r=this;void 0!==this.body.nodes[n]?(this.body.nodes[n].x=Number(t),this.body.nodes[n].y=Number(i),setTimeout(function(){r.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",n)}}]),n}();t.default=p},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(62),s=r(o),h=i(115),c=r(h),l=i(116),a=r(l),v=i(160),f=r(v),y=i(165),p=r(y),w=i(176),b=r(w),k=i(178),d=r(k),g=i(179),nt=r(g),tt=i(180),it=r(tt),rt=i(182),ut=r(rt),ft=i(183),e=r(ft),et=i(184),ot=r(et),st=i(185),ht=r(st),ct=i(186),lt=r(ct),at=i(187),vt=r(at),yt=i(188),pt=r(yt),wt=i(189),bt=r(wt),kt=i(190),dt=r(kt),gt=i(122),u=(r(gt),i(1)),ni=function(){function n(t,i,r,e,o,s,h){c.default(this,n);this.options=u.bridgeObject(o);this.globalOptions=o;this.defaultOptions=s;this.nodeOptions=h;this.body=i;this.edges=[];this.id=void 0;this.imagelist=r;this.grouplist=e;this.x=void 0;this.y=void 0;this.baseSize=this.options.size;this.baseFontSize=this.options.font.size;this.predefinedPosition=!1;this.selected=!1;this.hover=!1;this.labelModule=new f.default(this.body,this.options,!1);this.setOptions(t)}return a.default(n,[{key:"attachEdge",value:function(n){this.edges.indexOf(n)===-1&&this.edges.push(n)}},{key:"detachEdge",value:function(n){var t=this.edges.indexOf(n);t!=-1&&this.edges.splice(t,1)}},{key:"setOptions",value:function(t){var r=this.options.shape,i;if(t){if(void 0!==t.id&&(this.id=t.id),void 0===this.id)throw"Node must have an id";if((void 0!==t.x&&(null===t.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(t.x),this.predefinedPosition=!0)),void 0!==t.y&&(null===t.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(t.y),this.predefinedPosition=!0)),void 0!==t.size&&(this.baseSize=t.size),void 0!==t.value&&(t.value=parseFloat(t.value)),"number"==typeof t.group||"string"==typeof t.group&&""!=t.group)&&(i=this.grouplist.get(t.group),u.deepExtend(this.options,i),this.options.color=u.parseColor(this.options.color)),n.parseOptions(this.options,t,!0,this.globalOptions),this.choosify(t),void 0!==this.options.image){if(!this.imagelist)throw"No imagelist provided";this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id)}return this.updateLabelModule(t),this.updateShape(r),this.labelModule.propagateFonts(this.nodeOptions,t,this.defaultOptions),void 0!==t.hidden||void 0!==t.physics}}},{key:"choosify",value:function(n){var r,t,i;this.chooser=!0;r=[n,this.options,this.defaultOptions];t=u.topMost(r,"chosen");"boolean"==typeof t?this.chooser=t:"object"===("undefined"==typeof t?"undefined":s.default(t))&&(i=u.topMost(r,["chosen","node"]),"boolean"!=typeof i&&"function"!=typeof i||(this.chooser=i))}},{key:"getFormattingValues",value:function(){var n={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?this.chooser===!0?this.selected?(n.borderWidth*=2,n.color=this.options.color.highlight.background,n.borderColor=this.options.color.highlight.border,n.shadow=this.options.shadow.enabled):this.hover&&(n.color=this.options.color.hover.background,n.borderColor=this.options.color.hover.border,n.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(n,this.options.id,this.selected,this.hover),n.shadow===!1&&(n.shadowColor===this.options.shadow.color&&n.shadowSize===this.options.shadow.size&&n.shadowX===this.options.shadow.x&&n.shadowY===this.options.shadow.y||(n.shadow=!0))):n.shadow=this.options.shadow.enabled,n}},{key:"updateLabelModule",value:function(n){void 0!==this.options.label&&null!==this.options.label||(this.options.label="");this.labelModule.setOptions(this.options,!0);void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize);this.labelModule.constrain(this.nodeOptions,n,this.defaultOptions);this.labelModule.choosify(this.nodeOptions,n,this.defaultOptions)}},{key:"updateShape",value:function(n){if(n===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj);else switch(this.options.shape){case"box":this.shape=new p.default(this.options,this.body,this.labelModule);break;case"circle":this.shape=new b.default(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new d.default(this.options,this.body,this.labelModule,this.imageObj);break;case"database":this.shape=new nt.default(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new it.default(this.options,this.body,this.labelModule);break;case"dot":this.shape=new ut.default(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new e.default(this.options,this.body,this.labelModule);break;case"icon":this.shape=new ot.default(this.options,this.body,this.labelModule);break;case"image":this.shape=new ht.default(this.options,this.body,this.labelModule,this.imageObj);break;case"square":this.shape=new lt.default(this.options,this.body,this.labelModule);break;case"star":this.shape=new vt.default(this.options,this.body,this.labelModule);break;case"text":this.shape=new pt.default(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new bt.default(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new dt.default(this.options,this.body,this.labelModule);break;default:this.shape=new e.default(this.options,this.body,this.labelModule)}this._reset()}},{key:"select",value:function(){this.selected=!0;this._reset()}},{key:"unselect",value:function(){this.selected=!1;this._reset()}},{key:"_reset",value:function(){this.shape.width=void 0;this.shape.height=void 0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(n,t){return this.shape.distanceToBorder(n,t)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(n,t,i){var r,u,f;void 0!==this.options.value?(r=this.options.scaling.customScalingFunction(n,t,i,this.options.value),u=this.options.scaling.max-this.options.scaling.min,this.options.scaling.label.enabled===!0&&(f=this.options.scaling.label.max-this.options.scaling.label.min,this.options.font.size=this.options.scaling.label.min+r*f),this.options.size=this.options.scaling.min+r*u):(this.options.size=this.baseSize,this.options.font.size=this.baseFontSize);this.updateLabelModule()}},{key:"draw",value:function(n){var t=this.getFormattingValues();this.shape.draw(n,this.x,this.y,this.selected,this.hover,t)}},{key:"updateBoundingBox",value:function(n){this.shape.updateBoundingBox(this.x,this.y,n)}},{key:"resize",value:function(n){var t=this.getFormattingValues();this.shape.resize(n,this.selected,this.hover,t)}},{key:"isOverlappingWith",value:function(n){return this.shape.left<n.right&&this.shape.left+this.shape.width>n.left&&this.shape.top<n.bottom&&this.shape.top+this.shape.height>n.top}},{key:"isBoundingBoxOverlappingWith",value:function(n){return this.shape.boundingBox.left<n.right&&this.shape.boundingBox.right>n.left&&this.shape.boundingBox.top<n.bottom&&this.shape.boundingBox.bottom>n.top}}],[{key:"parseOptions",value:function(n,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},e;(u.selectiveNotDeepExtend(["color","font","fixed","shadow"],n,t,i),u.mergeOptions(n,t,"shadow",i,r),void 0!==t.color&&null!==t.color)?(e=u.parseColor(t.color),u.fillIfDefined(n.color,e)):i===!0&&null===t.color&&(n.color=u.bridgeObject(r.color));void 0!==t.fixed&&null!==t.fixed&&("boolean"==typeof t.fixed?(n.fixed.x=t.fixed,n.fixed.y=t.fixed):(void 0!==t.fixed.x&&"boolean"==typeof t.fixed.x&&(n.fixed.x=t.fixed.x),void 0!==t.fixed.y&&"boolean"==typeof t.fixed.y&&(n.fixed.y=t.fixed.y)));void 0!==t.font&&null!==t.font?f.default.parseOptions(n.font,t):i===!0&&null===t.font&&(n.font=u.bridgeObject(r.font));void 0!==t.scaling&&u.mergeOptions(n.scaling,t.scaling,"label",i,r.scaling)}}]),n}();t.default=ni},function(n,t,i){function u(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(161),e=u(o),s=i(2),h=u(s),c=i(62),f=u(c),l=i(115),a=u(l),v=i(116),y=u(v),r=i(1),p=function(){function n(t,i){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a.default(this,n);this.body=t;this.pointToSelf=!1;this.baseSize=void 0;this.fontOptions={};this.setOptions(i);this.size={top:0,left:0,width:0,height:0,yLine:0};this.isEdgeLabel=r}return y.default(n,[{key:"setOptions",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.elementOptions=t;this.fontOptions=r.deepExtend({},t.font,!0);void 0!==t.label&&(this.labelDirty=!0);void 0!==t.font&&(n.parseOptions(this.fontOptions,t,i),"string"==typeof t.font?this.baseSize=this.fontOptions.size:"object"===f.default(t.font)&&void 0!==t.font.size&&(this.baseSize=t.font.size))}},{key:"constrain",value:function(n,t,i){var u,e,h,c,o,l,s;this.fontOptions.constrainWidth=!1;this.fontOptions.maxWdt=-1;this.fontOptions.minWdt=-1;u=[t,n,i];e=r.topMost(u,"widthConstraint");"number"==typeof e?(this.fontOptions.maxWdt=Number(e),this.fontOptions.minWdt=Number(e)):"object"===("undefined"==typeof e?"undefined":f.default(e))&&(h=r.topMost(u,["widthConstraint","maximum"]),"number"==typeof h&&(this.fontOptions.maxWdt=Number(h)),c=r.topMost(u,["widthConstraint","minimum"]),"number"==typeof c&&(this.fontOptions.minWdt=Number(c)));this.fontOptions.constrainHeight=!1;this.fontOptions.minHgt=-1;this.fontOptions.valign="middle";o=r.topMost(u,"heightConstraint");"number"==typeof o?this.fontOptions.minHgt=Number(o):"object"===("undefined"==typeof o?"undefined":f.default(o))&&(l=r.topMost(u,["heightConstraint","minimum"]),"number"==typeof l&&(this.fontOptions.minHgt=Number(l)),s=r.topMost(u,["heightConstraint","valign"]),"string"==typeof s&&("top"!==s&&"bottom"!==s||(this.fontOptions.valign=s)))}},{key:"choosify",value:function(n,t,i){var o,u,e;this.fontOptions.chooser=!0;o=[t,n,i];u=r.topMost(o,"chosen");"boolean"==typeof u?this.fontOptions.chooser=u:"object"===("undefined"==typeof u?"undefined":f.default(u))&&(e=r.topMost(o,["chosen","label"]),"boolean"!=typeof e&&"function"!=typeof e||(this.fontOptions.chooser=e))}},{key:"adjustSizes",value:function(n){var t=n?n.right+n.left:0,i;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);i=n?n.top+n.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=i)}},{key:"propagateFonts",value:function(n,t,i){var l,f,r,u,e,a,v;if(this.fontOptions.multi){var o=!0,s=!1,c=void 0;try{for(f=h.default(["bold","ital","boldital","mono"]);!(o=(l=f.next()).done);o=!0)r=l.value,u=void 0,(n.font&&(u=n.font[r]),"string"==typeof u)?(e=u.split(" "),this.fontOptions[r].size=e[0].replace("px",""),this.fontOptions[r].face=e[1],this.fontOptions[r].color=e[2],this.fontOptions[r].vadjust=this.fontOptions.vadjust,this.fontOptions[r].mod=i.font[r].mod):((this.fontOptions[r].face=u&&u.hasOwnProperty("face")?u.face:t.font&&t.font[r]&&t.font[r].hasOwnProperty("face")?t.font[r].face:"mono"===r?i.font[r].face:t.font&&t.font.hasOwnProperty("face")?t.font.face:this.fontOptions.face,this.fontOptions[r].color=u&&u.hasOwnProperty("color")?u.color:t.font&&t.font[r]&&t.font[r].hasOwnProperty("color")?t.font[r].color:t.font&&t.font.hasOwnProperty("color")?t.font.color:this.fontOptions.color,this.fontOptions[r].mod=u&&u.hasOwnProperty("mod")?u.mod:t.font&&t.font[r]&&t.font[r].hasOwnProperty("mod")?t.font[r].mod:t.font&&t.font.hasOwnProperty("mod")?t.font.mod:i.font[r].mod,u&&u.hasOwnProperty("size"))?this.fontOptions[r].size=u.size:t.font&&t.font[r]&&t.font[r].hasOwnProperty("size")?this.fontOptions[r].size=t.font[r].size:this.fontOptions[r].face===i.font[r].face&&this.fontOptions.face===i.font.face?(a=this.fontOptions.size/Number(i.font.size),this.fontOptions[r].size=i.font[r].size*a):this.fontOptions[r].size=t.font&&t.font.hasOwnProperty("size")?t.font.size:this.fontOptions.size,u&&u.hasOwnProperty("vadjust")?this.fontOptions[r].vadjust=u.vadjust:t.font&&t.font[r]&&t.font[r].hasOwnProperty("vadjust")?this.fontOptions[r].vadjust=t.font[r].vadjust:this.fontOptions[r].face===i.font[r].face&&this.fontOptions.face===i.font.face?(v=this.fontOptions.size/Number(i.font.size),this.fontOptions[r].vadjust=i.font[r].vadjust*Math.round(v)):this.fontOptions[r].vadjust=t.font&&t.font.hasOwnProperty("vadjust")?t.font.vadjust:this.fontOptions.vadjust),this.fontOptions[r].size=Number(this.fontOptions[r].size),this.fontOptions[r].vadjust=Number(this.fontOptions[r].vadjust)}catch(n){s=!0;c=n}finally{try{!o&&f.return&&f.return()}finally{if(s)throw c;}}}}},{key:"draw",value:function(n,t,i,r,u){var f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle",e;void 0!==this.elementOptions.label&&(e=this.fontOptions.size*this.body.view.scale,this.elementOptions.label&&e<this.elementOptions.scaling.label.drawThreshold-1||(this.calculateLabelSize(n,r,u,t,i,f),this._drawBackground(n),this._drawText(n,r,u,t,i,f)))}},{key:"_drawBackground",value:function(n){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){n.fillStyle=this.fontOptions.background;var t=2;if(this.isEdgeLabel)switch(this.fontOptions.align){case"middle":n.fillRect(.5*-this.size.width,.5*-this.size.height,this.size.width,this.size.height);break;case"top":n.fillRect(.5*-this.size.width,-(this.size.height+t),this.size.width,this.size.height);break;case"bottom":n.fillRect(.5*-this.size.width,t,this.size.width,this.size.height);break;default:n.fillRect(this.size.left,this.size.top-.5*t,this.size.width,this.size.height)}else n.fillRect(this.size.left,this.size.top-.5*t,this.size.width,this.size.height)}}},{key:"_drawText",value:function(n,t,i,r){var y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle",c=this.fontOptions.size,l=c*this.body.view.scale,f,s,h,u;l>=this.elementOptions.scaling.label.maxVisible&&(c=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale);var o=this.size.yLine,p=this._setAlignment(n,r,o,y),a=e.default(p,2);for(r=a[0],o=a[1],n.textAlign="left",r-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(o-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(o+=(this.size.height-this.size.labelHeight)/2)),f=0;f<this.lineCount;f++)if(this.lines[f]&&this.lines[f].blocks){for(s=0,this.isEdgeLabel||"center"===this.fontOptions.align?s+=(this.size.width-this.lines[f].width)/2:"right"===this.fontOptions.align&&(s+=this.size.width-this.lines[f].width),h=0;h<this.lines[f].blocks.length;h++){u=this.lines[f].blocks[h];n.font=u.font;var w=this._getColor(u.color,l,u.strokeColor),v=e.default(w,2),b=v[0],k=v[1];u.strokeWidth>0&&(n.lineWidth=u.strokeWidth,n.strokeStyle=k,n.lineJoin="round");n.fillStyle=b;u.strokeWidth>0&&n.strokeText(u.text,r+s,o+u.vadjust);n.fillText(u.text,r+s,o+u.vadjust);s+=u.width}o+=this.lines[f].height}}},{key:"_setAlignment",value:function(n,t,i,r){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&this.pointToSelf===!1){t=0;i=0;var u=2;"top"===this.fontOptions.align?(n.textBaseline="alphabetic",i-=2*u):"bottom"===this.fontOptions.align?(n.textBaseline="hanging",i+=2*u):n.textBaseline="middle"}else n.textBaseline=r;return[t,i]}},{key:"_getColor",value:function(n,t,i){var u=n||"#000000",f=i||"#ffffff",e;return t<=this.elementOptions.scaling.label.drawThreshold&&(e=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t))),u=r.overrideOpacity(u,e),f=r.overrideOpacity(f,e)),[u,f]}},{key:"getTextSize",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(n,t,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"calculateLabelSize",value:function(n,t,i){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this.labelDirty===!0&&this._processLabel(n,t,i);this.size.left=u-.5*this.size.width;this.size.top=r-.5*this.size.height;this.size.yLine=r+.5*(1-this.lineCount)*this.fontOptions.size;"hanging"===f&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4);this.labelDirty=!1}},{key:"decodeMarkupSystem",value:function(n){var t="none";return"markdown"===n||"md"===n?t="markdown":n!==!0&&"html"!==n||(t="html"),t}},{key:"splitBlocks",value:function(n,t){var i=this.decodeMarkupSystem(t);return"none"===i?[{text:n,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(n):"html"===i?this.splitHtmlBlocks(n):void 0}},{key:"splitMarkdownBlocks",value:function(n){var r=[],t={bold:!1,ital:!1,mono:!1,beginable:!0,spacing:!1,position:0,buffer:"",modStack:[]},i;for(t.mod=function(){return 0===this.modStack.length?"normal":this.modStack[0]},t.modName=function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":t.bold&&t.ital?"boldital":t.bold?"bold":t.ital?"ital":void 0},t.emitBlock=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.spacing&&(this.add(" "),this.spacing=!1);this.buffer.length>0&&(r.push({text:this.buffer,mod:this.modName()}),this.buffer="")},t.add=function(n){" "===n&&(t.spacing=!0);t.spacing&&(this.buffer+=" ",this.spacing=!1);" "!=n&&(this.buffer+=n)};t.position<n.length;)i=n.charAt(t.position),/[ \t]/.test(i)?(t.mono?t.add(i):t.spacing=!0,t.beginable=!0):/\\/.test(i)?t.position<n.length+1&&(t.position++,i=n.charAt(t.position),/ \t/.test(i)?t.spacing=!0:(t.add(i),t.beginable=!1)):t.mono||t.bold||!t.beginable&&!t.spacing||!/\*/.test(i)?t.mono||t.ital||!t.beginable&&!t.spacing||!/\_/.test(i)?!t.mono&&(t.beginable||t.spacing)&&/`/.test(i)?(t.emitBlock(),t.mono=!0,t.modStack.unshift("mono")):!t.mono&&"bold"===t.mod()&&/\*/.test(i)?t.position===n.length-1||/[.,_` \t\n]/.test(n.charAt(t.position+1))?(t.emitBlock(),t.bold=!1,t.modStack.shift()):t.add(i):!t.mono&&"ital"===t.mod()&&/\_/.test(i)?t.position===n.length-1||/[.,*` \t\n]/.test(n.charAt(t.position+1))?(t.emitBlock(),t.ital=!1,t.modStack.shift()):t.add(i):t.mono&&"mono"===t.mod()&&/`/.test(i)?t.position===n.length-1||/[.,*_ \t\n]/.test(n.charAt(t.position+1))?(t.emitBlock(),t.mono=!1,t.modStack.shift()):t.add(i):(t.add(i),t.beginable=!1):(t.emitBlock(),t.ital=!0,t.modStack.unshift("ital")):(t.emitBlock(),t.bold=!0,t.modStack.unshift("bold")),t.position++;return t.emitBlock(),r}},{key:"splitHtmlBlocks",value:function(n){var r=[],t={bold:!1,ital:!1,mono:!1,spacing:!1,position:0,buffer:"",modStack:[]},i;for(t.mod=function(){return 0===this.modStack.length?"normal":this.modStack[0]},t.modName=function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":t.bold&&t.ital?"boldital":t.bold?"bold":t.ital?"ital":void 0},t.emitBlock=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.spacing&&(this.add(" "),this.spacing=!1);this.buffer.length>0&&(r.push({text:this.buffer,mod:this.modName()}),this.buffer="")},t.add=function(n){" "===n&&(t.spacing=!0);t.spacing&&(this.buffer+=" ",this.spacing=!1);" "!=n&&(this.buffer+=n)};t.position<n.length;)i=n.charAt(t.position),/[ \t]/.test(i)?t.mono?t.add(i):t.spacing=!0:/</.test(i)?t.mono||t.bold||!/<b>/.test(n.substr(t.position,3))?t.mono||t.ital||!/<i>/.test(n.substr(t.position,3))?!t.mono&&/<code>/.test(n.substr(t.position,6))?(t.emitBlock(),t.mono=!0,t.modStack.unshift("mono"),t.position+=5):!t.mono&&"bold"===t.mod()&&/<\/b>/.test(n.substr(t.position,4))?(t.emitBlock(),t.bold=!1,t.modStack.shift(),t.position+=3):!t.mono&&"ital"===t.mod()&&/<\/i>/.test(n.substr(t.position,4))?(t.emitBlock(),t.ital=!1,t.modStack.shift(),t.position+=3):"mono"===t.mod()&&/<\/code>/.test(n.substr(t.position,7))?(t.emitBlock(),t.mono=!1,t.modStack.shift(),t.position+=6):t.add(i):(t.emitBlock(),t.ital=!0,t.modStack.unshift("ital"),t.position+=2):(t.emitBlock(),t.bold=!0,t.modStack.unshift("bold"),t.position+=2):/&/.test(i)?/&lt;/.test(n.substr(t.position,4))?(t.add("<"),t.position+=3):/&amp;/.test(n.substr(t.position,5))?(t.add("&"),t.position+=4):t.add("&"):t.add(i),t.position++;return t.emitBlock(),r}},{key:"getFormattingValues",value:function(n,t,i,r){var u={color:"normal"===r?this.fontOptions.color:this.fontOptions[r].color,size:"normal"===r?this.fontOptions.size:this.fontOptions[r].size,face:"normal"===r?this.fontOptions.face:this.fontOptions[r].face,mod:"normal"===r?"":this.fontOptions[r].mod,vadjust:"normal"===r?this.fontOptions.vadjust:this.fontOptions[r].vadjust,strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};return"normal"===r?(t||i)&&(this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?u.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(n,u,this.elementOptions.id,t,i)):(t||i)&&"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(n,u,this.elementOptions.id,t,i),n.font=(u.mod+" "+u.size+"px "+u.face).replace(/"/g,""),u.font=n.font,u.height=u.size,u}},{key:"differentState",value:function(n,t){return n!==this.fontOptions.selectedState&&t!==this.fontOptions.hoverState}},{key:"_processLabel",value:function(n,t,i){var f=0,c=0,u=[],r=0,b,ft,nt,a,h,st,v,at,d,e,ct,lt,vt;if(u.add=function(n,t,i,r,u,f,e,o,s,h){this.length==n&&(this[n]={width:0,height:0,blocks:[]});this[n].blocks.push({text:t,font:i,color:r,width:u,height:f,vadjust:e,mod:o,strokeWidth:s,strokeColor:h})},u.accumulate=function(n,t,i){this[n].width+=t;this[n].height=i>this[n].height?i:this[n].height},u.addAndAccumulate=function(n,t,i,r,u,f,e,o,s,h){this.add(n,t,i,r,u,f,e,o,s,h);this.accumulate(n,u,f)},void 0!==this.elementOptions.label)if(b=String(this.elementOptions.label).split("\n"),ft=b.length,this.elementOptions.font.multi)for(nt=0;nt<ft;nt++){var s=this.splitBlocks(b[nt],this.elementOptions.font.multi),et=0,l=0;if(s){if(0==s.length){a=this.getFormattingValues(n,t,i,"normal");u.addAndAccumulate(r,"",a.font,a.color,0,a.size,a.vadjust,"normal",a.strokeWidth,a.strokeColor);c+=u[r].height;r++;continue}for(h=0;h<s.length;h++)if(this.fontOptions.maxWdt>0)for(var o=this.getFormattingValues(n,t,i,s[h].mod),tt=s[h].text.split(" "),ot=!0,p="",w={width:0},it=void 0,k=0;k<tt.length;)st=ot?"":" ",it=w,w=n.measureText(p+st+tt[k]),et+w.width>this.fontOptions.maxWdt&&0!=it.width?(l=o.height>l?o.height:l,u.add(r,p,o.font,o.color,it.width,o.height,o.vadjust,s[h].mod,o.strokeWidth,o.strokeColor),u.accumulate(r,it.width,l),p="",ot=!0,et=0,f=u[r].width>f?u[r].width:f,c+=u[r].height,r++):(p=p+st+tt[k],k===tt.length-1&&(l=o.height>l?o.height:l,et+=w.width,u.add(r,p,o.font,o.color,w.width,o.height,o.vadjust,s[h].mod,o.strokeWidth,o.strokeColor),u.accumulate(r,w.width,l),h===s.length-1&&(f=u[r].width>f?u[r].width:f,c+=u[r].height,r++)),k++,ot=!1);else v=this.getFormattingValues(n,t,i,s[h].mod),at=n.measureText(s[h].text),u.addAndAccumulate(r,s[h].text,v.font,v.color,at.width,v.height,v.vadjust,s[h].mod,v.strokeWidth,v.strokeColor),f=u[r].width>f?u[r].width:f,s.length-1===h&&(c+=u[r].height,r++)}}else for(d=0;d<ft;d++)if(e=this.getFormattingValues(n,t,i,"normal"),this.fontOptions.maxWdt>0)for(var rt=b[d].split(" "),y="",ut={width:0},ht=void 0,g=0;g<rt.length;)ct=""===y?"":" ",ht=ut,ut=n.measureText(y+ct+rt[g]),ut.width>this.fontOptions.maxWdt&&0!=ht.width?(u.addAndAccumulate(r,y,e.font,e.color,ht.width,e.size,e.vadjust,"normal",e.strokeWidth,e.strokeColor),f=u[r].width>f?u[r].width:f,c+=u[r].height,y="",r++):(y=y+ct+rt[g],g===rt.length-1&&(u.addAndAccumulate(r,y,e.font,e.color,ut.width,e.size,e.vadjust,"normal",e.strokeWidth,e.strokeColor),f=u[r].width>f?u[r].width:f,c+=u[r].height,r++),g++);else lt=b[d],vt=n.measureText(lt),u.addAndAccumulate(r,lt,e.font,e.color,vt.width,e.size,e.vadjust,"normal",e.strokeWidth,e.strokeColor),f=u[r].width>f?u[r].width:f,c+=u[r].height,r++;this.fontOptions.minWdt>0&&f<this.fontOptions.minWdt&&(f=this.fontOptions.minWdt);this.size.labelHeight=c;this.fontOptions.minHgt>0&&c<this.fontOptions.minHgt&&(c=this.fontOptions.minHgt);this.lines=u;this.lineCount=u.length;this.size.width=f;this.size.height=c;this.selectedState=t;this.hoverState=i}}],[{key:"parseOptions",value:function(n,t){var u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i;"string"==typeof t.font?(i=t.font.split(" "),n.size=i[0].replace("px",""),n.face=i[1],n.color=i[2],n.vadjust=0):"object"===f.default(t.font)&&r.fillIfDefined(n,t.font,u);n.size=Number(n.size);n.vadjust=Number(n.vadjust)}}]),n}();t.default=p},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0;var u=i(162),f=r(u),e=i(2),o=r(e);t.default=function(){function n(n,t){var r=[],u=!0,f=!1,e=void 0,s,i;try{for(i=o.default(n);!(u=(s=i.next()).done)&&(r.push(s.value),!t||r.length!==t);u=!0);}catch(n){f=!0;e=n}finally{try{!u&&i.return&&i.return()}finally{if(f)throw e;}}return r}return function(t,i){if(Array.isArray(t))return t;if(f.default(Object(t)))return n(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance");}}()},function(n,t,i){n.exports={"default":i(163),__esModule:!0}},function(n,t,i){i(4);i(50);n.exports=i(164)},function(n,t,i){var r=i(54),u=i(47)("iterator"),f=i(8);n.exports=i(17).isIterable=function(n){var t=Object(n);return void 0!==t[u]||"@@iterator"in t||f.hasOwnProperty(r(t))}},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(166),f=r(u),e=i(115),o=r(e),s=i(116),h=r(s),c=i(169),l=r(c),a=i(170),v=r(a),y=i(175),p=r(y),w=function(n){function t(n,i,r){o.default(this,t);var u=l.default(this,(t.__proto__||f.default(t)).call(this,n,i,r));return u._setMargins(r),u}return v.default(t,n),h.default(t,[{key:"resize",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;(void 0===this.width||this.labelModule.differentState(t,i))&&(this.textSize=this.labelModule.getTextSize(n,t,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=this.width/2)}},{key:"draw",value:function(n,t,i,r,u,f){this.resize(n,r,u);this.left=t-this.width/2;this.top=i-this.height/2;n.strokeStyle=f.borderColor;n.lineWidth=f.borderWidth;n.lineWidth/=this.body.view.scale;n.lineWidth=Math.min(this.width,n.lineWidth);n.fillStyle=f.color;n.roundRect(this.left,this.top,this.width,this.height,f.borderRadius);this.enableShadow(n,f);n.fill();this.disableShadow(n,f);n.save();f.borderWidth>0&&(this.enableBorderDashes(n,f),n.stroke(),this.disableBorderDashes(n,f));n.restore();this.updateBoundingBox(t,i,n,r,u);this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,r,u)}},{key:"updateBoundingBox",value:function(n,t,i,r,u){this.resize(i,r,u);this.left=n-this.width/2;this.top=t-this.height/2;var f=this.options.shapeProperties.borderRadius;this.boundingBox.left=this.left-f;this.boundingBox.top=this.top-f;this.boundingBox.bottom=this.top+this.height+f;this.boundingBox.right=this.left+this.width+f}},{key:"distanceToBorder",value:function(n,t){this.resize(n);var i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+i}}]),t}(p.default);t.default=w},function(n,t,i){n.exports={"default":i(167),__esModule:!0}},function(n,t,i){i(168);n.exports=i(17).Object.getPrototypeOf},function(n,t,i){var r=i(49),u=i(48);i(61)("getPrototypeOf",function(){return function(n){return u(r(n))}})},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0;var u=i(62),f=r(u);t.default=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":f.default(t))&&"function"!=typeof t?n:t}},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0;var f=i(171),u=r(f),e=i(55),o=r(e),s=i(62),h=r(s);t.default=function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":h.default(t)));n.prototype=o.default(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(u.default?u.default(n,t):n.__proto__=t)}},function(n,t,i){n.exports={"default":i(172),__esModule:!0}},function(n,t,i){i(173);n.exports=i(17).Object.setPrototypeOf},function(n,t,i){var r=i(15);r(r.S,"Object",{setPrototypeOf:i(174).set})},function(n,t,i){var u=i(23),f=i(22),r=function(n,t){if(f(n),!u(t)&&null!==t)throw TypeError(t+": can't set as prototype!");};n.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(n,t,u){try{u=i(18)(Function.call,i(78).f(Object.prototype,"__proto__").set,2);u(n,[]);t=!(n instanceof Array)}catch(n){t=!0}return function(n,i){return r(n,i),t?n.__proto__=i:u(n,i),n}}({},!1):void 0),check:r}},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(62),f=r(u),e=i(115),o=r(e),s=i(116),h=r(s),c=function(){function n(t,i,r){o.default(this,n);this.body=i;this.labelModule=r;this.setOptions(t);this.top=void 0;this.left=void 0;this.height=void 0;this.width=void 0;this.radius=void 0;this.margin=void 0;this.boundingBox={top:0,left:0,right:0,bottom:0}}return h.default(n,[{key:"setOptions",value:function(n){this.options=n}},{key:"_setMargins",value:function(n){this.margin={};this.options.margin&&("object"==f.default(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin));n.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(n,t){var i=this.options.borderWidth;return this.resize(n),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+i}},{key:"enableShadow",value:function(n,t){t.shadow&&(n.shadowColor=t.shadowColor,n.shadowBlur=t.shadowSize,n.shadowOffsetX=t.shadowX,n.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(n,t){t.shadow&&(n.shadowColor="rgba(0,0,0,0)",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(n,t){if(t.borderDashes!==!1)if(void 0!==n.setLineDash){var i=t.borderDashes;i===!0&&(i=[5,15]);n.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}},{key:"disableBorderDashes",value:function(n,t){t.borderDashes!==!1&&(void 0!==n.setLineDash?n.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}}]),n}();t.default=c},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(166),f=r(u),e=i(115),o=r(e),s=i(116),h=r(s),c=i(169),l=r(c),a=i(170),v=r(a),y=i(177),p=r(y),w=function(n){function t(n,i,r){o.default(this,t);var u=l.default(this,(t.__proto__||f.default(t)).call(this,n,i,r));return u._setMargins(r),u}return v.default(t,n),h.default(t,[{key:"resize",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,t;arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};(void 0===this.width||this.labelModule.differentState(i,r))&&(this.textSize=this.labelModule.getTextSize(n,i,r),t=Math.max(this.textSize.width+this.margin.right+this.margin.left,this.textSize.height+this.margin.top+this.margin.bottom),this.options.size=t/2,this.width=t,this.height=t,this.radius=this.width/2)}},{key:"draw",value:function(n,t,i,r,u,f){this.resize(n,r,u);this.left=t-this.width/2;this.top=i-this.height/2;this._drawRawCircle(n,t,i,r,u,f);this.boundingBox.top=i-f.size;this.boundingBox.left=t-f.size;this.boundingBox.right=t+f.size;this.boundingBox.bottom=i+f.size;this.updateBoundingBox(t,i);this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,i,r,u)}},{key:"updateBoundingBox",value:function(n,t){this.boundingBox.top=t-this.options.size;this.boundingBox.left=n-this.options.size;this.boundingBox.right=n+this.options.size;this.boundingBox.bottom=t+this.options.size}},{key:"distanceToBorder",value:function(n){return this.resize(n),.5*this.width}}]),t}(p.default);t.default=w},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(166),f=r(u),e=i(115),o=r(e),s=i(116),h=r(s),c=i(169),l=r(c),a=i(170),v=r(a),y=i(175),p=r(y),w=function(n){function t(n,i,r){o.default(this,t);var u=l.default(this,(t.__proto__||f.default(t)).call(this,n,i,r));return u.labelOffset=0,u.imageLoaded=!1,u}return v.default(t,n),h.default(t,[{key:"setOptions",value:function(n,t){this.options=n;t&&(this.imageObj=t)}},{key:"_resizeImage",value:function(){var r=!1,n,t,i;(this.imageObj.width&&this.imageObj.height?this.imageLoaded===!1&&(this.imageLoaded=!0,r=!0):this.imageLoaded=!1,this.width&&this.height&&r!==!0)||(this.imageObj.width&&this.imageObj.height&&(n=0,t=0),this.options.shapeProperties.useImageSize===!1?this.imageObj.width>this.imageObj.height?(i=this.imageObj.width/this.imageObj.height,n=2*this.options.size*i||this.imageObj.width,t=2*this.options.size||this.imageObj.height):(i=this.imageObj.width&&this.imageObj.height?this.imageObj.height/this.imageObj.width:1,n=2*this.options.size,t=2*this.options.size*i):(n=this.imageObj.width,t=this.imageObj.height),this.width=n,this.height=t,this.radius=.5*this.width)}},{key:"_drawRawCircle",value:function(n,t,i,r,u,f){var e=f.borderWidth/this.body.view.scale;n.lineWidth=Math.min(this.width,e);n.strokeStyle=f.borderColor;n.fillStyle=f.color;n.circle(t,i,f.size);this.enableShadow(n,f);n.fill();this.disableShadow(n,f);n.save();e>0&&(this.enableBorderDashes(n,f),n.stroke(),this.disableBorderDashes(n,f));n.restore()}},{key:"_drawImageAtPosition",value:function(n,t){var u,o,e,s;if(0!=this.imageObj.width){if(n.globalAlpha=1,this.enableShadow(n,t),u=this.imageObj.width/this.width/this.body.view.scale,u>2&&this.options.shapeProperties.interpolation===!0){var i=this.imageObj.width,r=this.imageObj.height,f=document.createElement("canvas");for(f.width=i,f.height=i,o=f.getContext("2d"),u*=.5,i*=.5,r*=.5,o.drawImage(this.imageObj,0,0,i,r),e=0,s=1;u>2&&s<4;)o.drawImage(f,e,0,i,r,e+i,0,i/2,r/2),e+=i,u*=.5,i*=.5,r*=.5,s+=1;n.drawImage(f,e,0,i,r,this.left,this.top,this.width,this.height)}else n.drawImage(this.imageObj,this.left,this.top,this.width,this.height);this.disableShadow(n,t)}}},{key:"_drawImageLabel",value:function(n,t,i,r,u){var o,f=0,e;void 0!==this.height&&(f=.5*this.height,e=this.labelModule.getTextSize(n,r,u),e.lineCount>=1&&(f+=e.height/2));o=i+f;this.options.label&&(this.labelOffset=f);this.labelModule.draw(n,t,o,r,u,"hanging")}}]),t}(p.default);t.default=w},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(166),f=r(u),e=i(115),o=r(e),s=i(116),h=r(s),c=i(169),l=r(c),a=i(170),v=r(a),y=i(177),p=r(y),w=function(n){function t(n,i,r,u){o.default(this,t);var e=l.default(this,(t.__proto__||f.default(t)).call(this,n,i,r));return e.imageObj=u,e._swapToImageResizeWhenImageLoaded=!0,e}return v.default(t,n),h.default(t,[{key:"resize",value:function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,n;void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height||this.labelModule.differentState(t,i)?(n=2*this.options.size,this.width=n,this.height=n,this._swapToImageResizeWhenImageLoaded=!0,this.radius=.5*this.width):(this._swapToImageResizeWhenImageLoaded&&(this.width=void 0,this.height=void 0,this._swapToImageResizeWhenImageLoaded=!1),this._resizeImage())}},{key:"draw",value:function(n,t,i,r,u,f){this.resize();this.left=t-this.width/2;this.top=i-this.height/2;Math.min(.5*this.height,.5*this.width);this._drawRawCircle(n,t,i,r,u,f);n.save();n.clip();this._drawImageAtPosition(n,f);n.restore();this._drawImageLabel(n,t,i,r,u);this.updateBoundingBox(t,i)}},{key:"updateBoundingBox",value:function(n,t){this.boundingBox.top=t-this.options.size;this.boundingBox.left=n-this.options.size;this.boundingBox.right=n+this.options.size;this.boundingBox.bottom=t+this.options.size;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left);this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width);this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(n){return this.resize(n),.5*this.width}}]),t}(p.default);t.default=w},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(166),f=r(u),e=i(115),o=r(e),s=i(116),h=r(s),c=i(169),l=r(c),a=i(170),v=r(a),y=i(175),p=r(y),w=function(n){function t(n,i,r){o.default(this,t);var u=l.default(this,(t.__proto__||f.default(t)).call(this,n,i,r));return u._setMargins(r),u}return v.default(t,n),h.default(t,[{key:"resize",value:function(n,t,i){if(void 0===this.width||this.labelModule.differentState(t,i)){this.textSize=this.labelModule.getTextSize(n,t,i);var r=this.textSize.width+this.margin.right+this.margin.left;this.width=r;this.height=r;this.radius=this.width/2}}},{key:"draw",value:function(n,t,i,r,u,f){this.resize(n,r,u);this.left=t-this.width/2;this.top=i-this.height/2;var e=f.borderWidth/this.body.view.scale;n.lineWidth=Math.min(this.width,e);n.strokeStyle=f.borderColor;n.fillStyle=f.color;n.database(t-this.width/2,i-this.height/2,this.width,this.height);this.enableShadow(n,f);n.fill();this.disableShadow(n,f);n.save();e>0&&(this.enableBorderDashes(n,f),n.stroke(),this.disableBorderDashes(n,f));n.restore();this.updateBoundingBox(t,i,n,r,u);this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,r,u)}},{key:"updateBoundingBox",value:function(n,t,i,r,u){this.resize(i,r,u);this.left=n-.5*this.width;this.top=t-.5*this.height;this.boundingBox.left=this.left;this.boundingBox.top=this.top;this.boundingBox.bottom=this.top+this.height;this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(n,t){return this._distanceToBorder(n,t)}}]),t}(p.default);t.default=w},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(166),f=r(u),e=i(115),o=r(e),s=i(116),h=r(s),c=i(169),l=r(c),a=i(170),v=r(a),y=i(181),p=r(y),w=function(n){function t(n,i,r){return o.default(this,t),l.default(this,(t.__proto__||f.default(t)).call(this,n,i,r))}return v.default(t,n),h.default(t,[{key:"resize",value:function(){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,i=arguments[3];this._resizeShape(n,t,i)}},{key:"draw",value:function(n,t,i,r,u,f){this._drawShape(n,"diamond",4,t,i,r,u,f)}},{key:"distanceToBorder",value:function(n,t){return this._distanceToBorder(n,t)}}]),t}(p.default);t.default=w},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(166),f=r(u),e=i(115),o=r(e),s=i(116),h=r(s),c=i(169),l=r(c),a=i(170),v=r(a),y=i(175),p=r(y),w=function(n){function t(n,i,r){return o.default(this,t),l.default(this,(t.__proto__||f.default(t)).call(this,n,i,r))}return v.default(t,n),h.default(t,[{key:"_resizeShape",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selected,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.hover,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{size:this.options.size},n;(void 0===this.width||this.labelModule.differentState(t,i))&&(n=2*r.size,this.width=n,this.height=n,this.radius=.5*this.width)}},{key:"_drawShape",value:function(n,t,i,r,u,f,e,o){var s,h;this._resizeShape(f,e,o);this.left=r-this.width/2;this.top=u-this.height/2;s=o.borderWidth/this.body.view.scale;(n.lineWidth=Math.min(this.width,s),n.strokeStyle=o.borderColor,n.fillStyle=o.color,n[t](r,u,o.size),this.enableShadow(n,o),n.fill(),this.disableShadow(n,o),n.save(),s>0&&(this.enableBorderDashes(n,o),n.stroke(),this.disableBorderDashes(n,o)),n.restore(),void 0!==this.options.label)&&(h=u+.5*this.height+3,this.labelModule.draw(n,r,h,f,e,"hanging"));this.updateBoundingBox(r,u)}},{key:"updateBoundingBox",value:function(n,t){this.boundingBox.top=t-this.options.size;this.boundingBox.left=n-this.options.size;this.boundingBox.right=n+this.options.size;this.boundingBox.bottom=t+this.options.size;void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+3))}}]),t}(p.default);t.default=w},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(166),f=r(u),e=i(115),o=r(e),s=i(116),h=r(s),c=i(169),l=r(c),a=i(170),v=r(a),y=i(181),p=r(y),w=function(n){function t(n,i,r){return o.default(this,t),l.default(this,(t.__proto__||f.default(t)).call(this,n,i,r))}return v.default(t,n),h.default(t,[{key:"resize",value:function(){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,i=arguments[3];this._resizeShape(n,t,i)}},{key:"draw",value:function(n,t,i,r,u,f){this._drawShape(n,"circle",2,t,i,r,u,f)}},{key:"distanceToBorder",value:function(n){return this.resize(n),this.options.size}}]),t}(p.default);t.default=w},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(166),f=r(u),e=i(115),o=r(e),s=i(116),h=r(s),c=i(169),l=r(c),a=i(170),v=r(a),y=i(175),p=r(y),w=function(n){function t(n,i,r){return o.default(this,t),l.default(this,(t.__proto__||f.default(t)).call(this,n,i,r))}return v.default(t,n),h.default(t,[{key:"resize",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,t;(void 0===this.width||this.labelModule.differentState(i,r))&&(t=this.labelModule.getTextSize(n,i,r),this.height=2*t.height,this.width=t.width+this.height,this.radius=.5*this.width)}},{key:"draw",value:function(n,t,i,r,u,f){this.resize(n,r,u);this.left=t-.5*this.width;this.top=i-.5*this.height;var e=f.borderWidth/this.body.view.scale;n.lineWidth=Math.min(this.width,e);n.strokeStyle=f.borderColor;n.fillStyle=f.color;n.ellipse(this.left,this.top,this.width,this.height);this.enableShadow(n,f);n.fill();this.disableShadow(n,f);n.save();e>0&&(this.enableBorderDashes(n,f),n.stroke(),this.disableBorderDashes(n,f));n.restore();this.updateBoundingBox(t,i,n,r,u);this.labelModule.draw(n,t,i,r,u)}},{key:"updateBoundingBox",value:function(n,t,i,r,u){this.resize(i,r,u);this.left=n-.5*this.width;this.top=t-.5*this.height;this.boundingBox.left=this.left;this.boundingBox.top=this.top;this.boundingBox.bottom=this.top+this.height;this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(n,t){this.resize(n);var i=.5*this.width,r=.5*this.height,u=Math.sin(t)*i,f=Math.cos(t)*r;return i*r/Math.sqrt(u*u+f*f)}}]),t}(p.default);t.default=w},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(166),f=r(u),e=i(115),o=r(e),s=i(116),h=r(s),c=i(169),l=r(c),a=i(170),v=r(a),y=i(175),p=r(y),w=function(n){function t(n,i,r){o.default(this,t);var u=l.default(this,(t.__proto__||f.default(t)).call(this,n,i,r));return u._setMargins(r),u}return v.default(t,n),h.default(t,[{key:"resize",value:function(n,t,i){(void 0===this.width||this.labelModule.differentState(t,i))&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(n,t,i,r,u,f){if(this.resize(n,r,u),this.options.icon.size=this.options.icon.size||50,this.left=t-this.width/2,this.top=i-this.height/2,this._icon(n,t,i,r,u,f),void 0!==this.options.label)this.labelModule.draw(n,this.left+this.iconSize.width/2+this.margin.left,i+this.height/2+5,r);this.updateBoundingBox(t,i)}},{key:"updateBoundingBox",value:function(n,t){if(this.boundingBox.top=t-.5*this.options.icon.size,this.boundingBox.left=n-.5*this.options.icon.size,this.boundingBox.right=n+.5*this.options.icon.size,this.boundingBox.bottom=t+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0)this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5)}},{key:"_icon",value:function(n,t,i,r,u,f){var e=Number(this.options.icon.size);void 0!==this.options.icon.code?(n.font=(r?"bold ":"")+e+"px "+this.options.icon.face,n.fillStyle=this.options.icon.color||"black",n.textAlign="center",n.textBaseline="middle",this.enableShadow(n,f),n.fillText(this.options.icon.code,t,i),this.disableShadow(n,f)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(n,t){return this._distanceToBorder(n,t)}}]),t}(p.default);t.default=w},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(166),f=r(u),e=i(115),o=r(e),s=i(116),h=r(s),c=i(169),l=r(c),a=i(170),v=r(a),y=i(177),p=r(y),w=function(n){function t(n,i,r,u){o.default(this,t);var e=l.default(this,(t.__proto__||f.default(t)).call(this,n,i,r));return e.imageObj=u,e}return v.default(t,n),h.default(t,[{key:"resize",value:function(){this._resizeImage()}},{key:"draw",value:function(n,t,i,r,u,f){if(this.resize(),this.left=t-this.width/2,this.top=i-this.height/2,this.options.shapeProperties.useBorderWithImage===!0){var o=this.options.borderWidth,s=this.options.borderWidthSelected||2*this.options.borderWidth,e=(r?s:o)/this.body.view.scale;n.lineWidth=Math.min(this.width,e);n.beginPath();n.strokeStyle=r?this.options.color.highlight.border:u?this.options.color.hover.border:this.options.color.border;n.fillStyle=r?this.options.color.highlight.background:u?this.options.color.hover.background:this.options.color.background;n.rect(this.left-.5*n.lineWidth,this.top-.5*n.lineWidth,this.width+n.lineWidth,this.height+n.lineWidth);n.fill();n.save();e>0&&(this.enableBorderDashes(n,f),n.stroke(),this.disableBorderDashes(n,f));n.restore();n.closePath()}this._drawImageAtPosition(n,f);this._drawImageLabel(n,t,i,r,u);this.updateBoundingBox(t,i)}},{key:"updateBoundingBox",value:function(n,t){this.resize();this.left=n-this.width/2;this.top=t-this.height/2;this.boundingBox.top=this.top;this.boundingBox.left=this.left;this.boundingBox.right=this.left+this.width;this.boundingBox.bottom=this.top+this.height;void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(n,t){return this._distanceToBorder(n,t)}}]),t}(p.default);t.default=w},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(166),f=r(u),e=i(115),o=r(e),s=i(116),h=r(s),c=i(169),l=r(c),a=i(170),v=r(a),y=i(181),p=r(y),w=function(n){function t(n,i,r){return o.default(this,t),l.default(this,(t.__proto__||f.default(t)).call(this,n,i,r))}return v.default(t,n),h.default(t,[{key:"resize",value:function(){this._resizeShape()}},{key:"draw",value:function(n,t,i,r,u,f){this._drawShape(n,"square",2,t,i,r,u,f)}},{key:"distanceToBorder",value:function(n,t){return this._distanceToBorder(n,t)}}]),t}(p.default);t.default=w},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(166),f=r(u),e=i(115),o=r(e),s=i(116),h=r(s),c=i(169),l=r(c),a=i(170),v=r(a),y=i(181),p=r(y),w=function(n){function t(n,i,r){return o.default(this,t),l.default(this,(t.__proto__||f.default(t)).call(this,n,i,r))}return v.default(t,n),h.default(t,[{key:"resize",value:function(n,t,i,r){this._resizeShape(t,i,r)}},{key:"draw",value:function(n,t,i,r,u,f){this._drawShape(n,"star",4,t,i,r,u,f)}},{key:"distanceToBorder",value:function(n,t){return this._distanceToBorder(n,t)}}]),t}(p.default);t.default=w},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(166),f=r(u),e=i(115),o=r(e),s=i(116),h=r(s),c=i(169),l=r(c),a=i(170),v=r(a),y=i(175),p=r(y),w=function(n){function t(n,i,r){o.default(this,t);var u=l.default(this,(t.__proto__||f.default(t)).call(this,n,i,r));return u._setMargins(r),u}return v.default(t,n),h.default(t,[{key:"resize",value:function(n,t,i){(void 0===this.width||this.labelModule.differentState(t,i))&&(this.textSize=this.labelModule.getTextSize(n,t,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(n,t,i,r,u,f){this.resize(n,r,u);this.left=t-this.width/2;this.top=i-this.height/2;this.enableShadow(n,f);this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,r,u);this.disableShadow(n,f);this.updateBoundingBox(t,i,n,r,u)}},{key:"updateBoundingBox",value:function(n,t,i,r,u){this.resize(i,r,u);this.left=n-this.width/2;this.top=t-this.height/2;this.boundingBox.top=this.top;this.boundingBox.left=this.left;this.boundingBox.right=this.left+this.width;this.boundingBox.bottom=this.top+this.height}},{key:"distanceToBorder",value:function(n,t){return this._distanceToBorder(n,t)}}]),t}(p.default);t.default=w},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(166),f=r(u),e=i(115),o=r(e),s=i(116),h=r(s),c=i(169),l=r(c),a=i(170),v=r(a),y=i(181),p=r(y),w=function(n){function t(n,i,r){return o.default(this,t),l.default(this,(t.__proto__||f.default(t)).call(this,n,i,r))}return v.default(t,n),h.default(t,[{key:"resize",value:function(){this._resizeShape()}},{key:"draw",value:function(n,t,i,r,u,f){this._drawShape(n,"triangle",3,t,i,r,u,f)}},{key:"distanceToBorder",value:function(n,t){return this._distanceToBorder(n,t)}}]),t}(p.default);t.default=w},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(166),f=r(u),e=i(115),o=r(e),s=i(116),h=r(s),c=i(169),l=r(c),a=i(170),v=r(a),y=i(181),p=r(y),w=function(n){function t(n,i,r){return o.default(this,t),l.default(this,(t.__proto__||f.default(t)).call(this,n,i,r))}return v.default(t,n),h.default(t,[{key:"resize",value:function(){this._resizeShape()}},{key:"draw",value:function(n,t,i,r,u,f){this._drawShape(n,"triangleDown",3,t,i,r,u,f)}},{key:"distanceToBorder",value:function(n,t){return this._distanceToBorder(n,t)}}]),t}(p.default);t.default=w},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(115),s=r(o),h=i(116),c=r(h),l=i(192),e=r(l),a=i(160),v=r(a),u=i(1),f=i(91),y=i(93),p=function(){function n(t,i,r){var f=this;s.default(this,n);this.body=t;this.images=i;this.groups=r;this.body.functions.createEdge=this.create.bind(this);this.edgesListeners={add:function(n,t){f.add(t.items)},update:function(n,t){f.update(t.items)},remove:function(n,t){f.remove(t.items)}};this.options={};this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(n,t,i,r){if(t===n)return.5;var u=1/(t-n);return Math.max(0,(r-n)*u)}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0};u.extend(this.options,this.defaultOptions);this.bindEventListeners()}return c.default(n,[{key:"bindEventListeners",value:function(){var n=this;this.body.emitter.on("_forceDisableDynamicCurves",function(t){var u,i,f,e,r;"dynamic"===t&&(t="continuous");u=!1;for(i in n.body.edges)n.body.edges.hasOwnProperty(i)&&(f=n.body.edges[i],e=n.body.data.edges._data[i],void 0!==e&&(r=e.smooth,void 0!==r&&r.enabled===!0&&"dynamic"===r.type&&(void 0===t?f.setOptions({smooth:!1}):f.setOptions({smooth:{type:t}}),u=!0)));u===!0&&n.body.emitter.emit("_dataChanged")});this.body.emitter.on("_dataUpdated",function(){n.reconnectEdges()});this.body.emitter.on("refreshEdges",this.refresh.bind(this));this.body.emitter.on("refresh",this.refresh.bind(this));this.body.emitter.on("destroy",function(){u.forEach(n.edgesListeners,function(t,i){n.body.data.edges&&n.body.data.edges.off(i,t)});delete n.body.functions.createEdge;delete n.edgesListeners.add;delete n.edgesListeners.update;delete n.edgesListeners.remove;delete n.edgesListeners})}},{key:"setOptions",value:function(n){var t,i,r;if(this.edgeOptions=n,void 0!==n){if(e.default.parseOptions(this.options,n),t=!1,void 0!==n.smooth)for(i in this.body.edges)this.body.edges.hasOwnProperty(i)&&(t=this.body.edges[i].updateEdgeType()||t);if(void 0!==n.font){v.default.parseOptions(this.options.font,n);for(r in this.body.edges)this.body.edges.hasOwnProperty(r)&&this.body.edges[r].updateLabelModule()}void 0===n.hidden&&void 0===n.physics&&t!==!0||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(n){var r=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=this.body.data.edges,i;if(n instanceof f||n instanceof y)this.body.data.edges=n;else if(Array.isArray(n))this.body.data.edges=new f,this.body.data.edges.add(n);else{if(n)throw new TypeError("Array or DataSet expected");this.body.data.edges=new f}(t&&u.forEach(this.edgesListeners,function(n,i){t.off(i,n)}),this.body.edges={},this.body.data.edges)&&(u.forEach(this.edgesListeners,function(n,t){r.body.data.edges.on(t,n)}),i=this.body.data.edges.getIds(),this.add(i,!0));e===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(n){for(var t,r,f,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=this.body.edges,o=this.body.data.edges,i=0;i<n.length;i++)t=n[i],r=u[t],r&&r.disconnect(),f=o.get(t,{showInternalIds:!0}),u[t]=this.create(f);e===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(n){for(var e=this.body.edges,o=this.body.data.edges,t=!1,r=0;r<n.length;r++){var u=n[r],f=o.get(u),i=e[u];void 0!==i?(i.disconnect(),t=i.setOptions(f)||t,i.connect()):(this.body.edges[u]=this.create(f),t=!0)}t===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(n){for(var u,i,r=this.body.edges,t=0;t<n.length;t++)u=n[t],i=r[u],void 0!==i&&(i.cleanup(),i.disconnect(),delete r[u]);this.body.emitter.emit("_dataChanged")}},{key:"refresh",value:function(){var i=this.body.edges,n,t,r;for(n in i)t=void 0,i.hasOwnProperty(n)&&(t=i[n]),r=this.body.data.edges._data[n],void 0!==t&&void 0!==r&&t.setOptions(r)}},{key:"create",value:function(n){return new e.default(n,this.body,this.options,this.defaultOptions,this.edgeOptions)}},{key:"reconnectEdges",value:function(){var n,i=this.body.nodes,r=this.body.edges,t;for(n in i)i.hasOwnProperty(n)&&(i[n].edges=[]);for(n in r)r.hasOwnProperty(n)&&(t=r[n],t.from=null,t.to=null,t.connect())}},{key:"getConnectedNodes",value:function(n){var i=[],t;return void 0!==this.body.edges[n]&&(t=this.body.edges[n],t.fromId&&i.push(t.fromId),t.toId&&i.push(t.toId)),i}}]),n}();t.default=p},function(n,t,i){function u(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(82),v=u(a),y=i(55),f=u(y),p=i(62),e=u(p),w=i(115),b=u(w),k=i(116),d=u(k),g=i(160),o=u(g),nt=i(193),s=u(nt),tt=i(197),h=u(tt),it=i(198),c=u(it),rt=i(199),l=u(rt),r=i(1),ut=function(){function n(t,i,u,f,e){if(b.default(this,n),void 0===i)throw"No body provided";this.options=r.bridgeObject(u);this.globalOptions=u;this.defaultOptions=f;this.edgeOptions=e;this.body=i;this.id=void 0;this.fromId=void 0;this.toId=void 0;this.selected=!1;this.hover=!1;this.labelDirty=!0;this.baseWidth=this.options.width;this.baseFontSize=this.options.font.size;this.from=void 0;this.to=void 0;this.edgeType=void 0;this.connected=!1;this.labelModule=new o.default(this.body,this.options,!0);this.setOptions(t)}return d.default(n,[{key:"setOptions",value:function(t){if(t){n.parseOptions(this.options,t,!0,this.globalOptions);void 0!==t.id&&(this.id=t.id);void 0!==t.from&&(this.fromId=t.from);void 0!==t.to&&(this.toId=t.to);void 0!==t.title&&(this.title=t.title);void 0!==t.value&&(t.value=parseFloat(t.value));this.choosify(t);this.updateLabelModule(t);this.labelModule.propagateFonts(this.edgeOptions,t,this.defaultOptions);var i=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),void 0===t.hidden&&void 0===t.physics||(i=!0),i}}},{key:"choosify",value:function(n){var u,t,i;this.chooser=!0;u=[n,this.options,this.defaultOptions];t=r.topMost(u,"chosen");"boolean"==typeof t?this.chooser=t:"object"===("undefined"==typeof t?"undefined":e.default(t))&&(i=r.topMost(u,["chosen","edge"]),"boolean"!=typeof i&&"function"!=typeof i||(this.chooser=i))}},{key:"getFormattingValues",value:function(){var u=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,f=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,e=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,r=this.options.color.inherit,n={toArrow:u,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:e,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:f,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:r?void 0:this.options.color.color,inheritsColor:r,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width},t,i;return this.selected||this.hover?this.chooser===!0?this.selected?(t=this.options.selectionWidth,"function"==typeof t?n.width=t(n.width):"number"==typeof t&&(n.width+=t),n.width=Math.max(n.width,.3/this.body.view.scale),n.color=this.options.color.highlight,n.shadow=this.options.shadow.enabled):this.hover&&(i=this.options.hoverWidth,"function"==typeof i?n.width=i(n.width):"number"==typeof i&&(n.width+=i),n.width=Math.max(n.width,.3/this.body.view.scale),n.color=this.options.color.hover,n.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(n,this.options.id,this.selected,this.hover),void 0!==n.color&&(n.inheritsColor=!1),n.shadow===!1&&(n.shadowColor===this.options.shadow.color&&n.shadowSize===this.options.shadow.size&&n.shadowX===this.options.shadow.x&&n.shadowY===this.options.shadow.y||(n.shadow=!0))):(n.shadow=this.options.shadow.enabled,n.width=Math.max(n.width,.3/this.body.view.scale)),n}},{key:"updateLabelModule",value:function(n){this.labelModule.setOptions(this.options,!0);void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize);this.labelModule.constrain(this.edgeOptions,n,this.defaultOptions);this.labelModule.choosify(this.edgeOptions,n,this.defaultOptions)}},{key:"updateEdgeType",value:function(){var n=this.options.smooth,t=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof h.default&&n.enabled===!0&&"dynamic"===n.type||this.edgeType instanceof s.default&&n.enabled===!0&&"cubicBezier"===n.type||this.edgeType instanceof c.default&&n.enabled===!0&&"dynamic"!==n.type&&"cubicBezier"!==n.type||this.edgeType instanceof l.default&&n.type.enabled===!1)&&(i=!1),i===!0&&(t=this.cleanup())),i===!0?n.enabled===!0?"dynamic"===n.type?(t=!0,this.edgeType=new h.default(this.options,this.body,this.labelModule)):this.edgeType="cubicBezier"===n.type?new s.default(this.options,this.body,this.labelModule):new c.default(this.options,this.body,this.labelModule):this.edgeType=new l.default(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}},{key:"connect",value:function(){this.disconnect();this.from=this.body.nodes[this.fromId]||void 0;this.to=this.body.nodes[this.toId]||void 0;this.connected=void 0!==this.from&&void 0!==this.to;this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this));this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0);this.to&&(this.to.detachEdge(this),this.to=void 0);this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(n,t,i){var r,u,f;void 0!==this.options.value?(r=this.options.scaling.customScalingFunction(n,t,i,this.options.value),u=this.options.scaling.max-this.options.scaling.min,this.options.scaling.label.enabled===!0&&(f=this.options.scaling.label.max-this.options.scaling.label.min,this.options.font.size=this.options.scaling.label.min+r*f),this.options.width=this.options.scaling.min+r*u):(this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize);this._setInteractionWidths();this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){this.edgeType.hoverWidth="function"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width;this.edgeType.selectionWidth="function"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:"draw",value:function(n){var t=this.getFormattingValues(),r,i;t.hidden||(r=this.edgeType.getViaNode(),i={},this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(i.from=this.edgeType.getArrowData(n,"from",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core)),t.toArrow&&(i.to=this.edgeType.getArrowData(n,"to",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core)),t.middleArrow&&(i.middle=this.edgeType.getArrowData(n,"middle",r,this.selected,this.hover,t)),this.edgeType.drawLine(n,t,this.selected,this.hover,r),this.drawArrows(n,i,t),this.drawLabel(n,r))}},{key:"drawArrows",value:function(n,t,i){i.fromArrow&&this.edgeType.drawArrowHead(n,i,this.selected,this.hover,t.from);i.middleArrow&&this.edgeType.drawArrowHead(n,i,this.selected,this.hover,t.middle);i.toArrow&&this.edgeType.drawArrowHead(n,i,this.selected,this.hover,t.to)}},{key:"drawLabel",value:function(n,t){var r,e,o,u;if(void 0!==this.options.label){var i=this.from,s=this.to,f=this.from.selected||this.to.selected||this.selected;i.id!=s.id?(this.labelModule.pointToSelf=!1,r=this.edgeType.getPoint(.5,t),n.save(),"horizontal"!==this.options.font.align&&(this.labelModule.calculateLabelSize(n,f,this.hover,r.x,r.y),n.translate(r.x,this.labelModule.size.yLine),this._rotateForLabelAlignment(n)),this.labelModule.draw(n,r.x,r.y,f,this.hover),n.restore()):(this.labelModule.pointToSelf=!0,u=this.options.selfReferenceSize,i.shape.width>i.shape.height?(e=i.x+.5*i.shape.width,o=i.y-u):(e=i.x+u,o=i.y-.5*i.shape.height),r=this._pointOnCircle(e,o,u,.125),this.labelModule.draw(n,r.x,r.y,f,this.hover))}}},{key:"isOverlappingWith",value:function(n){if(this.connected){var t=this.from.x,i=this.from.y,r=this.to.x,u=this.to.y,f=n.left,e=n.top,o=this.edgeType.getDistanceToEdge(t,i,r,u,f,e);return o<10}return!1}},{key:"_rotateForLabelAlignment",value:function(n){var r=this.from.y-this.to.y,i=this.from.x-this.to.x,t=Math.atan2(r,i);(t<-1&&i<0||t>0&&i<0)&&(t+=Math.PI);n.rotate(t)}},{key:"_pointOnCircle",value:function(n,t,i,r){var u=2*r*Math.PI;return{x:n+i*Math.cos(u),y:t-i*Math.sin(u)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}}],[{key:"parseOptions",value:function(n,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},h,s;if(r.selectiveDeepExtend(["arrowStrikethrough","id","from","hidden","hoverWidth","label","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width"],n,t,i),r.mergeOptions(n,t,"smooth",i,u),r.mergeOptions(n,t,"shadow",i,u),void 0!==t.dashes&&null!==t.dashes?n.dashes=t.dashes:i===!0&&null===t.dashes&&(n.dashes=f.default(u.dashes)),void 0!==t.scaling&&null!==t.scaling?(void 0!==t.scaling.min&&(n.scaling.min=t.scaling.min),void 0!==t.scaling.max&&(n.scaling.max=t.scaling.max),r.mergeOptions(n.scaling,t.scaling,"label",i,u.scaling)):i===!0&&null===t.scaling&&(n.scaling=f.default(u.scaling)),void 0!==t.arrows&&null!==t.arrows)if("string"==typeof t.arrows)h=t.arrows.toLowerCase(),n.arrows.to.enabled=h.indexOf("to")!=-1,n.arrows.middle.enabled=h.indexOf("middle")!=-1,n.arrows.from.enabled=h.indexOf("from")!=-1;else{if("object"!==e.default(t.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+v.default(t.arrows));r.mergeOptions(n.arrows,t.arrows,"to",i,u.arrows);r.mergeOptions(n.arrows,t.arrows,"middle",i,u.arrows);r.mergeOptions(n.arrows,t.arrows,"from",i,u.arrows)}else i===!0&&null===t.arrows&&(n.arrows=f.default(u.arrows));void 0!==t.color&&null!==t.color?(n.color=r.deepExtend({},n.color,!0),r.isString(t.color))?(n.color.color=t.color,n.color.highlight=t.color,n.color.hover=t.color,n.color.inherit=!1):(s=!1,void 0!==t.color.color&&(n.color.color=t.color.color,s=!0),void 0!==t.color.highlight&&(n.color.highlight=t.color.highlight,s=!0),void 0!==t.color.hover&&(n.color.hover=t.color.hover,s=!0),void 0!==t.color.inherit&&(n.color.inherit=t.color.inherit),void 0!==t.color.opacity&&(n.color.opacity=Math.min(1,Math.max(0,t.color.opacity))),void 0===t.color.inherit&&s===!0&&(n.color.inherit=!1)):i===!0&&null===t.color&&(n.color=r.bridgeObject(u.color));void 0!==t.font&&null!==t.font?o.default.parseOptions(n.font,t):i===!0&&null===t.font&&(n.font=r.bridgeObject(u.font))}}]),n}();t.default=ut},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var f=i(161),u=r(f),e=i(166),o=r(e),s=i(115),h=r(s),c=i(116),l=r(c),a=i(169),v=r(a),y=i(170),p=r(y),w=i(194),b=r(w),k=function(n){function t(n,i,r){return h.default(this,t),v.default(this,(t.__proto__||o.default(t)).call(this,n,i,r))}return p.default(t,n),l.default(t,[{key:"_line",value:function(n,t,i){var r=i[0],u=i[1];n.beginPath();n.moveTo(this.fromPoint.x,this.fromPoint.y);void 0===i||void 0===r.x?n.lineTo(this.toPoint.x,this.toPoint.y):n.bezierCurveTo(r.x,r.y,u.x,u.y,this.toPoint.x,this.toPoint.y);this.enableShadow(n,t);n.stroke();this.disableShadow(n,t)}},{key:"_getViaCoordinates",value:function(){var t=this.from.x-this.to.x,i=this.from.y-this.to.y,r=void 0,u=void 0,f=void 0,e=void 0,n=this.options.smooth.roundness;return(Math.abs(t)>Math.abs(i)||this.options.smooth.forceDirection===!0||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(u=this.from.y,e=this.to.y,r=this.from.x-n*t,f=this.to.x+n*t):(u=this.from.y-n*i,e=this.to.y+n*i,r=this.from.x,f=this.to.x),[{x:r,y:u},{x:f,y:e}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(n,t){return this._findBorderPositionBezier(n,t)}},{key:"_getDistanceToEdge",value:function(n,t,i,r,f,e){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),o=u.default(s,2),h=o[0],c=o[1];return this._getDistanceToBezierEdge(n,t,i,r,f,e,h,c)}},{key:"getPoint",value:function(n){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),r=u.default(h,2),f=r[0],e=r[1],i=n,t=[],o,s;return t[0]=Math.pow(1-i,3),t[1]=3*i*Math.pow(1-i,2),t[2]=3*Math.pow(i,2)*(1-i),t[3]=Math.pow(i,3),o=t[0]*this.fromPoint.x+t[1]*f.x+t[2]*e.x+t[3]*this.toPoint.x,s=t[0]*this.fromPoint.y+t[1]*f.y+t[2]*e.y+t[3]*this.toPoint.y,{x:o,y:s}}}]),t}(b.default);t.default=k},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(166),f=r(u),e=i(115),o=r(e),s=i(116),h=r(s),c=i(169),l=r(c),a=i(170),v=r(a),y=i(195),p=r(y),w=function(n){function t(n,i,r){return o.default(this,t),l.default(this,(t.__proto__||f.default(t)).call(this,n,i,r))}return v.default(t,n),h.default(t,[{key:"_getDistanceToBezierEdge",value:function(n,t,i,r,u,f,e,o){for(var l=1e9,a=void 0,c=void 0,h=void 0,v=void 0,y=void 0,p=n,w=t,s=[0,0,0,0],c=1;c<10;c++)h=.1*c,s[0]=Math.pow(1-h,3),s[1]=3*h*Math.pow(1-h,2),s[2]=3*Math.pow(h,2)*(1-h),s[3]=Math.pow(h,3),v=s[0]*n+s[1]*e.x+s[2]*o.x+s[3]*i,y=s[0]*t+s[1]*e.y+s[2]*o.y+s[3]*r,c>0&&(a=this._getDistanceToLine(p,w,v,y,u,f),l=a<l?a:l),p=v,w=y;return l}}]),t}(p.default);t.default=w},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(166),f=r(u),e=i(115),o=r(e),s=i(116),h=r(s),c=i(169),l=r(c),a=i(170),v=r(a),y=i(196),p=r(y),w=function(n){function t(n,i,r){return o.default(this,t),l.default(this,(t.__proto__||f.default(t)).call(this,n,i,r))}return v.default(t,n),h.default(t,[{key:"_findBorderPositionBezier",value:function(n,t){var i,h,c,l,o,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),a=0,f=0,e=1,u=this.to,s=!1,r;for(n.id===this.from.id&&(u=this.from,s=!0);f<=e&&a<10;){if(r=.5*(f+e),i=this.getPoint(r,v),h=Math.atan2(u.y-i.y,u.x-i.x),c=u.distanceToBorder(t,h),l=Math.sqrt(Math.pow(i.x-u.x,2)+Math.pow(i.y-u.y,2)),o=c-l,Math.abs(o)<.2)break;o<0?s===!1?f=r:e=r:s===!1?e=r:f=r;a++}return i.t=r,i}},{key:"_getDistanceToBezierEdge",value:function(n,t,i,r,u,f,e){for(var h=1e9,c=void 0,s=void 0,o=void 0,l=void 0,a=void 0,v=n,y=t,s=1;s<10;s++)o=.1*s,l=Math.pow(1-o,2)*n+2*o*(1-o)*e.x+Math.pow(o,2)*i,a=Math.pow(1-o,2)*t+2*o*(1-o)*e.y+Math.pow(o,2)*r,s>0&&(c=this._getDistanceToLine(v,y,l,a,u,f),h=c<h?c:h),v=l,y=a;return h}}]),t}(p.default);t.default=w},function(n,t,i){function f(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var e=i(161),r=f(e),o=i(115),s=f(o),h=i(116),c=f(h),u=i(1),l=function(){function n(t,i,r){s.default(this,n);this.body=i;this.labelModule=r;this.options={};this.setOptions(t);this.colorDirty=!0;this.color={};this.selectionWidth=2;this.hoverWidth=1.5;this.fromPoint=this.from;this.toPoint=this.to}return c.default(n,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from];this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(n){this.options=n;this.from=this.body.nodes[this.options.from];this.to=this.body.nodes[this.options.to];this.id=this.options.id}},{key:"drawLine",value:function(n,t,i,r,u){n.strokeStyle=this.getColor(n,t,i,r);n.lineWidth=t.width;t.dashes!==!1?this._drawDashedLine(n,t,u):this._drawLine(n,t,u)}},{key:"_drawLine",value:function(n,t,i,u,f){if(this.from!=this.to)this._line(n,t,i,u,f);else{var o=this._getCircleData(n),e=r.default(o,3),s=e[0],h=e[1],c=e[2];this._circle(n,t,s,h,c)}}},{key:"_drawDashedLine",value:function(n,t,i){var u;if(n.lineCap="round",u=[5,5],Array.isArray(t.dashes)===!0&&(u=t.dashes),void 0!==n.setLineDash){if(n.save(),n.setLineDash(u),n.lineDashOffset=0,this.from!=this.to)this._line(n,t,i);else{var o=this._getCircleData(n),f=r.default(o,3),s=f[0],h=f[1],c=f[2];this._circle(n,t,s,h,c)}n.setLineDash([0]);n.lineDashOffset=0;n.restore()}else{if(this.from!=this.to)n.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,u);else{var l=this._getCircleData(n),e=r.default(l,3),a=e[0],v=e[1],y=e[2];this._circle(n,t,a,v,y)}this.enableShadow(n,t);n.stroke();this.disableShadow(n,t)}}},{key:"findBorderPosition",value:function(n,t,i){return this.from!=this.to?this._findBorderPosition(n,t,i):this._findBorderPositionCircle(n,t,i)}},{key:"findBorderPositions",value:function(n){var t={},i={};if(this.from!=this.to)t=this._findBorderPosition(this.from,n),i=this._findBorderPosition(this.to,n);else{var o=this._getCircleData(n),u=r.default(o,3),f=u[0],e=u[1];u[2];t=this._findBorderPositionCircle(this.from,n,{x:f,y:e,low:.25,high:.6,direction:-1});i=this._findBorderPositionCircle(this.from,n,{x:f,y:e,low:.6,high:.8,direction:1})}return{from:t,to:i}}},{key:"_getCircleData",value:function(n){var i=void 0,r=void 0,t=this.from,u=this.options.selfReferenceSize;return void 0!==n&&void 0===t.shape.width&&t.shape.resize(n),t.shape.width>t.shape.height?(i=t.x+.5*t.shape.width,r=t.y-u):(i=t.x+u,r=t.y-.5*t.shape.height),[i,r,u]}},{key:"_pointOnCircle",value:function(n,t,i,r){var u=2*r*Math.PI;return{x:n+i*Math.cos(u),y:t-i*Math.sin(u)}}},{key:"_findBorderPositionCircle",value:function(n,t,i){for(var v=i.x,y=i.y,f=i.low,e=i.high,s=i.direction,h=0,p=this.options.selfReferenceSize,r=void 0,c=void 0,l=void 0,a=void 0,o=void 0,u=.5*(f+e);f<=e&&h<10&&(u=.5*(f+e),r=this._pointOnCircle(v,y,p,u),c=Math.atan2(n.y-r.y,n.x-r.x),l=n.distanceToBorder(t,c),a=Math.sqrt(Math.pow(r.x-n.x,2)+Math.pow(r.y-n.y,2)),o=l-a,!(Math.abs(o)<.05));)o>0?s>0?f=u:e=u:s>0?e=u:f=u,h++;return r.t=u,r}},{key:"getLineWidth",value:function(n,t){return n===!0?Math.max(this.selectionWidth,.3/this.body.view.scale):t===!0?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(n,t){if(t.inheritsColor!==!1){if("both"===t.inheritsColor&&this.from.id!==this.to.id){var f=n.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),i=void 0,r=void 0;return i=this.from.options.color.highlight.border,r=this.to.options.color.highlight.border,this.from.selected===!1&&this.to.selected===!1?(i=u.overrideOpacity(this.from.options.color.border,t.opacity),r=u.overrideOpacity(this.to.options.color.border,t.opacity)):this.from.selected===!0&&this.to.selected===!1?r=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),f.addColorStop(0,i),f.addColorStop(1,r),f}return"to"===t.inheritsColor?u.overrideOpacity(this.to.options.color.border,t.opacity):u.overrideOpacity(this.from.options.color.border,t.opacity)}return u.overrideOpacity(t.color,t.opacity)}},{key:"_circle",value:function(n,t,i,r,u){this.enableShadow(n,t);n.beginPath();n.arc(i,r,u,0,2*Math.PI,!1);n.stroke();this.disableShadow(n,t)}},{key:"getDistanceToEdge",value:function(n,t,i,u,f,e,o){var s=0;if(this.from!=this.to)s=this._getDistanceToEdge(n,t,i,u,f,e,o);else{var a=this._getCircleData(void 0),h=r.default(a,3),v=h[0],y=h[1],p=h[2],c=v-f,l=y-e;s=Math.abs(Math.sqrt(c*c+l*l)-p)}return this.labelModule.size.left<f&&this.labelModule.size.left+this.labelModule.size.width>f&&this.labelModule.size.top<e&&this.labelModule.size.top+this.labelModule.size.height>e?0:s}},{key:"_getDistanceToLine",value:function(n,t,i,r,u,f){var o=i-n,s=r-t,l=o*o+s*s,e=((u-n)*o+(f-t)*s)/l;e>1?e=1:e<0&&(e=0);var a=n+e*o,v=t+e*s,h=a-u,c=v-f;return Math.sqrt(h*h+c*c)}},{key:"getArrowData",value:function(n,t,i,u,f,e){var h=void 0,o=void 0,s=void 0,c=void 0,v=void 0,l=void 0,a=void 0,d=e.width,y;if("from"===t?(s=this.from,c=this.to,v=.1,l=e.fromArrowScale,a=e.fromArrowType):"to"===t?(s=this.to,c=this.from,v=-.1,l=e.toArrowScale,a=e.toArrowType):(s=this.to,c=this.from,l=e.middleArrowScale,a=e.middleArrowType),s!=c)"middle"!==t?this.options.smooth.enabled===!0?(o=this.findBorderPosition(s,n,{via:i}),y=this.getPoint(Math.max(0,Math.min(1,o.t+v)),i),h=Math.atan2(o.y-y.y,o.x-y.x)):(h=Math.atan2(s.y-c.y,s.x-c.x),o=this.findBorderPosition(s,n)):(h=Math.atan2(s.y-c.y,s.x-c.x),o=this.getPoint(.5,i));else{var g=this._getCircleData(n),p=r.default(g,3),w=p[0],b=p[1],nt=p[2];"from"===t?(o=this.findBorderPosition(this.from,n,{x:w,y:b,low:.25,high:.6,direction:-1}),h=o.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI):"to"===t?(o=this.findBorderPosition(this.from,n,{x:w,y:b,low:.6,high:1,direction:1}),h=o.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI):(o=this._pointOnCircle(w,b,nt,.175),h=3.9269908169872414)}var k=15*l+3*d,tt=o.x-.9*k*Math.cos(h),it=o.y-.9*k*Math.sin(h),rt={x:tt,y:it};return{point:o,core:rt,angle:h,length:k,type:a}}},{key:"drawArrowHead",value:function(n,t,i,r,u){n.strokeStyle=this.getColor(n,t,i,r);n.fillStyle=n.strokeStyle;n.lineWidth=t.width;u.type&&"circle"===u.type.toLowerCase()?n.circleEndpoint(u.point.x,u.point.y,u.angle,u.length):n.arrowEndpoint(u.point.x,u.point.y,u.angle,u.length);this.enableShadow(n,t);n.fill();this.disableShadow(n,t)}},{key:"enableShadow",value:function(n,t){t.shadow===!0&&(n.shadowColor=t.shadowColor,n.shadowBlur=t.shadowSize,n.shadowOffsetX=t.shadowX,n.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(n,t){t.shadow===!0&&(n.shadowColor="rgba(0,0,0,0)",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0)}}]),n}();t.default=l},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(161),f=r(u),e=i(166),o=r(e),s=i(115),h=r(s),c=i(116),l=r(c),a=i(169),v=r(a),y=i(170),p=r(y),w=i(195),b=r(w),k=function(n){function t(n,i,r){h.default(this,t);var u=v.default(this,(t.__proto__||o.default(t)).call(this,n,i,r));return u._boundFunction=function(){u.positionBezierNode()},u.body.emitter.on("_repositionBezierNodes",u._boundFunction),u}return p.default(t,n),l.default(t,[{key:"setOptions",value:function(n){var t=!1;this.options.physics!==n.physics&&(t=!0);this.options=n;this.id=this.options.id;this.from=this.body.nodes[this.options.from];this.to=this.body.nodes[this.options.to];this.setupSupportNode();this.connect();t===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from];this.to=this.body.nodes[this.options.to];void 0===this.from||void 0===this.to||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var n="edgeId:"+this.id,t=this.body.functions.createNode({id:n,shape:"circle",physics:!0,hidden:!0});this.body.nodes[n]=t;this.via=t;this.via.parentEdgeId=this.id;this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(n,t,i){n.beginPath();n.moveTo(this.fromPoint.x,this.fromPoint.y);void 0===i.x?n.lineTo(this.toPoint.x,this.toPoint.y):n.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y);this.enableShadow(n,t);n.stroke();this.disableShadow(n,t)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via,t=n,i=void 0,r=void 0;if(this.from===this.to){var h=this._getCircleData(this.from),u=f.default(h,3),c=u[0],l=u[1],e=u[2],s=2*Math.PI*(1-t);i=c+e*Math.sin(s);r=l+e-e*(1-Math.cos(s))}else i=Math.pow(1-t,2)*this.fromPoint.x+2*t*(1-t)*o.x+Math.pow(t,2)*this.toPoint.x,r=Math.pow(1-t,2)*this.fromPoint.y+2*t*(1-t)*o.y+Math.pow(t,2)*this.toPoint.y;return{x:i,y:r}}},{key:"_findBorderPosition",value:function(n,t){return this._findBorderPositionBezier(n,t,this.via)}},{key:"_getDistanceToEdge",value:function(n,t,i,r,u,f){return this._getDistanceToBezierEdge(n,t,i,r,u,f,this.via)}}]),t}(b.default);t.default=k},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(166),f=r(u),e=i(115),o=r(e),s=i(116),h=r(s),c=i(169),l=r(c),a=i(170),v=r(a),y=i(195),p=r(y),w=function(n){function t(n,i,r){return o.default(this,t),l.default(this,(t.__proto__||f.default(t)).call(this,n,i,r))}return v.default(t,n),h.default(t,[{key:"_line",value:function(n,t,i){n.beginPath();n.moveTo(this.fromPoint.x,this.fromPoint.y);void 0===i.x?n.lineTo(this.toPoint.x,this.toPoint.y):n.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y);this.enableShadow(n,t);n.stroke();this.disableShadow(n,t)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t=void 0,i=void 0,n=this.options.smooth.roundness,f=this.options.smooth.type,r=Math.abs(this.from.x-this.to.x),u=Math.abs(this.from.y-this.to.y);if("discrete"===f||"diagonalCross"===f)Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?(this.from.y>=this.to.y?this.from.x<=this.to.x?(t=this.from.x+n*u,i=this.from.y-n*u):this.from.x>this.to.x&&(t=this.from.x-n*u,i=this.from.y-n*u):this.from.y<this.to.y&&(this.from.x<=this.to.x?(t=this.from.x+n*u,i=this.from.y+n*u):this.from.x>this.to.x&&(t=this.from.x-n*u,i=this.from.y+n*u)),"discrete"===f&&(t=r<n*u?this.from.x:t)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>=this.to.y?this.from.x<=this.to.x?(t=this.from.x+n*r,i=this.from.y-n*r):this.from.x>this.to.x&&(t=this.from.x-n*r,i=this.from.y-n*r):this.from.y<this.to.y&&(this.from.x<=this.to.x?(t=this.from.x+n*r,i=this.from.y+n*r):this.from.x>this.to.x&&(t=this.from.x-n*r,i=this.from.y+n*r)),"discrete"===f&&(i=u<n*r?this.from.y:i));else if("straightCross"===f)Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?(t=this.from.x,i=this.from.y<this.to.y?this.to.y-(1-n)*u:this.to.y+(1-n)*u):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(t=this.from.x<this.to.x?this.to.x-(1-n)*r:this.to.x+(1-n)*r,i=this.from.y);else if("horizontal"===f)t=this.from.x<this.to.x?this.to.x-(1-n)*r:this.to.x+(1-n)*r,i=this.from.y;else if("vertical"===f)t=this.from.x,i=this.from.y<this.to.y?this.to.y-(1-n)*u:this.to.y+(1-n)*u;else if("curvedCW"===f){r=this.to.x-this.from.x;u=this.from.y-this.to.y;var e=Math.sqrt(r*r+u*u),o=Math.PI,a=Math.atan2(u,r),s=(a+(.5*n+.5)*o)%(2*o);t=this.from.x+(.5*n+.5)*e*Math.sin(s);i=this.from.y+(.5*n+.5)*e*Math.cos(s)}else if("curvedCCW"===f){r=this.to.x-this.from.x;u=this.from.y-this.to.y;var h=Math.sqrt(r*r+u*u),c=Math.PI,v=Math.atan2(u,r),l=(v+(.5*-n+.5)*c)%(2*c);t=this.from.x+(.5*n+.5)*h*Math.sin(l);i=this.from.y+(.5*n+.5)*h*Math.cos(l)}else Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?this.from.y>=this.to.y?this.from.x<=this.to.x?(t=this.from.x+n*u,i=this.from.y-n*u,t=this.to.x<t?this.to.x:t):this.from.x>this.to.x&&(t=this.from.x-n*u,i=this.from.y-n*u,t=this.to.x>t?this.to.x:t):this.from.y<this.to.y&&(this.from.x<=this.to.x?(t=this.from.x+n*u,i=this.from.y+n*u,t=this.to.x<t?this.to.x:t):this.from.x>this.to.x&&(t=this.from.x-n*u,i=this.from.y+n*u,t=this.to.x>t?this.to.x:t)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>=this.to.y?this.from.x<=this.to.x?(t=this.from.x+n*r,i=this.from.y-n*r,i=this.to.y>i?this.to.y:i):this.from.x>this.to.x&&(t=this.from.x-n*r,i=this.from.y-n*r,i=this.to.y>i?this.to.y:i):this.from.y<this.to.y&&(this.from.x<=this.to.x?(t=this.from.x+n*r,i=this.from.y+n*r,i=this.to.y<i?this.to.y:i):this.from.x>this.to.x&&(t=this.from.x-n*r,i=this.from.y+n*r,i=this.to.y<i?this.to.y:i)));return{x:t,y:i}}},{key:"_findBorderPosition",value:function(n,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(n,t,i.via)}},{key:"_getDistanceToEdge",value:function(n,t,i,r,u,f){var e=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(n,t,i,r,u,f,e)}},{key:"getPoint",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),t=n,r=Math.pow(1-t,2)*this.fromPoint.x+2*t*(1-t)*i.x+Math.pow(t,2)*this.toPoint.x,u=Math.pow(1-t,2)*this.fromPoint.y+2*t*(1-t)*i.y+Math.pow(t,2)*this.toPoint.y;return{x:r,y:u}}}]),t}(p.default);t.default=w},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(166),f=r(u),e=i(115),o=r(e),s=i(116),h=r(s),c=i(169),l=r(c),a=i(170),v=r(a),y=i(196),p=r(y),w=function(n){function t(n,i,r){return o.default(this,t),l.default(this,(t.__proto__||f.default(t)).call(this,n,i,r))}return v.default(t,n),h.default(t,[{key:"_line",value:function(n,t){n.beginPath();n.moveTo(this.fromPoint.x,this.fromPoint.y);n.lineTo(this.toPoint.x,this.toPoint.y);this.enableShadow(n,t);n.stroke();this.disableShadow(n,t)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(n){return{x:(1-n)*this.fromPoint.x+n*this.toPoint.x,y:(1-n)*this.fromPoint.y+n*this.toPoint.y}}},{key:"_findBorderPosition",value:function(n,t){var i=this.to,r=this.from;n.id===this.from.id&&(i=this.from,r=this.to);var h=Math.atan2(i.y-r.y,i.x-r.x),e=i.x-r.x,o=i.y-r.y,s=Math.sqrt(e*e+o*o),c=n.distanceToBorder(t,h),u=(s-c)/s,f={};return f.x=(1-u)*r.x+u*i.x,f.y=(1-u)*r.y+u*i.y,f}},{key:"_getDistanceToEdge",value:function(n,t,i,r,u,f){return this._getDistanceToLine(n,t,i,r,u,f)}}]),t}(p.default);t.default=w},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(58),s=r(o),h=i(115),c=r(h),l=i(116),a=r(l),v=i(201),y=r(v),p=i(202),w=r(p),b=i(203),k=r(b),d=i(204),f=r(d),g=i(205),nt=r(g),tt=i(206),e=r(tt),it=i(207),rt=r(it),ut=i(208),ft=r(ut),u=i(1),et=function(){function n(t){c.default(this,n);this.body=t;this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}};this.physicsEnabled=!0;this.simulationInterval=1e3/60;this.requiresTimeout=!0;this.previousStates={};this.referenceState={};this.freezeCache={};this.renderTimer=void 0;this.adaptiveTimestep=!1;this.adaptiveTimestepEnabled=!1;this.adaptiveCounter=0;this.adaptiveInterval=3;this.stabilized=!1;this.startedStabilization=!1;this.stabilizationIterations=0;this.ready=!1;this.options={};this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0};u.extend(this.options,this.defaultOptions);this.timestep=.5;this.layoutFailed=!1;this.bindEventListeners()}return a.default(n,[{key:"bindEventListeners",value:function(){var n=this;this.body.emitter.on("initPhysics",function(){n.initPhysics()});this.body.emitter.on("_layoutFailed",function(){n.layoutFailed=!0});this.body.emitter.on("resetPhysics",function(){n.stopSimulation();n.ready=!1});this.body.emitter.on("disablePhysics",function(){n.physicsEnabled=!1;n.stopSimulation()});this.body.emitter.on("restorePhysics",function(){n.setOptions(n.options);n.ready===!0&&n.startSimulation()});this.body.emitter.on("startSimulation",function(){n.ready===!0&&n.startSimulation()});this.body.emitter.on("stopSimulation",function(){n.stopSimulation()});this.body.emitter.on("destroy",function(){n.stopSimulation(!1);n.body.emitter.off()});this.body.emitter.on("_dataChanged",function(){n.updatePhysicsData()})}},{key:"setOptions",value:function(n){void 0!==n&&(n===!1?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):(this.physicsEnabled=!0,u.selectiveNotDeepExtend(["stabilization"],this.options,n),u.mergeOptions(this.options,n,"stabilization"),void 0===n.enabled&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep));this.init()}},{key:"init",value:function(){var n;"forceAtlas2Based"===this.options.solver?(n=this.options.forceAtlas2Based,this.nodesSolver=new rt.default(this.body,this.physicsBody,n),this.edgesSolver=new f.default(this.body,this.physicsBody,n),this.gravitySolver=new ft.default(this.body,this.physicsBody,n)):"repulsion"===this.options.solver?(n=this.options.repulsion,this.nodesSolver=new w.default(this.body,this.physicsBody,n),this.edgesSolver=new f.default(this.body,this.physicsBody,n),this.gravitySolver=new e.default(this.body,this.physicsBody,n)):"hierarchicalRepulsion"===this.options.solver?(n=this.options.hierarchicalRepulsion,this.nodesSolver=new k.default(this.body,this.physicsBody,n),this.edgesSolver=new nt.default(this.body,this.physicsBody,n),this.gravitySolver=new e.default(this.body,this.physicsBody,n)):(n=this.options.barnesHut,this.nodesSolver=new y.default(this.body,this.physicsBody,n),this.edgesSolver=new f.default(this.body,this.physicsBody,n),this.gravitySolver=new e.default(this.body,this.physicsBody,n));this.modelOptions=n}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0;n===!0&&this._emitStabilized();void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,n===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=Date.now(),n;this.physicsTick();n=Date.now()-t;(n<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0);this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&setTimeout(function(){n.body.emitter.emit("stabilized",{iterations:t});n.startedStabilization=!1;n.stabilizationIterations=0},0)}},{key:"physicsTick",value:function(){if(this.startedStabilization===!1&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0),this.stabilized===!1){if(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0){var n=1.2;this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.calculateForces(),this.moveNodes(),this.revert(),this.timestep=.5*this.timestep,this.calculateForces(),this.moveNodes(),this.calculateForces(),this.moveNodes(),this._evaluateStepQuality()===!0?this.timestep=n*this.timestep:this.timestep/n<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/n))):(this.calculateForces(),this.moveNodes());this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.calculateForces(),this.moveNodes();this.stabilized===!0&&this.revert();this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){var n,t,i,r,u,f,e;this.physicsBody.forces={};this.physicsBody.physicsNodeIndices=[];this.physicsBody.physicsEdgeIndices=[];n=this.body.nodes;t=this.body.edges;for(i in n)n.hasOwnProperty(i)&&n[i].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(n[i].id);for(r in t)t.hasOwnProperty(r)&&t[r].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(t[r].id);for(u=0;u<this.physicsBody.physicsNodeIndices.length;u++)f=this.physicsBody.physicsNodeIndices[u],this.physicsBody.forces[f]={x:0,y:0},void 0===this.physicsBody.velocities[f]&&(this.physicsBody.velocities[f]={x:0,y:0});for(e in this.physicsBody.velocities)void 0===n[e]&&delete this.physicsBody.velocities[e]}},{key:"revert",value:function(){var r=s.default(this.previousStates),t=this.body.nodes,u=this.physicsBody.velocities,i,n;for(this.referenceState={},i=0;i<r.length;i++)n=r[i],void 0!==t[n]?t[n].options.physics===!0&&(this.referenceState[n]={positions:{x:t[n].x,y:t[n].y}},u[n].x=this.previousStates[n].vx,u[n].y=this.previousStates[n].vy,t[n].x=this.previousStates[n].x,t[n].y=this.previousStates[n].y):delete this.previousStates[n]}},{key:"_evaluateStepQuality",value:function(){var i=void 0,r=void 0,u=void 0,t=this.body.nodes,f=this.referenceState;for(var n in this.referenceState)if(this.referenceState.hasOwnProperty(n)&&void 0!==t[n]&&(i=t[n].x-f[n].positions.x,r=t[n].y-f[n].positions.y,u=Math.sqrt(Math.pow(i,2)+Math.pow(r,2)),u>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var f,r,n=this.physicsBody.physicsNodeIndices,e=this.options.maxVelocity?this.options.maxVelocity:1e9,t=0,u=0,i=0;i<n.length;i++)f=n[i],r=this._performStep(f,e),t=Math.max(t,r),u+=r;this.adaptiveTimestepEnabled=u/n.length<5;this.stabilized=t<this.options.minVelocity}},{key:"_performStep",value:function(n,t){var r=this.body.nodes[n],u=this.timestep,f=this.physicsBody.forces,i=this.physicsBody.velocities,e,o,s,h;return(this.previousStates[n]={x:r.x,y:r.y,vx:i[n].x,vy:i[n].y},r.options.fixed.x===!1)?(e=this.modelOptions.damping*i[n].x,o=(f[n].x-e)/r.options.mass,i[n].x+=o*u,i[n].x=Math.abs(i[n].x)>t?i[n].x>0?t:-t:i[n].x,r.x+=i[n].x*u):(f[n].x=0,i[n].x=0),r.options.fixed.y===!1?(s=this.modelOptions.damping*i[n].y,h=(f[n].y-s)/r.options.mass,i[n].y+=h*u,i[n].y=Math.abs(i[n].y)>t?i[n].y>0?t:-t:i[n].y,r.y+=i[n].y*u):(f[n].y=0,i[n].y=0),Math.sqrt(Math.pow(i[n].x,2)+Math.pow(i[n].y,2))}},{key:"calculateForces",value:function(){this.gravitySolver.solve();this.nodesSolver.solve();this.edgesSolver.solve()}},{key:"_freezeNodes",value:function(){var n=this.body.nodes;for(var t in n)n.hasOwnProperty(t)&&n[t].x&&n[t].y&&(this.freezeCache[t]={x:n[t].options.fixed.x,y:n[t].options.fixed.y},n[t].options.fixed.x=!0,n[t].options.fixed.y=!0)}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var n in t)t.hasOwnProperty(n)&&void 0!==this.freezeCache[n]&&(t[n].options.fixed.x=this.freezeCache[n].x,t[n].options.fixed.y=this.freezeCache[n].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;return"number"!=typeof n&&(console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",this.options.stabilization.iterations),n=this.options.stabilization.iterations),0===this.physicsBody.physicsNodeIndices.length?void(this.ready=!0):(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=n,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,void setTimeout(function(){return t._stabilizationBatch()},0))}},{key:"_stabilizationBatch",value:function(){this.startedStabilization===!1&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0);for(var n=0;this.stabilized===!1&&n<this.options.stabilization.updateInterval&&this.stabilizationIterations<this.targetIterations;)this.physicsTick(),n++;this.stabilized===!1&&this.stabilizationIterations<this.targetIterations?(this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations}),setTimeout(this._stabilizationBatch.bind(this),0)):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw");this.options.stabilization.fit===!0&&this.body.emitter.emit("fit");this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes();this.body.emitter.emit("stabilizationIterationsDone");this.body.emitter.emit("_requestRedraw");this.stabilized===!0?this._emitStabilized():this.startSimulation();this.ready=!0}},{key:"_drawForces",value:function(n){for(var e,r=0;r<this.physicsBody.physicsNodeIndices.length;r++){var i=this.body.nodes[this.physicsBody.physicsNodeIndices[r]],t=this.physicsBody.forces[this.physicsBody.physicsNodeIndices[r]],f=20,s=Math.sqrt(Math.pow(t.x,2)+Math.pow(t.x,2)),h=Math.min(Math.max(5,s),15),o=3*h,c=u.HSVToHex((180-180*Math.min(1,Math.max(0,.03*s)))/360,1,1);n.lineWidth=h;n.strokeStyle=c;n.beginPath();n.moveTo(i.x,i.y);n.lineTo(i.x+f*t.x,i.y+f*t.y);n.stroke();e=Math.atan2(t.y,t.x);n.fillStyle=c;n.arrowEndpoint(i.x+f*t.x+Math.cos(e)*o,i.y+f*t.y+Math.sin(e)*o,e,o);n.fill()}}}]),n}();t.default=et},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(115),f=r(u),e=i(116),o=r(e),s=function(){function n(t,i,r){f.default(this,n);this.body=t;this.physicsBody=i;this.barnesHutTree;this.setOptions(r);this.randomSeed=5}return o.default(n,[{key:"setOptions",value:function(n){this.options=n;this.thetaInversed=1/this.options.theta;this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var n=1e4*Math.sin(this.randomSeed++);return n-Math.floor(n)}},{key:"solve",value:function(){var i;if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var n=void 0,u=this.body.nodes,r=this.physicsBody.physicsNodeIndices,f=r.length,t=this._formBarnesHutTree(u,r);for(this.barnesHutTree=t,i=0;i<f;i++)n=u[r[i]],n.options.mass>0&&(this._getForceContribution(t.root.children.NW,n),this._getForceContribution(t.root.children.NE,n),this._getForceContribution(t.root.children.SW,n),this._getForceContribution(t.root.children.SE,n))}}},{key:"_getForceContribution",value:function(n,t){if(n.childrenCount>0){var i=void 0,r=void 0,u=void 0;i=n.centerOfMass.x-t.x;r=n.centerOfMass.y-t.y;u=Math.sqrt(i*i+r*r);u*n.calcSize>this.thetaInversed?this._calculateForces(u,i,r,t,n):4===n.childrenCount?(this._getForceContribution(n.children.NW,t),this._getForceContribution(n.children.NE,t),this._getForceContribution(n.children.SW,t),this._getForceContribution(n.children.SE,t)):n.children.data.id!=t.id&&this._calculateForces(u,i,r,t,n)}}},{key:"_calculateForces",value:function(n,t,i,r,u){0===n&&(n=.1,t=n);this.overlapAvoidanceFactor<1&&r.shape.radius&&(n=Math.max(.1+this.overlapAvoidanceFactor*r.shape.radius,n-r.shape.radius));var f=this.options.gravitationalConstant*u.mass*r.options.mass/Math.pow(n,3),e=t*f,o=i*f;this.physicsBody.forces[r.id].x+=e;this.physicsBody.forces[r.id].y+=o}},{key:"_formBarnesHutTree",value:function(n,t){for(var s,h,u,l,a=void 0,p=t.length,i=n[t[0]].x,f=n[t[0]].y,r=n[t[0]].x,e=n[t[0]].y,o=1;o<p;o++)s=n[t[o]].x,h=n[t[o]].y,n[t[o]].options.mass>0&&(s<i&&(i=s),s>r&&(r=s),h<f&&(f=h),h>e&&(e=h));u=Math.abs(r-i)-Math.abs(e-f);u>0?(f-=.5*u,e+=.5*u):(i+=.5*u,r-=.5*u);var v=Math.max(1e-5,Math.abs(r-i)),c=.5*v,w=.5*(i+r),b=.5*(f+e),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:w-c,maxX:w+c,minY:b-c,maxY:b+c},size:v,calcSize:1/v,children:{data:null},maxWidth:0,level:0,childrenCount:4}};for(this._splitBranch(y.root),l=0;l<p;l++)a=n[t[l]],a.options.mass>0&&this._placeInTree(y.root,a);return y}},{key:"_updateBranchMass",value:function(n,t){var r=n.mass+t.options.mass,u=1/r,i;n.centerOfMass.x=n.centerOfMass.x*n.mass+t.x*t.options.mass;n.centerOfMass.x*=u;n.centerOfMass.y=n.centerOfMass.y*n.mass+t.y*t.options.mass;n.centerOfMass.y*=u;n.mass=r;i=Math.max(Math.max(t.height,t.radius),t.width);n.maxWidth=n.maxWidth<i?i:n.maxWidth}},{key:"_placeInTree",value:function(n,t,i){1==i&&void 0!==i||this._updateBranchMass(n,t);n.children.NW.range.maxX>t.x?n.children.NW.range.maxY>t.y?this._placeInRegion(n,t,"NW"):this._placeInRegion(n,t,"SW"):n.children.NW.range.maxY>t.y?this._placeInRegion(n,t,"NE"):this._placeInRegion(n,t,"SE")}},{key:"_placeInRegion",value:function(n,t,i){switch(n.children[i].childrenCount){case 0:n.children[i].children.data=t;n.children[i].childrenCount=1;this._updateBranchMass(n.children[i],t);break;case 1:n.children[i].children.data.x===t.x&&n.children[i].children.data.y===t.y?(t.x+=this.seededRandom(),t.y+=this.seededRandom()):(this._splitBranch(n.children[i]),this._placeInTree(n.children[i],t));break;case 4:this._placeInTree(n.children[i],t)}}},{key:"_splitBranch",value:function(n){var t=null;1===n.childrenCount&&(t=n.children.data,n.mass=0,n.centerOfMass.x=0,n.centerOfMass.y=0);n.childrenCount=4;n.children.data=null;this._insertRegion(n,"NW");this._insertRegion(n,"NE");this._insertRegion(n,"SW");this._insertRegion(n,"SE");null!=t&&this._placeInTree(n,t)}},{key:"_insertRegion",value:function(n,t){var r=void 0,u=void 0,f=void 0,e=void 0,i=.5*n.size;switch(t){case"NW":r=n.range.minX;u=n.range.minX+i;f=n.range.minY;e=n.range.minY+i;break;case"NE":r=n.range.minX+i;u=n.range.maxX;f=n.range.minY;e=n.range.minY+i;break;case"SW":r=n.range.minX;u=n.range.minX+i;f=n.range.minY+i;e=n.range.maxY;break;case"SE":r=n.range.minX+i;u=n.range.maxX;f=n.range.minY+i;e=n.range.maxY}n.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:r,maxX:u,minY:f,maxY:e},size:.5*n.size,calcSize:2*n.calcSize,children:{data:null},maxWidth:0,level:n.level+1,childrenCount:0}}},{key:"_debug",value:function(n,t){void 0!==this.barnesHutTree&&(n.lineWidth=1,this._drawBranch(this.barnesHutTree.root,n,t))}},{key:"_drawBranch",value:function(n,t,i){void 0===i&&(i="#FF0000");4===n.childrenCount&&(this._drawBranch(n.children.NW,t),this._drawBranch(n.children.NE,t),this._drawBranch(n.children.SE,t),this._drawBranch(n.children.SW,t));t.strokeStyle=i;t.beginPath();t.moveTo(n.range.minX,n.range.minY);t.lineTo(n.range.maxX,n.range.minY);t.stroke();t.beginPath();t.moveTo(n.range.maxX,n.range.minY);t.lineTo(n.range.maxX,n.range.maxY);t.stroke();t.beginPath();t.moveTo(n.range.maxX,n.range.maxY);t.lineTo(n.range.minX,n.range.maxY);t.stroke();t.beginPath();t.moveTo(n.range.minX,n.range.maxY);t.lineTo(n.range.minX,n.range.minY);t.stroke()}}]),n}();t.default=s},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(115),f=r(u),e=i(116),o=r(e),s=function(){function n(t,i,r){f.default(this,n);this.body=t;this.physicsBody=i;this.setOptions(r)}return o.default(n,[{key:"setOptions",value:function(n){this.options=n}},{key:"solve",value:function(){for(var h,t,u,n,c,l,f,i,r,v=this.body.nodes,e=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces,a=this.options.nodeDistance,y=-2/3/a,s=0;s<e.length-1;s++)for(i=v[e[s]],h=s+1;h<e.length;h++)r=v[e[h]],t=r.x-i.x,u=r.y-i.y,n=Math.sqrt(t*t+u*u),0===n&&(n=.1*Math.random(),t=n),n<2*a&&(f=n<.5*a?1:y*n+4/3,f/=n,c=t*f,l=u*f,o[i.id].x-=c,o[i.id].y-=l,o[r.id].x+=c,o[r.id].y+=l)}}]),n}();t.default=s},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(115),f=r(u),e=i(116),o=r(e),s=function(){function n(t,i,r){f.default(this,n);this.body=t;this.physicsBody=i;this.setOptions(r)}return o.default(n,[{key:"setOptions",value:function(n){this.options=n}},{key:"solve",value:function(){for(var u,f,n,c,l,e,t,i,o,v=this.body.nodes,s=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,y=this.options.nodeDistance,a,r=0;r<s.length-1;r++)for(t=v[s[r]],o=r+1;o<s.length;o++)(i=v[s[o]],t.level===i.level)&&(u=i.x-t.x,f=i.y-t.y,n=Math.sqrt(u*u+f*f),a=.05,e=n<y?-Math.pow(a*n,2)+Math.pow(a*y,2):0,0===n?n=.01:e/=n,c=u*e,l=f*e,h[t.id].x-=c,h[t.id].y-=l,h[i.id].x+=c,h[i.id].y+=l)}}]),n}();t.default=s},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(115),f=r(u),e=i(116),o=r(e),s=function(){function n(t,i,r){f.default(this,n);this.body=t;this.physicsBody=i;this.setOptions(r)}return o.default(n,[{key:"setOptions",value:function(n){this.options=n}},{key:"solve",value:function(){for(var t=void 0,n=void 0,u=this.physicsBody.physicsEdgeIndices,o=this.body.edges,f=void 0,i=void 0,e=void 0,r=0;r<u.length;r++)n=o[u[r]],n.connected===!0&&n.toId!==n.fromId&&void 0!==this.body.nodes[n.toId]&&void 0!==this.body.nodes[n.fromId]&&(void 0!==n.edgeType.via?(t=void 0===n.options.length?this.options.springLength:n.options.length,f=n.to,i=n.edgeType.via,e=n.from,this._calculateSpringForce(f,i,.5*t),this._calculateSpringForce(i,e,.5*t)):(t=void 0===n.options.length?1.5*this.options.springLength:n.options.length,this._calculateSpringForce(n.from,n.to,t)))}},{key:"_calculateSpringForce",value:function(n,t,i){var r=n.x-t.x,u=n.y-t.y,f=Math.max(Math.sqrt(r*r+u*u),.01),e=this.options.springConstant*(i-f)/f,o=r*e,s=u*e;void 0!==this.physicsBody.forces[n.id]&&(this.physicsBody.forces[n.id].x+=o,this.physicsBody.forces[n.id].y+=s);void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x-=o,this.physicsBody.forces[t.id].y-=s)}}]),n}();t.default=s},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(115),f=r(u),e=i(116),o=r(e),s=function(){function n(t,i,r){f.default(this,n);this.body=t;this.physicsBody=i;this.setOptions(r)}return o.default(n,[{key:"setOptions",value:function(n){this.options=n}},{key:"solve",value:function(){for(var y,l,nt,tt,r,a,o,w,k,d,n,s,h,f,e,u,ut=this.body.edges,c=.5,g=this.physicsBody.physicsEdgeIndices,i=this.physicsBody.physicsNodeIndices,t=this.physicsBody.forces,v=0;v<i.length;v++)y=i[v],t[y].springFx=0,t[y].springFy=0;for(l=0;l<g.length;l++)n=ut[g[l]],n.connected===!0&&(d=void 0===n.options.length?this.options.springLength:n.options.length,s=n.from.x-n.to.x,h=n.from.y-n.to.y,u=Math.sqrt(s*s+h*h),u=0===u?.01:u,r=this.options.springConstant*(d-u)/u,f=s*r,e=h*r,n.to.level!=n.from.level?(void 0!==t[n.toId]&&(t[n.toId].springFx-=f,t[n.toId].springFy-=e),void 0!==t[n.fromId]&&(t[n.fromId].springFx+=f,t[n.fromId].springFy+=e)):(void 0!==t[n.toId]&&(t[n.toId].x-=c*f,t[n.toId].y-=c*e),void 0!==t[n.fromId]&&(t[n.fromId].x+=c*f,t[n.fromId].y+=c*e)));for(r=1,a=0;a<i.length;a++)o=i[a],nt=Math.min(r,Math.max(-r,t[o].springFx)),tt=Math.min(r,Math.max(-r,t[o].springFy)),t[o].x+=nt,t[o].y+=tt;for(var it=0,rt=0,p=0;p<i.length;p++)w=i[p],it+=t[w].x,rt+=t[w].y;for(var ft=it/i.length,et=rt/i.length,b=0;b<i.length;b++)k=i[b],t[k].x-=ft,t[k].y-=et}}]),n}();t.default=s},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(115),f=r(u),e=i(116),o=r(e),s=function(){function n(t,i,r){f.default(this,n);this.body=t;this.physicsBody=i;this.setOptions(r)}return o.default(n,[{key:"setOptions",value:function(n){this.options=n}},{key:"solve",value:function(){for(var e,n=void 0,t=void 0,u=void 0,i=void 0,o=this.body.nodes,f=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces,r=0;r<f.length;r++)e=f[r],i=o[e],n=-i.x,t=-i.y,u=Math.sqrt(n*n+t*t),this._calculateForces(u,n,t,s,i)}},{key:"_calculateForces",value:function(n,t,i,r,u){var f=0===n?0:this.options.centralGravity/n;r[u.id].x=t*f;r[u.id].y=i*f}}]),n}();t.default=s},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(166),f=r(u),e=i(115),o=r(e),s=i(116),h=r(s),c=i(169),l=r(c),a=i(170),v=r(a),y=i(201),p=r(y),w=function(n){function t(n,i,r){return o.default(this,t),l.default(this,(t.__proto__||f.default(t)).call(this,n,i,r))}return v.default(t,n),h.default(t,[{key:"_calculateForces",value:function(n,t,i,r,u){0===n&&(n=.1*Math.random(),t=n);this.overlapAvoidanceFactor<1&&r.shape.radius&&(n=Math.max(.1+this.overlapAvoidanceFactor*r.shape.radius,n-r.shape.radius));var e=r.edges.length+1,f=this.options.gravitationalConstant*u.mass*r.options.mass*e/Math.pow(n,2),o=t*f,s=i*f;this.physicsBody.forces[r.id].x+=o;this.physicsBody.forces[r.id].y+=s}}]),t}(p.default);t.default=w},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(166),f=r(u),e=i(115),o=r(e),s=i(116),h=r(s),c=i(169),l=r(c),a=i(170),v=r(a),y=i(206),p=r(y),w=function(n){function t(n,i,r){return o.default(this,t),l.default(this,(t.__proto__||f.default(t)).call(this,n,i,r))}return v.default(t,n),h.default(t,[{key:"_calculateForces",value:function(n,t,i,r,u){if(n>0){var e=u.edges.length+1,f=this.options.centralGravity*e*u.options.mass;r[u.id].x=t*f;r[u.id].y=i*f}}}]),t}(p.default);t.default=w},function(n,t,i){function e(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(58),f=e(o),s=i(62),h=e(s),c=i(115),l=e(c),a=i(116),v=e(a),y=i(210),r=e(y),p=i(211),w=e(p),u=i(1),b=function(){function n(t){var i=this;l.default(this,n);this.body=t;this.clusteredNodes={};this.clusteredEdges={};this.options={};this.defaultOptions={};u.extend(this.options,this.defaultOptions);this.body.emitter.on("_resetData",function(){i.clusteredNodes={};i.clusteredEdges={}})}return v.default(n,[{key:"clusterByHubsize",value:function(n,t){var i,r,f,u;for(void 0===n?n=this._getHubSize():"object"===("undefined"==typeof n?"undefined":h.default(n))&&(t=this._checkOptions(n),n=this._getHubSize()),i=[],r=0;r<this.body.nodeIndices.length;r++)f=this.body.nodes[this.body.nodeIndices[r]],f.edges.length>=n&&i.push(f.id);for(u=0;u<i.length;u++)this.clusterByConnection(i[u],t,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t,i;if(void 0===n.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");n=this._checkOptions(n);for(var o={},s={},u=0;u<this.body.nodeIndices.length;u++){var f=this.body.nodeIndices[u],e=this.body.nodes[f],c=r.default.cloneOptions(e);if(n.joinCondition(c)===!0)for(o[f]=this.body.nodes[f],t=0;t<e.edges.length;t++)i=e.edges[t],void 0===this.clusteredEdges[i.id]&&(s[i.id]=i)}this._cluster(o,s,n,h)}},{key:"clusterByEdgeCount",value:function(n,t){var g=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],e,o,l,b,a,k,d,s;t=this._checkOptions(t);for(var h=[],v={},i=void 0,c=void 0,y=void 0,u=void 0,p=void 0,w=0;w<this.body.nodeIndices.length;w++)if(e={},o={},u=this.body.nodeIndices[w],void 0===v[u]){for(p=0,y=this.body.nodes[u],c=[],l=0;l<y.edges.length;l++)i=y.edges[l],void 0===this.clusteredEdges[i.id]&&(i.toId!==i.fromId&&p++,c.push(i));if(p===n){for(b=!0,a=0;a<c.length;a++)if(i=c[a],k=this._getConnectedId(i,u),void 0===t.joinCondition)o[i.id]=i,e[u]=this.body.nodes[u],e[k]=this.body.nodes[k],v[u]=!0;else{if(d=r.default.cloneOptions(this.body.nodes[u]),t.joinCondition(d)!==!0){b=!1;break}o[i.id]=i;e[u]=this.body.nodes[u];v[u]=!0}f.default(e).length>0&&f.default(o).length>0&&b===!0&&h.push({nodes:e,edges:o})}}for(s=0;s<h.length;s++)this._cluster(h[s].nodes,h[s].edges,t,!1);g===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,n,t)}},{key:"clusterBridges",value:function(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,n,t)}},{key:"clusterByConnection",value:function(n,t){var w=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i,c,u,o,y,p,s,l,a;if(void 0===n)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[n])throw new Error("The nodeId given to clusterByConnection does not exist!");i=this.body.nodes[n];t=this._checkOptions(t,i);void 0===t.clusterNodeProperties.x&&(t.clusterNodeProperties.x=i.x);void 0===t.clusterNodeProperties.y&&(t.clusterNodeProperties.y=i.y);void 0===t.clusterNodeProperties.fixed&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=i.options.fixed.x,t.clusterNodeProperties.fixed.y=i.options.fixed.y);var e={},h={},v=i.id,b=r.default.cloneOptions(i);for(e[v]=i,c=0;c<i.edges.length;c++)u=i.edges[c],void 0===this.clusteredEdges[u.id]&&(o=this._getConnectedId(u,v),void 0===this.clusteredNodes[o]&&(o!==v?void 0===t.joinCondition?(h[u.id]=u,e[o]=this.body.nodes[o]):(y=r.default.cloneOptions(this.body.nodes[o]),t.joinCondition(b,y)===!0&&(h[u.id]=u,e[o]=this.body.nodes[o])):h[u.id]=u));p=f.default(e).map(function(n){return e[n].id});for(s in e)for(s=e[s],l=0;l<s.edges.length;l++)a=s.edges[l],p.indexOf(this._getConnectedId(a,s.id))>-1&&(h[a.id]=a);this._cluster(e,h,t,w)}},{key:"_createClusterEdges",value:function(n,t,i,e){for(var p,s,h,c,l,o=void 0,w=void 0,b=void 0,v=void 0,y=void 0,k=void 0,g=f.default(n),a=[],d=0;d<g.length;d++)for(w=g[d],b=n[w],p=0;p<b.edges.length;p++)o=b.edges[p],void 0===this.clusteredEdges[o.id]&&(o.toId==o.fromId?t[o.id]=o:o.toId==w?(v=i.id,y=o.fromId,k=y):(v=o.toId,y=i.id,k=v),void 0===n[k]&&a.push({edge:o,fromId:y,toId:v}));for(s=0;s<a.length;s++)h=a[s].edge,c=r.default.cloneOptions(h,"edge"),u.deepExtend(c,e),c.from=a[s].fromId,c.to=a[s].toId,c.id="clusterEdge:"+u.randomUUID(),l=this.body.functions.createEdge(c),l.clusteringEdgeReplacingId=h.id,this.body.edges[h.id].edgeReplacedById=l.id,this.body.edges[l.id]=l,l.connect(),this._backupEdgeOptions(h),h.setOptions({physics:!1,hidden:!0})}},{key:"_checkOptions",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===n.clusterEdgeProperties&&(n.clusterEdgeProperties={}),void 0===n.clusterNodeProperties&&(n.clusterNodeProperties={}),n}},{key:"_cluster",value:function(n,t,i){var nt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a,e,v,y,k,p,c,d,g,o,s,l,b,h;if(0!=f.default(n).length&&(1!=f.default(n).length||1==i.clusterNodeProperties.allowSingleNodeCluster)){for(a in n)if(n.hasOwnProperty(a)&&void 0!==this.clusteredNodes[a])return;if(e=u.deepExtend({},i.clusterNodeProperties),void 0!==i.processProperties){v=[];for(y in n)n.hasOwnProperty(y)&&(k=r.default.cloneOptions(n[y]),v.push(k));p=[];for(c in t)t.hasOwnProperty(c)&&"clusterEdge:"!==c.substr(0,12)&&(d=r.default.cloneOptions(t[c],"edge"),p.push(d));if(e=i.processProperties(e,v,p),!e)throw new Error("The processProperties function does not return properties!");}void 0===e.id&&(e.id="cluster:"+u.randomUUID());g=e.id;void 0===e.label&&(e.label="cluster");o=void 0;void 0===e.x&&(o=this._getClusterPosition(n),e.x=o.x);void 0===e.y&&(void 0===o&&(o=this._getClusterPosition(n)),e.y=o.y);e.id=g;s=this.body.functions.createNode(e,w.default);s.isCluster=!0;s.containedNodes=n;s.containedEdges=t;s.clusterEdgeProperties=i.clusterEdgeProperties;this.body.nodes[e.id]=s;this._createClusterEdges(n,t,e,i.clusterEdgeProperties);for(l in t)t.hasOwnProperty(l)&&void 0!==this.body.edges[l]&&(b=this.body.edges[l],this._backupEdgeOptions(b),b.setOptions({physics:!1,hidden:!0}));for(h in n)n.hasOwnProperty(h)&&(this.clusteredNodes[h]={clusterId:e.id,node:this.body.nodes[h]},this.body.nodes[h].setOptions({hidden:!0,physics:!1}));e.id=void 0;nt===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(n){void 0===this.clusteredEdges[n.id]&&(this.clusteredEdges[n.id]={physics:n.options.physics,hidden:n.options.hidden})}},{key:"_restoreEdge",value:function(n){var t=this.clusteredEdges[n.id];void 0!==t&&(n.setOptions({physics:t.physics,hidden:t.hidden}),delete this.clusteredEdges[n.id])}},{key:"isCluster",value:function(n){return void 0!==this.body.nodes[n]?this.body.nodes[n].isCluster===!0:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(n){for(var i=f.default(n),r=n[i[0]].x,u=n[i[0]].x,e=n[i[0]].y,o=n[i[0]].y,t=void 0,s=1;s<i.length;s++)t=n[i[s]],r=t.x<r?t.x:r,u=t.x>u?t.x:u,e=t.y<e?t.y:e,o=t.y>o?t.y:o;return{x:.5*(r+u),y:.5*(e+o)}}},{key:"openCluster",value:function(n,t){var lt=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],tt,ct,v,it,h,o,rt,y,c,p,w,b,k,d,s,l,ut,f,ft,et,g,nt,ot,st,ht;if(void 0===n)throw new Error("No clusterNodeId supplied to openCluster.");if(void 0===this.body.nodes[n])throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(void 0===this.body.nodes[n].containedNodes)return void console.log("The node:"+n+" is not a cluster.");var i=this.body.nodes[n],e=i.containedNodes,a=i.containedEdges;if(void 0!==t&&void 0!==t.releaseFunction&&"function"==typeof t.releaseFunction){tt={};ct={x:i.x,y:i.y};for(v in e)e.hasOwnProperty(v)&&(it=this.body.nodes[v],tt[v]={x:it.x,y:it.y});h=t.releaseFunction(ct,tt);for(o in e)e.hasOwnProperty(o)&&(rt=this.body.nodes[o],void 0!==h[o]&&(rt.x=void 0===h[o].x?i.x:h[o].x,rt.y=void 0===h[o].y?i.y:h[o].y))}else for(y in e)e.hasOwnProperty(y)&&(c=this.body.nodes[y],c=e[y],c.options.fixed.x===!1&&(c.x=i.x),c.options.fixed.y===!1&&(c.y=i.y));for(p in e)e.hasOwnProperty(p)&&(w=this.body.nodes[p],w.vx=i.vx,w.vy=i.vy,w.setOptions({hidden:!1,physics:!0}),delete this.clusteredNodes[p]);for(b=[],k=0;k<i.edges.length;k++)b.push(i.edges[k]);for(d=0;d<b.length;d++)s=b[d],l=this._getConnectedId(s,n),void 0!==this.clusteredNodes[l]?(ut=this.body.nodes[this.clusteredNodes[l].clusterId],f=this.body.edges[s.clusteringEdgeReplacingId],void 0!==f&&(ut.containedEdges[f.id]=f,delete a[f.id],ft=f.fromId,et=f.toId,f.toId==l?et=this.clusteredNodes[l].clusterId:ft=this.clusteredNodes[l].clusterId,g=r.default.cloneOptions(f,"edge"),u.deepExtend(g,ut.clusterEdgeProperties),nt="clusterEdge:"+u.randomUUID(),u.deepExtend(g,{from:ft,to:et,hidden:!1,physics:!0,id:nt}),ot=this.body.functions.createEdge(g),ot.clusteringEdgeReplacingId=f.id,this.body.edges[nt]=ot,this.body.edges[nt].connect())):(st=this.body.edges[s.clusteringEdgeReplacingId],void 0!==st&&this._restoreEdge(st)),s.cleanup(),s.disconnect(),delete this.body.edges[s.id];for(ht in a)a.hasOwnProperty(ht)&&this._restoreEdge(a[ht]);delete this.body.nodes[n];lt===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(n){var r=[],t,i;if(this.isCluster(n)===!0){t=this.body.nodes[n].containedNodes;for(i in t)t.hasOwnProperty(i)&&r.push(this.body.nodes[i].id)}return r}},{key:"findNode",value:function(n){for(var t=[],i=0;void 0!==this.clusteredNodes[n]&&i<100;)t.push(this.body.nodes[n].id),n=this.clusteredNodes[n].clusterId,i++;return t.push(this.body.nodes[n].id),t.reverse(),t}},{key:"updateClusteredNode",value:function(n,t){if(void 0===n)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===t)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[n])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[n].setOptions(t);this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(n,t){var r,i,u;if(void 0===n)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===t)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[n])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(r=this.getClusteredEdges(n),i=0;i<r.length;i++)u=this.body.edges[r[i]],u.setOptions(t);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(n){for(var t=[],i=0;void 0!==n&&void 0!==this.body.edges[n]&&i<100;)t.push(this.body.edges[n].id),n=this.body.edges[n].edgeReplacedById,i++;return t.reverse(),t}},{key:"getBaseEdge",value:function(n){for(var t=n,i=0;void 0!==n&&void 0!==this.body.edges[n]&&i<100;)n=this.body.edges[n].clusteringEdgeReplacingId,i++,void 0!==n&&(t=n);return t}},{key:"_getConnectedId",value:function(n,t){return n.toId!=t?n.toId:n.fromId!=t?n.fromId:n.fromId}},{key:"_getHubSize",value:function(){for(var n,t=0,r=0,u=0,i=0,f=0;f<this.body.nodeIndices.length;f++)n=this.body.nodes[this.body.nodeIndices[f]],n.edges.length>i&&(i=n.edges.length),t+=n.edges.length,r+=Math.pow(n.edges.length,2),u+=1;t/=u;r/=u;var o=r-Math.pow(t,2),s=Math.sqrt(o),e=Math.floor(t+2*s);return e>i&&(e=i),e}}]),n}();t.default=b},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var f=i(115),e=r(f),o=i(116),s=r(o),u=i(1),h=function(){function n(){e.default(this,n)}return s.default(n,null,[{key:"getRange",value:function(n){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=1e9,r=-1e9,u=1e9,f=-1e9,e;if(o.length>0)for(e=0;e<o.length;e++)t=n[o[e]],u>t.shape.boundingBox.left&&(u=t.shape.boundingBox.left),f<t.shape.boundingBox.right&&(f=t.shape.boundingBox.right),i>t.shape.boundingBox.top&&(i=t.shape.boundingBox.top),r<t.shape.boundingBox.bottom&&(r=t.shape.boundingBox.bottom);return 1e9===u&&f===-1e9&&1e9===i&&r===-1e9&&(i=0,r=0,u=0,f=0),{minX:u,maxX:f,minY:i,maxY:r}}},{key:"getRangeCore",value:function(n){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=1e9,r=-1e9,u=1e9,f=-1e9,e;if(o.length>0)for(e=0;e<o.length;e++)t=n[o[e]],u>t.x&&(u=t.x),f<t.x&&(f=t.x),i>t.y&&(i=t.y),r<t.y&&(r=t.y);return 1e9===u&&f===-1e9&&1e9===i&&r===-1e9&&(i=0,r=0,u=0,f=0),{minX:u,maxX:f,minY:i,maxY:r}}},{key:"findCenter",value:function(n){return{x:.5*(n.maxX+n.minX),y:.5*(n.maxY+n.minY)}}},{key:"cloneOptions",value:function(n,t){var i={};return void 0===t||"node"===t?(u.deepExtend(i,n.options,!0),i.x=n.x,i.y=n.y,i.amountOfConnections=n.edges.length):u.deepExtend(i,n.options,!0),i}}]),n}();t.default=h},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(166),f=r(u),e=i(115),o=r(e),s=i(169),h=r(s),c=i(170),l=r(c),a=i(159),v=r(a),y=function(n){function t(n,i,r,u,e){o.default(this,t);var s=h.default(this,(t.__proto__||f.default(t)).call(this,n,i,r,u,e));return s.isCluster=!0,s.containedNodes={},s.containedEdges={},s}return l.default(t,n),t}(v.default);t.default=y},function(n,t,i){function u(n){return n&&n.__esModule?n:{"default":n}}var r,f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(115),o=u(e),s=i(116),h=u(s);"undefined"!=typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame);r=i(1);f=function(){function n(t,i){o.default(this,n);this.body=t;this.canvas=i;this.redrawRequested=!1;this.renderTimer=void 0;this.requiresTimeout=!0;this.renderingActive=!1;this.renderRequests=0;this.pixelRatio=void 0;this.allowRedraw=!0;this.dragging=!1;this.options={};this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1};r.extend(this.options,this.defaultOptions);this._determineBrowserMethod();this.bindEventListeners()}return h.default(n,[{key:"bindEventListeners",value:function(){var n=this;this.body.emitter.on("dragStart",function(){n.dragging=!0});this.body.emitter.on("dragEnd",function(){n.dragging=!1});this.body.emitter.on("_resizeNodes",function(){n._resizeNodes()});this.body.emitter.on("_redraw",function(){n.renderingActive===!1&&n._redraw()});this.body.emitter.on("_blockRedraw",function(){n.allowRedraw=!1});this.body.emitter.on("_allowRedraw",function(){n.allowRedraw=!0;n.redrawRequested=!1});this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this));this.body.emitter.on("_startRendering",function(){n.renderRequests+=1;n.renderingActive=!0;n._startRendering()});this.body.emitter.on("_stopRendering",function(){n.renderRequests-=1;n.renderingActive=n.renderRequests>0;n.renderTimer=void 0});this.body.emitter.on("destroy",function(){n.renderRequests=0;n.allowRedraw=!1;n.renderingActive=!1;n.requiresTimeout===!0?clearTimeout(n.renderTimer):cancelAnimationFrame(n.renderTimer);n.body.emitter.off()})}},{key:"setOptions",value:function(n){if(void 0!==n)r.selectiveDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag"],this.options,n)}},{key:"_startRendering",value:function(){this.renderingActive===!0&&void 0===this.renderTimer&&(this.renderTimer=this.requiresTimeout===!0?window.setTimeout(this._renderStep.bind(this),this.simulationInterval):window.requestAnimationFrame(this._renderStep.bind(this)))}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize");this._redraw()}},{key:"_requestRedraw",value:function(){var n=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,this.requiresTimeout===!0?window.setTimeout(function(){n._redraw(!1)},0):window.requestAnimationFrame(function(){n._redraw(!1)}))}},{key:"_redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n,i,r;if(this.allowRedraw===!0){if(this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,n=this.canvas.frame.canvas.getContext("2d"),0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),i=this.canvas.frame.canvas.clientWidth,r=this.canvas.frame.canvas.clientHeight,n.clearRect(0,0,i,r),0===this.canvas.frame.clientWidth)return;n.save();n.translate(this.body.view.translation.x,this.body.view.translation.y);n.scale(this.body.view.scale,this.body.view.scale);n.beginPath();this.body.emitter.emit("beforeDrawing",n);n.closePath();t===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&this._drawEdges(n);(this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1)&&this._drawNodes(n,t);n.beginPath();this.body.emitter.emit("afterDrawing",n);n.closePath();n.restore();t===!0&&n.clearRect(0,0,i,r)}}},{key:"_resizeNodes",value:function(){var n=this.canvas.frame.canvas.getContext("2d"),i,t,r;void 0===this.pixelRatio&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1));n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);n.save();n.translate(this.body.view.translation.x,this.body.view.translation.y);n.scale(this.body.view.scale,this.body.view.scale);i=this.body.nodes;t=void 0;for(r in i)i.hasOwnProperty(r)&&(t=i[r],t.resize(n),t.updateBoundingBox(n,t.selected));n.restore()}},{key:"_drawNodes",value:function(n){for(var u,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.body.nodes,f=this.body.nodeIndices,t=void 0,e=[],i=20,s=this.canvas.DOMtoCanvas({x:-i,y:-i}),h=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+i,y:this.canvas.frame.canvas.clientHeight+i}),l={top:s.y,left:s.x,bottom:h.y,right:h.x},r=0;r<f.length;r++)t=o[f[r]],t.isSelected()?e.push(f[r]):c===!0?t.draw(n):t.isBoundingBoxOverlappingWith(l)===!0?t.draw(n):t.updateBoundingBox(n,t.selected);for(u=0;u<e.length;u++)t=o[e[u]],t.draw(n)}},{key:"_drawEdges",value:function(n){for(var u=this.body.edges,r=this.body.edgeIndices,t=void 0,i=0;i<r.length;i++)t=u[r[i]],t.connected===!0&&t.draw(n)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var n=navigator.userAgent.toLowerCase();this.requiresTimeout=!1;n.indexOf("msie 9.0")!=-1?this.requiresTimeout=!0:n.indexOf("safari")!=-1&&n.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),n}();t.default=f},function(n,t,i){function f(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(115),s=f(o),h=i(116),c=f(h),u=i(108),e=i(121),r=i(1),l=function(){function n(t){s.default(this,n);this.body=t;this.pixelRatio=1;this.resizeTimer=void 0;this.resizeFunction=this._onResize.bind(this);this.cameraState={};this.initialized=!1;this.canvasViewCenter={};this.options={};this.defaultOptions={autoResize:!0,height:"100%",width:"100%"};r.extend(this.options,this.defaultOptions);this.bindEventListeners()}return c.default(n,[{key:"bindEventListeners",value:function(){var n=this;this.body.emitter.once("resize",function(t){0!==t.width&&(n.body.view.translation.x=.5*t.width);0!==t.height&&(n.body.view.translation.y=.5*t.height)});this.body.emitter.on("setSize",this.setSize.bind(this));this.body.emitter.on("destroy",function(){n.hammerFrame.destroy();n.hammer.destroy();n._cleanUp()})}},{key:"setOptions",value:function(n){var t=this,i;void 0!==n&&(i=["width","height","autoResize"],r.selectiveDeepExtend(i,this.options,n));this.options.autoResize===!0&&(this._cleanUp(),this.resizeTimer=setInterval(function(){var n=t.setSize();n===!0&&t.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),r.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer);r.removeEventListener(window,"resize",this.resizeFunction);this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize();this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/n,this.cameraState.previousHeight=this.frame.canvas.height/n,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/n,y:.5*this.frame.canvas.height/n}))}},{key:"_setCameraState",value:function(){var r,u;if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){var n=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;1!=n&&1!=t?i=.5*this.cameraState.scale*(n+t):1!=n?i=this.cameraState.scale*n:1!=t&&(i=this.cameraState.scale*t);this.body.view.scale=i;r=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight});u={x:r.x-this.cameraState.position.x,y:r.y-this.cameraState.position.y};this.body.view.translation.x+=u.x*this.body.view.scale;this.body.view.translation.y+=u.y*this.body.view.scale}}},{key:"_prepareValue",value:function(n){if("number"==typeof n)return n+"px";if("string"==typeof n){if(n.indexOf("%")!==-1||n.indexOf("px")!==-1)return n;if(n.indexOf("%")===-1)return n+"px"}throw new Error("Could not use the value supplied for width or height:"+n);}},{key:"_create",value:function(){for(var n,t;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)?(n=this.frame.canvas.getContext("2d"),this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1),this.frame.canvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)):(t=document.createElement("DIV"),t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t));this.body.container.appendChild(this.frame);this.body.view.scale=1;this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight};this._bindHammer()}},{key:"_bindHammer",value:function(){var n=this;void 0!==this.hammer&&this.hammer.destroy();this.drag={};this.pinch={};this.hammer=new u(this.frame.canvas);this.hammer.get("pinch").set({enable:!0});this.hammer.get("pan").set({threshold:5,direction:u.DIRECTION_ALL});e.onTouch(this.hammer,function(t){n.body.eventListeners.onTouch(t)});this.hammer.on("tap",function(t){n.body.eventListeners.onTap(t)});this.hammer.on("doubletap",function(t){n.body.eventListeners.onDoubleTap(t)});this.hammer.on("press",function(t){n.body.eventListeners.onHold(t)});this.hammer.on("panstart",function(t){n.body.eventListeners.onDragStart(t)});this.hammer.on("panmove",function(t){n.body.eventListeners.onDrag(t)});this.hammer.on("panend",function(t){n.body.eventListeners.onDragEnd(t)});this.hammer.on("pinch",function(t){n.body.eventListeners.onPinch(t)});this.frame.canvas.addEventListener("mousewheel",function(t){n.body.eventListeners.onMouseWheel(t)});this.frame.canvas.addEventListener("DOMMouseScroll",function(t){n.body.eventListeners.onMouseWheel(t)});this.frame.canvas.addEventListener("mousemove",function(t){n.body.eventListeners.onMouseMove(t)});this.frame.canvas.addEventListener("contextmenu",function(t){n.body.eventListeners.onContext(t)});this.hammerFrame=new u(this.frame);e.onRelease(this.hammerFrame,function(t){n.body.eventListeners.onRelease(t)})}},{key:"setSize",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;n=this._prepareValue(n);t=this._prepareValue(t);var i=!1,f=this.frame.canvas.width,e=this.frame.canvas.height,r=this.frame.canvas.getContext("2d"),u=this.pixelRatio;return this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1),n!=this.options.width||t!=this.options.height||this.frame.style.width!=n||this.frame.style.height!=t?(this._getCameraState(u),this.frame.style.width=n,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=n,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0):(this.frame.canvas.width==Math.round(this.frame.canvas.clientWidth*this.pixelRatio)&&this.frame.canvas.height==Math.round(this.frame.canvas.clientHeight*this.pixelRatio)||this._getCameraState(u),this.frame.canvas.width!=Math.round(this.frame.canvas.clientWidth*this.pixelRatio)&&(this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),i=!0),this.frame.canvas.height!=Math.round(this.frame.canvas.clientHeight*this.pixelRatio)&&(this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),i=!0)),i===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(f/this.pixelRatio),oldHeight:Math.round(e/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"_XconvertDOMtoCanvas",value:function(n){return(n-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(n){return n*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(n){return(n-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(n){return n*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(n){return{x:this._XconvertCanvasToDOM(n.x),y:this._YconvertCanvasToDOM(n.y)}}},{key:"DOMtoCanvas",value:function(n){return{x:this._XconvertDOMtoCanvas(n.x),y:this._YconvertDOMtoCanvas(n.y)}}}]),n}();t.default=l},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var f=i(115),e=r(f),o=i(116),s=r(o),h=i(210),u=r(h),c=i(1),l=function(){function n(t,i){var r=this;e.default(this,n);this.body=t;this.canvas=i;this.animationSpeed=1/this.renderRefreshRate;this.animationEasingFunction="easeInOutQuint";this.easingTime=0;this.sourceScale=0;this.targetScale=0;this.sourceTranslation=0;this.targetTranslation=0;this.lockedOnNodeId=void 0;this.lockedOnNodeOffset=void 0;this.touchTime=0;this.viewFunction=void 0;this.body.emitter.on("fit",this.fit.bind(this));this.body.emitter.on("animationFinished",function(){r.body.emitter.emit("_stopRendering")});this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return s.default(n,[{key:"setOptions",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=n}},{key:"fit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},v=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=void 0,n=void 0,r,f,e,o,s,l,a;if(void 0!==t.nodes&&0!==t.nodes.length||(t.nodes=this.body.nodeIndices),v===!0){r=0;for(f in this.body.nodes)this.body.nodes.hasOwnProperty(f)&&(e=this.body.nodes[f],e.predefinedPosition===!0&&(r+=1));if(r>.5*this.body.nodeIndices.length)return void this.fit(t,!1);i=u.default.getRange(this.body.nodes,t.nodes);o=this.body.nodeIndices.length;n=12.662/(o+7.4147)+.0964822;s=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);n*=s}else{this.body.emitter.emit("_resizeNodes");i=u.default.getRange(this.body.nodes,t.nodes);var y=1.1*Math.abs(i.maxX-i.minX),p=1.1*Math.abs(i.maxY-i.minY),h=this.canvas.frame.canvas.clientWidth/y,c=this.canvas.frame.canvas.clientHeight/p;n=h<=c?h:c}n>1?n=1:0===n&&(n=1);l=u.default.findCenter(i);a={position:l,scale:n,animation:t.animation};this.moveTo(a)}},{key:"focus",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i;void 0!==this.body.nodes[n]?(i={x:this.body.nodes[n].x,y:this.body.nodes[n].y},t.position=i,t.lockedOnNode=n,this.moveTo(t)):console.log("Node: "+n+" cannot be found.")}},{key:"moveTo",value:function(n){return void 0===n?void(n={}):(void 0===n.offset&&(n.offset={x:0,y:0}),void 0===n.offset.x&&(n.offset.x=0),void 0===n.offset.y&&(n.offset.y=0),void 0===n.scale&&(n.scale=this.body.view.scale),void 0===n.position&&(n.position=this.getViewPosition()),void 0===n.animation&&(n.animation={duration:0}),n.animation===!1&&(n.animation={duration:0}),n.animation===!0&&(n.animation={}),void 0===n.animation.duration&&(n.animation.duration=1e3),void 0===n.animation.easingFunction&&(n.animation.easingFunction="easeInOutQuad"),void this.animateView(n))}},{key:"animateView",value:function(n){if(void 0!==n){this.animationEasingFunction=n.animation.easingFunction;this.releaseNode();n.locked===!0&&(this.lockedOnNodeId=n.lockedOnNode,this.lockedOnNodeOffset=n.offset);0!=this.easingTime&&this._transitionRedraw(!0);this.sourceScale=this.body.view.scale;this.sourceTranslation=this.body.view.translation;this.targetScale=n.scale;this.body.view.scale=this.targetScale;var t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:t.x-n.position.x,y:t.y-n.position.y};this.targetTranslation={x:this.sourceTranslation.x+i.x*this.targetScale+n.offset.x,y:this.sourceTranslation.y+i.y*this.targetScale+n.offset.y};0===n.animation.duration?void 0!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*n.animation.duration*.001)||1/60,this.animationEasingFunction=n.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var n={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:t.x-n.x,y:t.y-n.y},r=this.body.view.translation,u={x:r.x+i.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:r.y+i.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=u}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n;this.easingTime+=this.animationSpeed;this.easingTime=t===!0?1:this.easingTime;n=c.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*n;this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*n,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*n};this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,void 0!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),n}();t.default=l},function(n,t,i){function u(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var f=i(115),e=u(f),o=i(116),s=u(o),h=i(216),c=u(h),l=i(128),a=u(l),r=i(1),v=function(){function n(t,i,u){e.default(this,n);this.body=t;this.canvas=i;this.selectionHandler=u;this.navigationHandler=new c.default(t,i);this.body.eventListeners.onTap=this.onTap.bind(this);this.body.eventListeners.onTouch=this.onTouch.bind(this);this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this);this.body.eventListeners.onHold=this.onHold.bind(this);this.body.eventListeners.onDragStart=this.onDragStart.bind(this);this.body.eventListeners.onDrag=this.onDrag.bind(this);this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this);this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this);this.body.eventListeners.onPinch=this.onPinch.bind(this);this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this);this.body.eventListeners.onRelease=this.onRelease.bind(this);this.body.eventListeners.onContext=this.onContext.bind(this);this.touchTime=0;this.drag={};this.pinch={};this.popup=void 0;this.popupObj=void 0;this.popupTimer=void 0;this.body.functions.getPointer=this.getPointer.bind(this);this.options={};this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0};r.extend(this.options,this.defaultOptions);this.bindEventListeners()}return s.default(n,[{key:"bindEventListeners",value:function(){var n=this;this.body.emitter.on("destroy",function(){clearTimeout(n.popupTimer);delete n.body.functions.getPointer})}},{key:"setOptions",value:function(n){if(void 0!==n)r.selectiveNotDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,n),r.mergeOptions(this.options,n,"keyboard"),n.tooltip&&(r.extend(this.options.tooltip,n.tooltip),n.tooltip.color&&(this.options.tooltip.color=r.parseColor(n.tooltip.color)));this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(n){return{x:n.x-r.getAbsoluteLeft(this.canvas.frame.canvas),y:n.y-r.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(n){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(n.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(n){var t=this.getPointer(n.center),i=this.selectionHandler.options.multiselect&&(n.changedPointers[0].ctrlKey||n.changedPointers[0].metaKey);this.checkSelectionChanges(t,n,i);this.selectionHandler._generateClickEvent("click",n,t)}},{key:"onDoubleTap",value:function(n){var t=this.getPointer(n.center);this.selectionHandler._generateClickEvent("doubleClick",n,t)}},{key:"onHold",value:function(n){var t=this.getPointer(n.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,n,i);this.selectionHandler._generateClickEvent("click",n,t);this.selectionHandler._generateClickEvent("hold",n,t)}},{key:"onRelease",value:function(n){if((new Date).valueOf()-this.touchTime>10){var t=this.getPointer(n.center);this.selectionHandler._generateClickEvent("release",n,t);this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(n){var t=this.getPointer({x:n.clientX,y:n.clientY});this.selectionHandler._generateClickEvent("oncontext",n,t)}},{key:"checkSelectionChanges",value:function(n,t){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.selectionHandler._getSelectedEdgeCount(),s=this.selectionHandler._getSelectedNodeCount(),r=this.selectionHandler.getSelection(),i=c===!0?this.selectionHandler.selectAdditionalOnPoint(n):this.selectionHandler.selectOnPoint(n);var u=this.selectionHandler._getSelectedEdgeCount(),f=this.selectionHandler._getSelectedNodeCount(),l=this.selectionHandler.getSelection(),h=this._determineIfDifferent(r,l),a=h.nodesChanged,v=h.edgesChanged,e=!1;f-s>0?(this.selectionHandler._generateClickEvent("selectNode",t,n),i=!0,e=!0):a===!0&&f>0?(this.selectionHandler._generateClickEvent("deselectNode",t,n,r),this.selectionHandler._generateClickEvent("selectNode",t,n),e=!0,i=!0):f-s<0&&(this.selectionHandler._generateClickEvent("deselectNode",t,n,r),i=!0);u-o>0&&e===!1?(this.selectionHandler._generateClickEvent("selectEdge",t,n),i=!0):u>0&&v===!0?(this.selectionHandler._generateClickEvent("deselectEdge",t,n,r),this.selectionHandler._generateClickEvent("selectEdge",t,n),i=!0):u-o<0&&(this.selectionHandler._generateClickEvent("deselectEdge",t,n,r),i=!0);i===!0&&this.selectionHandler._generateClickEvent("select",t,n)}},{key:"_determineIfDifferent",value:function(n,t){for(var i,r,u,f=!1,e=!1,o=0;o<n.nodes.length;o++)t.nodes.indexOf(n.nodes[o])===-1&&(f=!0);for(i=0;i<t.nodes.length;i++)n.nodes.indexOf(n.nodes[i])===-1&&(f=!0);for(r=0;r<n.edges.length;r++)t.edges.indexOf(n.edges[r])===-1&&(e=!0);for(u=0;u<t.edges.length;u++)n.edges.indexOf(n.edges[u])===-1&&(e=!0);return{nodesChanged:f,edgesChanged:e}}},{key:"onDragStart",value:function(n){var i,u,f,t,e;if(void 0===this.drag.pointer&&this.onTouch(n),i=this.selectionHandler.getNodeAt(this.drag.pointer),this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=r.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==i&&this.options.dragNodes===!0){this.drag.nodeId=i.id;i.isSelected()===!1&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(i));this.selectionHandler._generateClickEvent("dragStart",n,this.drag.pointer);u=this.selectionHandler.selectionObj.nodes;for(f in u)u.hasOwnProperty(f)&&(t=u[f],e={id:t.id,node:t,x:t.x,y:t.y,xFixed:t.options.fixed.x,yFixed:t.options.fixed.y},t.options.fixed.x=!0,t.options.fixed.y=!0,this.drag.selection.push(e))}else this.selectionHandler._generateClickEvent("dragStart",n,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(n){var t=this,i,r,u,f;if(this.drag.pinched!==!0)if(this.body.emitter.emit("unlockNode"),i=this.getPointer(n.center),r=this.drag.selection,r&&r.length&&this.options.dragNodes===!0)!function(){t.selectionHandler._generateClickEvent("dragging",n,i);var u=i.x-t.drag.pointer.x,f=i.y-t.drag.pointer.y;r.forEach(function(n){var i=n.node;n.xFixed===!1&&(i.x=t.canvas._XconvertDOMtoCanvas(t.canvas._XconvertCanvasToDOM(n.x)+u));n.yFixed===!1&&(i.y=t.canvas._YconvertDOMtoCanvas(t.canvas._YconvertCanvasToDOM(n.y)+f))});t.body.emitter.emit("startSimulation")}();else if(this.options.dragView===!0){if(this.selectionHandler._generateClickEvent("dragging",n,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(n);u=i.x-this.drag.pointer.x;f=i.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+u,y:this.drag.translation.y+f};this.body.emitter.emit("_redraw")}}},{key:"onDragEnd",value:function(n){this.drag.dragging=!1;var t=this.drag.selection;t&&t.length?(t.forEach(function(n){n.node.options.fixed.x=n.xFixed;n.node.options.fixed.y=n.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",n,this.getPointer(n.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",n,this.getPointer(n.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(n){var i=this.getPointer(n.center),t;this.drag.pinched=!0;void 0===this.pinch.scale&&(this.pinch.scale=1);t=this.pinch.scale*n.scale;this.zoom(t,i)}},{key:"zoom",value:function(n,t){var u,i,f;if(this.options.zoomView===!0){u=this.body.view.scale;n<1e-5&&(n=1e-5);n>10&&(n=10);i=void 0;void 0!==this.drag&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));var e=this.body.view.translation,r=n/u,o=(1-r)*t.x+e.x*r,s=(1-r)*t.y+e.y*r;(this.body.view.scale=n,this.body.view.translation={x:o,y:s},void 0!=i)&&(f=this.canvas.canvasToDOM(i),this.drag.pointer.x=f.x,this.drag.pointer.y=f.y);this.body.emitter.emit("_requestRedraw");u<n?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:t}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:t})}}},{key:"onMouseWheel",value:function(n){var t,r,i,u;this.options.zoomView===!0&&(t=0,(n.wheelDelta?t=n.wheelDelta/120:n.detail&&(t=-n.detail/3),0!==t)&&(r=this.body.view.scale,i=t/10,t<0&&(i/=1-i),r*=1+i,u=this.getPointer({x:n.clientX,y:n.clientY}),this.zoom(r,u)),n.preventDefault())}},{key:"onMouseMove",value:function(n){var u=this,t=this.getPointer({x:n.clientX,y:n.clientY}),r=!1,i;(void 0!==this.popup&&(this.popup.hidden===!1&&this._checkHidePopup(t),this.popup.hidden===!1&&(r=!0,this.popup.setPosition(t.x+3,t.y-5),this.popup.show())),this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),r===!1&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return u._checkShowPopup(t)},this.options.tooltipDelay))),this.options.hover===!0)&&(i=this.selectionHandler.getNodeAt(t),void 0===i&&(i=this.selectionHandler.getEdgeAt(t)),this.selectionHandler.hoverObject(i))}},{key:"_checkShowPopup",value:function(n){var h=this.canvas._XconvertDOMtoCanvas(n.x),c=this.canvas._YconvertDOMtoCanvas(n.y),l={left:h,top:c,right:h,bottom:c},b=void 0===this.popupObj?void 0:this.popupObj.id,v=!1,y="node";if(void 0===this.popupObj){for(var e=this.body.nodeIndices,p=this.body.nodes,o=void 0,t=[],i=0;i<e.length;i++)o=p[e[i]],o.isOverlappingWith(l)===!0&&void 0!==o.getTitle()&&t.push(e[i]);t.length>0&&(this.popupObj=p[t[t.length-1]],v=!0)}if(void 0===this.popupObj&&v===!1){for(var s=this.body.edgeIndices,w=this.body.edges,r=void 0,u=[],f=0;f<s.length;f++)r=w[s[f]],r.isOverlappingWith(l)===!0&&r.connected===!0&&void 0!==r.getTitle()&&u.push(s[f]);u.length>0&&(this.popupObj=w[u[u.length-1]],y="edge")}void 0!==this.popupObj?this.popupObj.id!==b&&(void 0===this.popup&&(this.popup=new a.default(this.canvas.frame)),this.popup.popupTargetType=y,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(n.x+3,n.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(n){var r=this.selectionHandler._pointerToPositionObject(n),t=!1,i;"node"===this.popup.popupTargetType?void 0!==this.body.nodes[this.popup.popupTargetId]&&(t=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),t===!0)&&(i=this.selectionHandler.getNodeAt(n),t=void 0!==i&&i.id===this.popup.popupTargetId):void 0===this.selectionHandler.getNodeAt(n)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(t=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));t===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),n}();t.default=v},function(n,t,i){function u(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(115),s=u(o),h=i(116),c=u(h),f=(i(1),i(108)),r=i(121),e=i(111),l=function(){function n(t,i){var r=this;s.default(this,n);this.body=t;this.canvas=i;this.iconsCreated=!1;this.navigationHammers=[];this.boundFunctions={};this.touchTime=0;this.activated=!1;this.body.emitter.on("activate",function(){r.activated=!0;r.configureKeyboardBindings()});this.body.emitter.on("deactivate",function(){r.activated=!1;r.configureKeyboardBindings()});this.body.emitter.on("destroy",function(){void 0!==r.keycharm&&r.keycharm.destroy()});this.options={}}return c.default(n,[{key:"setOptions",value:function(n){void 0!==n&&(this.options=n,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation();this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var n=0;n<this.navigationHammers.length;n++)this.navigationHammers[n].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper);this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var o=this,t,u,n,i,e;for(this.cleanNavigation(),this.navigationDOM={},t=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],u=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"],this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper),n=0;n<t.length;n++)this.navigationDOM[t[n]]=document.createElement("div"),this.navigationDOM[t[n]].className="vis-button vis-"+t[n],this.navigationDOM.wrapper.appendChild(this.navigationDOM[t[n]]),i=new f(this.navigationDOM[t[n]]),"_fit"===u[n]?r.onTouch(i,this._fit.bind(this)):r.onTouch(i,this.bindToRedraw.bind(this,u[n])),this.navigationHammers.push(i);e=new f(this.canvas.frame);r.onRelease(e,function(){o._stopMovement()});this.navigationHammers.push(e);this.iconsCreated=!0}},{key:"bindToRedraw",value:function(n){void 0===this.boundFunctions[n]&&(this.boundFunctions[n]=this[n].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[n]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(n){void 0!==this.boundFunctions[n]&&(this.body.emitter.off("initRedraw",this.boundFunctions[n]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[n])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var n in this.boundFunctions)this.boundFunctions.hasOwnProperty(n)&&(this.body.emitter.off("initRedraw",this.boundFunctions[n]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var r=this.body.view.scale,t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=t/r,u=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,f=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=t;this.body.view.translation={x:u,y:f};this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var r=this.body.view.scale,t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=t/r,u=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,f=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=t;this.body.view.translation={x:u,y:f};this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var n=this;void 0!==this.keycharm&&this.keycharm.destroy();this.options.keyboard.enabled===!0&&(this.keycharm=this.options.keyboard.bindToWindow===!0?e({container:window,preventDefault:!0}):e({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0&&(this.keycharm.bind("up",function(){n.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){n.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){n.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){n.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){n.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){n.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){n.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){n.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){n.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){n.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){n.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){n.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){n.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){n.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){n.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){n.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){n.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){n.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){n.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){n.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){n.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){n.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){n.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){n.unbindFromRedraw("_zoomOut")},"keyup")))}}]),n}();t.default=l},function(n,t,i){function u(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(115),s=u(o),h=i(116),c=u(h),l=i(159),r=u(l),a=i(192),f=u(a),e=i(1),v=function(){function n(t,i){var r=this;s.default(this,n);this.body=t;this.canvas=i;this.selectionObj={nodes:[],edges:[]};this.hoverObj={nodes:{},edges:{}};this.options={};this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0};e.extend(this.options,this.defaultOptions);this.body.emitter.on("_dataChanged",function(){r.updateSelection()})}return c.default(n,[{key:"setOptions",value:function(n){if(void 0!==n)e.selectiveDeepExtend(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,n)}},{key:"selectOnPoint",value:function(n){var i=!1,t;return this.options.selectable===!0&&(t=this.getNodeAt(n)||this.getEdgeAt(n),this.unselectAll(),void 0!==t&&(i=this.selectObject(t)),this.body.emitter.emit("_requestRedraw")),i}},{key:"selectAdditionalOnPoint",value:function(n){var i=!1,t;return this.options.selectable===!0&&(t=this.getNodeAt(n)||this.getEdgeAt(n),void 0!==t&&(i=!0,t.isSelected()===!0?this.deselectObject(t):this.selectObject(t),this.body.emitter.emit("_requestRedraw"))),i}},{key:"_generateClickEvent",value:function(n,t,i,r){var f=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=void 0;u=f===!0?{nodes:[],edges:[]}:this.getSelection();u.pointer={DOM:{x:i.x,y:i.y},canvas:this.canvas.DOMtoCanvas(i)};u.event=t;void 0!==r&&(u.previousSelection=r);this.body.emitter.emit(n,u)}},{key:"selectObject",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==n&&(n instanceof r.default&&t===!0&&this._selectConnectedEdges(n),n.select(),this._addToSelection(n),!0)}},{key:"deselectObject",value:function(n){n.isSelected()===!0&&(n.selected=!1,this._removeFromSelection(n))}},{key:"_getAllNodesOverlappingWith",value:function(n){for(var i,r=[],u=this.body.nodes,t=0;t<this.body.nodeIndices.length;t++)i=this.body.nodeIndices[t],u[i].isOverlappingWith(n)&&r.push(i);return r}},{key:"_pointerToPositionObject",value:function(n){var t=this.canvas.DOMtoCanvas(n);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}},{key:"getNodeAt",value:function(n){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this._pointerToPositionObject(n),t=this._getAllNodesOverlappingWith(r);if(t.length>0)return i===!0?this.body.nodes[t[t.length-1]]:t[t.length-1]}},{key:"_getEdgesOverlappingWith",value:function(n,t){for(var r,u=this.body.edges,i=0;i<this.body.edgeIndices.length;i++)r=this.body.edgeIndices[i],u[r].isOverlappingWith(n)&&t.push(r)}},{key:"_getAllEdgesOverlappingWith",value:function(n){var t=[];return this._getEdgesOverlappingWith(n,t),t}},{key:"getEdgeAt",value:function(n){for(var u,t,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=this.canvas.DOMtoCanvas(n),e=10,i=null,h=this.body.edges,r=0;r<this.body.edgeIndices.length;r++)if(u=this.body.edgeIndices[r],t=h[u],t.connected){var c=t.from.x,l=t.from.y,a=t.to.x,v=t.to.y,o=t.edgeType.getDistanceToEdge(c,l,a,v,f.x,f.y);o<e&&(i=u,e=o)}if(i)return s===!0?this.body.edges[i]:i}},{key:"_addToSelection",value:function(n){n instanceof r.default?this.selectionObj.nodes[n.id]=n:this.selectionObj.edges[n.id]=n}},{key:"_addToHover",value:function(n){n instanceof r.default?this.hoverObj.nodes[n.id]=n:this.hoverObj.edges[n.id]=n}},{key:"_removeFromSelection",value:function(n){n instanceof r.default?(delete this.selectionObj.nodes[n.id],this._unselectConnectedEdges(n)):delete this.selectionObj.edges[n.id]}},{key:"unselectAll",value:function(){var n,t;for(n in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(n)&&this.selectionObj.nodes[n].unselect();for(t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&this.selectionObj.edges[t].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var n=0;for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(n+=1);return n}},{key:"_getSelectedNode",value:function(){for(var n in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(n))return this.selectionObj.nodes[n]}},{key:"_getSelectedEdge",value:function(){for(var n in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(n))return this.selectionObj.edges[n]}},{key:"_getSelectedEdgeCount",value:function(){var n=0;for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&(n+=1);return n}},{key:"_getSelectedObjectCount",value:function(){var n=0,t,i;for(t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(n+=1);for(i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(n+=1);return n}},{key:"_selectionIsEmpty",value:function(){var n,t;for(n in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(n))return!1;for(t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var n in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(n)&&this.selectionObj.nodes[n].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(n){for(var i,t=0;t<n.edges.length;t++)i=n.edges[t],i.select(),this._addToSelection(i)}},{key:"_hoverConnectedEdges",value:function(n){for(var i,t=0;t<n.edges.length;t++)i=n.edges[t],i.hover=!0,this._addToHover(i)}},{key:"_unselectConnectedEdges",value:function(n){for(var i,t=0;t<n.edges.length;t++)i=n.edges[t],i.unselect(),this._removeFromSelection(i)}},{key:"blurObject",value:function(n){n.hover===!0&&(n.hover=!1,n instanceof r.default?this.body.emitter.emit("blurNode",{node:n.id}):this.body.emitter.emit("blurEdge",{edge:n.id}))}},{key:"hoverObject",value:function(n){var i=!1,u,t;for(u in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(u)&&(void 0===n||n instanceof r.default&&n.id!=u||n instanceof f.default)&&(this.blurObject(this.hoverObj.nodes[u]),delete this.hoverObj.nodes[u],i=!0);for(t in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(t)&&(i===!0?(this.hoverObj.edges[t].hover=!1,delete this.hoverObj.edges[t]):(void 0===n||n instanceof f.default&&n.id!=t||n instanceof r.default&&!n.hover)&&(this.blurObject(this.hoverObj.edges[t]),delete this.hoverObj.edges[t],i=!0));void 0!==n&&(n.hover===!1&&(n.hover=!0,this._addToHover(n),i=!0,n instanceof r.default?this.body.emitter.emit("hoverNode",{node:n.id}):this.body.emitter.emit("hoverEdge",{edge:n.id})),n instanceof r.default&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n));i===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){var n=this.getSelectedNodes(),t=this.getSelectedEdges();return{nodes:n,edges:t}}},{key:"getSelectedNodes",value:function(){var t=[],n;if(this.options.selectable===!0)for(n in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(n)&&t.push(this.selectionObj.nodes[n].id);return t}},{key:"getSelectedEdges",value:function(){var t=[],n;if(this.options.selectable===!0)for(n in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(n)&&t.push(this.selectionObj.edges[n].id);return t}},{key:"setSelection",value:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=void 0,i=void 0,u,f;if(!n||!n.nodes&&!n.edges)throw"Selection must be an object with nodes and/or edges properties";if((r.unselectAll||void 0===r.unselectAll)&&this.unselectAll(),n.nodes)for(t=0;t<n.nodes.length;t++){if(i=n.nodes[t],u=this.body.nodes[i],!u)throw new RangeError('Node with id "'+i+'" not found');this.selectObject(u,r.highlightEdges)}if(n.edges)for(t=0;t<n.edges.length;t++){if(i=n.edges[t],f=this.body.edges[i],!f)throw new RangeError('Edge with id "'+i+'" not found');this.selectObject(f)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!n||void 0===n.length)throw"Selection must be an array with ids";this.setSelection({nodes:n},{highlightEdges:t})}},{key:"selectEdges",value:function(n){if(!n||void 0===n.length)throw"Selection must be an array with ids";this.setSelection({edges:n})}},{key:"updateSelection",value:function(){var n,t;for(n in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(n)&&(this.body.nodes.hasOwnProperty(n)||delete this.selectionObj.nodes[n]);for(t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&(this.body.edges.hasOwnProperty(t)||delete this.selectionObj.edges[t])}}]),n}();t.default=v},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(58),e=r(s),h=i(161),u=r(h),c=i(62),l=r(c),a=i(115),v=r(a),y=i(116),p=r(y),w=i(210),f=r(w),o=i(1),b=function(){function n(t){v.default(this,n);this.body=t;this.initialRandomSeed=Math.round(1e6*Math.random());this.randomSeed=this.initialRandomSeed;this.setPhysics=!1;this.options={};this.optionsBackup={physics:{}};this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}};o.extend(this.options,this.defaultOptions);this.bindEventListeners()}return p.default(n,[{key:"bindEventListeners",value:function(){var n=this;this.body.emitter.on("_dataChanged",function(){n.setupHierarchicalLayout()});this.body.emitter.on("_dataLoaded",function(){n.layoutNetwork()});this.body.emitter.on("_resetHierarchicalLayout",function(){n.setupHierarchicalLayout()})}},{key:"setOptions",value:function(n,t){if(void 0!==n){var i=this.options.hierarchical.enabled;if(o.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,n),o.mergeOptions(this.options,n,"hierarchical"),void 0!==n.randomSeed&&(this.initialRandomSeed=n.randomSeed),this.options.hierarchical.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),"RL"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?this.options.hierarchical.levelSeparation>0&&(this.options.hierarchical.levelSeparation*=-1):this.options.hierarchical.levelSeparation<0&&(this.options.hierarchical.levelSeparation*=-1),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(i===!0)return this.body.emitter.emit("refresh"),o.deepExtend(t,this.optionsBackup)}return t}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(n){if(this.options.hierarchical.enabled===!0){void 0===n.physics||n.physics===!0?(n.physics={enabled:void 0===this.optionsBackup.physics.enabled||this.optionsBackup.physics.enabled,solver:"hierarchicalRepulsion"},this.optionsBackup.physics.enabled=void 0===this.optionsBackup.physics.enabled||this.optionsBackup.physics.enabled,this.optionsBackup.physics.solver=this.optionsBackup.physics.solver||"barnesHut"):"object"===l.default(n.physics)?(this.optionsBackup.physics.enabled=void 0===n.physics.enabled||n.physics.enabled,this.optionsBackup.physics.solver=n.physics.solver||"barnesHut",n.physics.solver="hierarchicalRepulsion"):n.physics!==!1&&(this.optionsBackup.physics.solver="barnesHut",n.physics={solver:"hierarchicalRepulsion"});var t="horizontal";"RL"!==this.options.hierarchical.direction&&"LR"!==this.options.hierarchical.direction||(t="vertical");void 0===n.edges?(this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},n.edges={smooth:!1}):void 0===n.edges.smooth?(this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},n.edges.smooth=!1):"boolean"==typeof n.edges.smooth?(this.optionsBackup.edges={smooth:n.edges.smooth},n.edges.smooth={enabled:n.edges.smooth,type:t}):(void 0!==n.edges.smooth.type&&"dynamic"!==n.edges.smooth.type&&(t=n.edges.smooth.type),this.optionsBackup.edges={smooth:void 0===n.edges.smooth.enabled||n.edges.smooth.enabled,type:void 0===n.edges.smooth.type?"dynamic":n.edges.smooth.type,roundness:void 0===n.edges.smooth.roundness?.5:n.edges.smooth.roundness,forceDirection:void 0!==n.edges.smooth.forceDirection&&n.edges.smooth.forceDirection},n.edges.smooth={enabled:void 0===n.edges.smooth.enabled||n.edges.smooth.enabled,type:t,roundness:void 0===n.edges.smooth.roundness?.5:n.edges.smooth.roundness,forceDirection:void 0!==n.edges.smooth.forceDirection&&n.edges.smooth.forceDirection});this.body.emitter.emit("_forceDisableDynamicCurves",t)}return n}},{key:"seededRandom",value:function(){var n=1e4*Math.sin(this.randomSeed++);return n-Math.floor(n)}},{key:"positionInitially",value:function(n){var t;if(this.options.hierarchical.enabled!==!0)for(this.randomSeed=this.initialRandomSeed,t=0;t<n.length;t++){var i=n[t],r=1*n.length+10,u=2*Math.PI*this.seededRandom();void 0===i.x&&(i.x=r*Math.cos(u));void 0===i.y&&(i.y=r*Math.sin(u))}}},{key:"layoutNetwork",value:function(){var r,t,f,o,s,h,u,n;if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(r=0,t=0;t<this.body.nodeIndices.length;t++)f=this.body.nodes[this.body.nodeIndices[t]],f.predefinedPosition===!0&&(r+=1);if(r<.5*this.body.nodeIndices.length){var i=0,e=100;if(this.body.nodeIndices.length>e){for(o=this.body.nodeIndices.length;this.body.nodeIndices.length>e;)if(i+=1,s=this.body.nodeIndices.length,i%3==0?this.body.modules.clustering.clusterBridges():this.body.modules.clustering.clusterOutliers(),h=this.body.nodeIndices.length,s==h&&i%3!=0||i>10)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*o)})}for(this.body.modules.kamadaKawai.solve(this.body.nodeIndices,this.body.edgeIndices,!0),this._shiftToCenter(),u=70,n=0;n<this.body.nodeIndices.length;n++)this.body.nodes[this.body.nodeIndices[n]].predefinedPosition===!1&&(this.body.nodes[this.body.nodeIndices[n]].x+=(.5-this.seededRandom())*u,this.body.nodes[this.body.nodeIndices[n]].y+=(.5-this.seededRandom())*u);this._declusterAll();this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var i=f.default.getRangeCore(this.body.nodes,this.body.nodeIndices),t=f.default.findCenter(i),n=0;n<this.body.nodeIndices.length;n++)this.body.nodes[this.body.nodeIndices[n]].x-=t.x,this.body.nodes[this.body.nodeIndices[n]].y-=t.y}},{key:"_declusterAll",value:function(){for(var t,n=!0;n===!0;){for(n=!1,t=0;t<this.body.nodeIndices.length;t++)this.body.nodes[this.body.nodeIndices[t]].isCluster===!0&&(n=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));n===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){var i,f;if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var n=void 0,t=void 0,u=!1,e=!0,r=!1;this.hierarchicalLevels={};this.lastNodeOnLevel={};this.hierarchicalChildrenReference={};this.hierarchicalParentReference={};this.hierarchicalTrees={};this.treeIndex=-1;this.distributionOrdering={};this.distributionIndex={};this.distributionOrderingPresence={};for(t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&(n=this.body.nodes[t],void 0===n.options.x&&void 0===n.options.y&&(e=!1),void 0!==n.options.level?(u=!0,this.hierarchicalLevels[t]=n.options.level):r=!0);if(r===!0&&u===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");r===!0&&("hubsize"===this.options.hierarchical.sortMethod?this._determineLevelsByHubsize():"directed"===this.options.hierarchical.sortMethod?this._determineLevelsDirected():"custom"===this.options.hierarchical.sortMethod&&this._determineLevelsCustomCallback());for(i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&void 0===this.hierarchicalLevels[i]&&(this.hierarchicalLevels[i]=0);f=this._getDistribution();this._generateMap();this._placeNodesByHierarchy(f);this._condenseHierarchy();this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var n=this,t=!1,i={},s=function(){for(var u,i=l(),r=0,t=0;t<i.length-1;t++)u=i[t].max-i[t+1].min,r+=u+n.options.hierarchical.treeSpacing,h(t+1,r)},h=function(t,i){var r,u,f;for(r in n.hierarchicalTrees)n.hierarchicalTrees.hasOwnProperty(r)&&n.hierarchicalTrees[r]===t&&(u=n.body.nodes[r],f=n._getPositionForHierarchy(u),n._setPositionForHierarchy(u,f+i,void 0,!0))},c=function(t){var r=1e9,u=-1e9,i,f;for(i in n.hierarchicalTrees)n.hierarchicalTrees.hasOwnProperty(i)&&n.hierarchicalTrees[i]===t&&(f=n._getPositionForHierarchy(n.body.nodes[i]),r=Math.min(f,r),u=Math.max(f,u));return{min:r,max:u}},l=function(){for(var i=[],t=0;t<=n.treeIndex;t++)i.push(c(t));return i},r=function t(i,r){var u,f;if((r[i.id]=!0,n.hierarchicalChildrenReference[i.id])&&(u=n.hierarchicalChildrenReference[i.id],u.length>0))for(f=0;f<u.length;f++)t(n.body.nodes[u[f]],r)},f=function(t){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,i=1e9,r=1e9,f=1e9,e=-1e9;for(var s in t)if(t.hasOwnProperty(s)){var o=n.body.nodes[s],a=n.hierarchicalLevels[o.id],h=n._getPositionForHierarchy(o),v=n._getSpaceAroundNode(o,t),c=u.default(v,2),y=c[0],p=c[1];i=Math.min(y,i);r=Math.min(p,r);a<=l&&(f=Math.min(h,f),e=Math.max(h,e))}return[f,e,i,r]},o=function t(i){var f=n.hierarchicalLevels[i],r,u;if(n.hierarchicalChildrenReference[i]&&(r=n.hierarchicalChildrenReference[i],r.length>0))for(u=0;u<r.length;u++)f=Math.max(f,t(r[u]));return f},a=function(n,t){var i=o(n.id),r=o(t.id);return Math.min(i,r)},v=function(t,i){var f=n.hierarchicalParentReference[t.id],e=n.hierarchicalParentReference[i.id],r,u;if(void 0===f||void 0===e)return!1;for(r=0;r<f.length;r++)for(u=0;u<e.length;u++)if(f[r]==e[u])return!0;return!1},y=function(t,i,r){for(var o,u,f,e=0;e<i.length;e++)if(o=i[e],u=n.distributionOrdering[o],u.length>1)for(f=0;f<u.length-1;f++)v(u[f],u[f+1])===!0&&n.hierarchicalTrees[u[f].id]===n.hierarchicalTrees[u[f+1].id]&&t(u[f],u[f+1],r)},p=function(i,e){var b=arguments.length>2&&void 0!==arguments[2]&&arguments[2],k=n._getPositionForHierarchy(i),d=n._getPositionForHierarchy(e),g=Math.abs(d-k),s,h,o;if(g>n.options.hierarchical.nodeSpacing){s={};s[i.id]=!0;h={};h[e.id]=!0;r(i,s);r(e,h);var v=a(i,e),nt=f(s,v),c=u.default(nt,4),y=(c[0],c[1]),tt=(c[2],c[3],f(h,v)),l=u.default(tt,4),p=l[0],w=(l[1],l[2]),it=(l[3],Math.abs(y-p));it>n.options.hierarchical.nodeSpacing&&(o=y-p+n.options.hierarchical.nodeSpacing,o<-w+n.options.hierarchical.nodeSpacing&&(o=-w+n.options.hierarchical.nodeSpacing),o<0&&(n._shiftBlock(e.id,o),t=!0,b===!0&&n._centerParent(e)))}},w=function(e,o){for(var s,v,b=o.id,c=o.edges,k=n.hierarchicalLevels[o.id],a=n.options.hierarchical.levelSeparation*n.options.hierarchical.levelSeparation,h={},p=[],l=0;l<c.length;l++)s=c[l],s.toId!=s.fromId&&(v=s.toId==b?s.from:s.to,h[c[l].id]=v,n.hierarchicalLevels[v.id]<k&&p.push(s));var d=function(t,i){for(var u,f=0,r=0;r<i.length;r++)void 0!==h[i[r].id]&&(u=n._getPositionForHierarchy(h[i[r].id])-t,f+=u/Math.sqrt(u*u+a));return f},g=function(t,i){for(var f,u=0,r=0;r<i.length;r++)void 0!==h[i[r].id]&&(f=n._getPositionForHierarchy(h[i[r].id])-t,u-=a*Math.pow(f*f+a,-1.5));return u},w=function(t,i){for(var r=n._getPositionForHierarchy(o),f={},u=0;u<t;u++){var s=d(r,i),h=g(r,i),e=40,c=Math.max(-e,Math.min(e,Math.round(s/h)));if(r-=c,void 0!==f[r])break;f[r]=u}return r},nt=function(e){var a=n._getPositionForHierarchy(o),s;void 0===i[o.id]&&(s={},s[o.id]=!0,r(o,s),i[o.id]=s);var v=f(i[o.id]),h=u.default(v,4),y=(h[0],h[1],h[2]),p=h[3],c=e-a,l=0;c>0?l=Math.min(c,p-n.options.hierarchical.nodeSpacing):c<0&&(l=-Math.min(-c,y-n.options.hierarchical.nodeSpacing));0!=l&&(n._shiftBlock(o.id,l),t=!0)},tt=function(i){var r=n._getPositionForHierarchy(o),h=n._getSpaceAroundNode(o),e=u.default(h,2),c=e[0],l=e[1],s=i-r,f=r;s>0?f=Math.min(r+(l-n.options.hierarchical.nodeSpacing),i):s<0&&(f=Math.max(r-(c-n.options.hierarchical.nodeSpacing),i));f!==r&&(n._setPositionForHierarchy(o,f,void 0,!0),t=!0)},y=w(e,p);nt(y);y=w(e,c);tt(y)},b=function(i){for(var r=e.default(n.distributionOrdering),u,r=r.reverse(),f=0;f<i;f++){for(t=!1,u=0;u<r.length;u++)for(var h=r[u],s=n.distributionOrdering[h],o=0;o<s.length;o++)w(1e3,s[o]);if(t!==!0)break}},k=function(i){for(var r=e.default(n.distributionOrdering),r=r.reverse(),u=0;u<i&&(t=!1,y(p,r,!0),t===!0);u++);},d=function(){for(var t in n.body.nodes)n.body.nodes.hasOwnProperty(t)&&n._centerParent(n.body.nodes[t])},g=function(){for(var t=e.default(n.distributionOrdering),t=t.reverse(),i=0;i<t.length;i++)for(var f=t[i],u=n.distributionOrdering[f],r=0;r<u.length;r++)n._centerParent(u[r])};this.options.hierarchical.blockShifting===!0&&(k(5),d());this.options.hierarchical.edgeMinimization===!0&&b(20);this.options.hierarchical.parentCentralization===!0&&g();s()}},{key:"_getSpaceAroundNode",value:function(n,t){var i=!0,r,e,c,o,l;if(void 0===t&&(i=!1),r=this.hierarchicalLevels[n.id],void 0!==r){var u=this.distributionIndex[n.id],s=this._getPositionForHierarchy(n),h=1e9,f=1e9;return 0!==u&&(e=this.distributionOrdering[r][u-1],(i===!0&&void 0===t[e.id]||i===!1)&&(c=this._getPositionForHierarchy(e),h=s-c)),u!=this.distributionOrdering[r].length-1&&(o=this.distributionOrdering[r][u+1],(i===!0&&void 0===t[o.id]||i===!1)&&(l=this._getPositionForHierarchy(o),f=Math.min(f,l-s))),[h,f]}return[0,0]}},{key:"_centerParent",value:function(n){var o,t,i,r,f,l;if(this.hierarchicalParentReference[n.id])for(o=this.hierarchicalParentReference[n.id],t=0;t<o.length;t++)if(i=o[t],r=this.body.nodes[i],this.hierarchicalChildrenReference[i]){var s=1e9,h=-1e9,c=this.hierarchicalChildrenReference[i];if(c.length>0)for(f=0;f<c.length;f++)l=this.body.nodes[c[f]],s=Math.min(s,this._getPositionForHierarchy(l)),h=Math.max(h,this._getPositionForHierarchy(l));var y=this._getPositionForHierarchy(r),p=this._getSpaceAroundNode(r),a=u.default(p,2),w=a[0],b=a[1],v=.5*(s+h),e=y-v;(e<0&&Math.abs(e)<b-this.options.hierarchical.nodeSpacing||e>0&&Math.abs(e)<w-this.options.hierarchical.nodeSpacing)&&this._setPositionForHierarchy(r,v,void 0,!0)}}},{key:"_placeNodesByHierarchy",value:function(n){var i,t,u,r,f,o;this.positionedNodes={};for(i in n)if(n.hasOwnProperty(i))for(t=e.default(n[i]),t=this._indexArrayToNodes(t),this._sortNodeArray(t),u=0,r=0;r<t.length;r++)f=t[r],void 0===this.positionedNodes[f.id]&&(o=this.options.hierarchical.nodeSpacing*u,u>0&&(o=this._getPositionForHierarchy(t[r-1])+this.options.hierarchical.nodeSpacing),this._setPositionForHierarchy(f,o,i),this._validataPositionAndContinue(f,i,o),u++)}},{key:"_placeBranchNodes",value:function(n,t){var i,f,r,u,e,o,l;if(void 0!==this.hierarchicalChildrenReference[n]){for(i=[],f=0;f<this.hierarchicalChildrenReference[n].length;f++)i.push(this.body.nodes[this.hierarchicalChildrenReference[n][f]]);for(this._sortNodeArray(i),r=0;r<i.length;r++){if(u=i[r],e=this.hierarchicalLevels[u.id],!(e>t&&void 0===this.positionedNodes[u.id]))return;o=void 0;o=0===r?this._getPositionForHierarchy(this.body.nodes[n]):this._getPositionForHierarchy(i[r-1])+this.options.hierarchical.nodeSpacing;this._setPositionForHierarchy(u,o,e);this._validataPositionAndContinue(u,e,o)}for(var s=1e9,h=-1e9,c=0;c<i.length;c++)l=i[c].id,s=Math.min(s,this._getPositionForHierarchy(this.body.nodes[l])),h=Math.max(h,this._getPositionForHierarchy(this.body.nodes[l]));this._setPositionForHierarchy(this.body.nodes[n],.5*(s+h),t)}}},{key:"_validataPositionAndContinue",value:function(n,t,i){var r,u,f;void 0!==this.lastNodeOnLevel[t]&&(r=this._getPositionForHierarchy(this.body.nodes[this.lastNodeOnLevel[t]]),i-r<this.options.hierarchical.nodeSpacing&&(u=r+this.options.hierarchical.nodeSpacing-i,f=this._findCommonParent(this.lastNodeOnLevel[t],n.id),this._shiftBlock(f.withChild,u)));this.lastNodeOnLevel[t]=n.id;this.positionedNodes[n.id]=!0;this._placeBranchNodes(n.id,t)}},{key:"_indexArrayToNodes",value:function(n){for(var i=[],t=0;t<n.length;t++)i.push(this.body.nodes[n[t]]);return i}},{key:"_getDistribution",value:function(){var r={},n=void 0,t=void 0,i;for(n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&(t=this.body.nodes[n],i=void 0===this.hierarchicalLevels[n]?0:this.hierarchicalLevels[n],"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?(t.y=this.options.hierarchical.levelSeparation*i,t.options.fixed.y=!0):(t.x=this.options.hierarchical.levelSeparation*i,t.options.fixed.x=!0),void 0===r[i]&&(r[i]={}),r[i][n]=t);return r}},{key:"_getHubSize",value:function(){var n=0,t,i;for(t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&(i=this.body.nodes[t],void 0===this.hierarchicalLevels[t]&&(n=i.edges.length<n?n:i.edges.length));return n}},{key:"_determineLevelsByHubsize",value:function(){for(var i,r,n=this,t=1,u=function(t,i){void 0===n.hierarchicalLevels[i.id]&&(void 0===n.hierarchicalLevels[t.id]&&(n.hierarchicalLevels[t.id]=0),n.hierarchicalLevels[i.id]=n.hierarchicalLevels[t.id]+1)};t>0&&(t=this._getHubSize(),0!==t);)for(i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&(r=this.body.nodes[i],r.edges.length===t&&this._crawlNetwork(u,i))}},{key:"_determineLevelsCustomCallback",value:function(){var n=this,t=1e5,i=function(){},r=function(r,u,e){var s=n.hierarchicalLevels[r.id],o;void 0===s&&(n.hierarchicalLevels[r.id]=t);o=i(f.default.cloneOptions(r,"node"),f.default.cloneOptions(u,"node"),f.default.cloneOptions(e,"edge"));n.hierarchicalLevels[u.id]=n.hierarchicalLevels[r.id]+o};this._crawlNetwork(r);this._setMinLevelToZero()}},{key:"_determineLevelsDirected",value:function(){var n=this,t=1e4,i=function(i,r,u){var f=n.hierarchicalLevels[i.id];void 0===f&&(n.hierarchicalLevels[i.id]=t);n.hierarchicalLevels[r.id]=u.toId==r.id?n.hierarchicalLevels[i.id]+1:n.hierarchicalLevels[i.id]-1};this._crawlNetwork(i);this._setMinLevelToZero()}},{key:"_setMinLevelToZero",value:function(){var i=1e9,n,t;for(n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&void 0!==this.hierarchicalLevels[n]&&(i=Math.min(this.hierarchicalLevels[n],i));for(t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&void 0!==this.hierarchicalLevels[t]&&(this.hierarchicalLevels[t]-=i)}},{key:"_generateMap",value:function(){var n=this,t=function(t,i){if(n.hierarchicalLevels[i.id]>n.hierarchicalLevels[t.id]){var r=t.id,u=i.id;void 0===n.hierarchicalChildrenReference[r]&&(n.hierarchicalChildrenReference[r]=[]);n.hierarchicalChildrenReference[r].push(u);void 0===n.hierarchicalParentReference[u]&&(n.hierarchicalParentReference[u]=[]);n.hierarchicalParentReference[u].push(r)}};this._crawlNetwork(t)}},{key:"_crawlNetwork",value:function(){var n=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments[1],r={},e=0,o=function t(i,u){if(void 0===r[i.id]){void 0===n.hierarchicalTrees[i.id]&&(n.hierarchicalTrees[i.id]=u,n.treeIndex=Math.max(u,n.treeIndex));r[i.id]=!0;for(var e=void 0,f=0;f<i.edges.length;f++)i.edges[f].connected===!0&&(e=i.edges[f].toId===i.id?i.edges[f].from:i.edges[f].to,i.id!==e.id&&(s(i,e,i.edges[f]),t(e,u)))}},i,u,f;if(void 0===t)for(i=0;i<this.body.nodeIndices.length;i++)u=this.body.nodes[this.body.nodeIndices[i]],void 0===r[u.id]&&(o(u,e),e+=1);else{if(f=this.body.nodes[t],void 0===f)return void console.error("Node not found:",t);o(f)}}},{key:"_shiftBlock",value:function(n,t){if("UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?this.body.nodes[n].x+=t:this.body.nodes[n].y+=t,void 0!==this.hierarchicalChildrenReference[n])for(var i=0;i<this.hierarchicalChildrenReference[n].length;i++)this._shiftBlock(this.hierarchicalChildrenReference[n][i],t)}},{key:"_findCommonParent",value:function(n,t){var i=this,r={},u=function n(t,r){var u,f;if(void 0!==i.hierarchicalParentReference[r])for(u=0;u<i.hierarchicalParentReference[r].length;u++)f=i.hierarchicalParentReference[r][u],t[f]=!0,n(t,f)},f=function n(t,r){var u,f,e;if(void 0!==i.hierarchicalParentReference[r])for(u=0;u<i.hierarchicalParentReference[r].length;u++){if(f=i.hierarchicalParentReference[r][u],void 0!==t[f])return{foundParent:f,withChild:r};if(e=n(t,f),null!==e.foundParent)return e}return{foundParent:null,withChild:r}};return u(r,n),f(r,t)}},{key:"_setPositionForHierarchy",value:function(n,t,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r!==!0&&(void 0===this.distributionOrdering[i]&&(this.distributionOrdering[i]=[],this.distributionOrderingPresence[i]={}),void 0===this.distributionOrderingPresence[i][n.id]&&(this.distributionOrdering[i].push(n),this.distributionIndex[n.id]=this.distributionOrdering[i].length-1),this.distributionOrderingPresence[i][n.id]=!0);"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?n.x=t:n.y=t}},{key:"_getPositionForHierarchy",value:function(n){return"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?n.x:n.y}},{key:"_sortNodeArray",value:function(n){n.length>1&&("UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?n.sort(function(n,t){return n.x-t.x}):n.sort(function(n,t){return n.y-t.y}))}}]),n}();t.default=b},function(n,t,i){function u(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var e=i(58),o=u(e),s=i(82),h=u(s),c=i(62),f=u(c),l=i(115),a=u(l),v=i(116),y=u(v),r=i(1),p=i(108),w=i(121),b=function(){function n(t,i,u){var f=this;a.default(this,n);this.body=t;this.canvas=i;this.selectionHandler=u;this.editMode=!1;this.manipulationDiv=void 0;this.editModeDiv=void 0;this.closeDiv=void 0;this.manipulationHammers=[];this.temporaryUIFunctions={};this.temporaryEventFunctions=[];this.touchTime=0;this.temporaryIds={nodes:[],edges:[]};this.guiEnabled=!1;this.inMode=!1;this.selectedControlNode=void 0;this.options={};this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}};r.extend(this.options,this.defaultOptions);this.body.emitter.on("destroy",function(){f._clean()});this.body.emitter.on("_dataChanged",this._restore.bind(this));this.body.emitter.on("_resetData",this._restore.bind(this))}return y.default(n,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(n,t,i){void 0!==t&&(this.options.locale=void 0!==t.locale?t.locale:i.locale,this.options.locales=void 0!==t.locales?t.locales:i.locales);void 0!==n&&("boolean"==typeof n?this.options.enabled=n:(this.options.enabled=!0,r.deepExtend(this.options,n)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0;this._clean();this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1;this._clean();this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){this.editMode=!0;this.manipulationDiv.style.display="block";this.closeDiv.style.display="block";var i=this.selectionHandler._getSelectedNodeCount(),r=this.selectionHandler._getSelectedEdgeCount(),u=i+r,t=this.options.locales[this.options.locale],n=!1;this.options.addNode!==!1&&(this._createAddNodeButton(t),n=!0);this.options.addEdge!==!1&&(n===!0?this._createSeperator(1):n=!0,this._createAddEdgeButton(t));1===i&&"function"==typeof this.options.editNode?(n===!0?this._createSeperator(2):n=!0,this._createEditNodeButton(t)):1===r&&0===i&&this.options.editEdge!==!1&&(n===!0?this._createSeperator(3):n=!0,this._createEditEdgeButton(t));0!==u&&(i>0&&this.options.deleteNode!==!1?(n===!0&&this._createSeperator(4),this._createDeleteButton(t)):0===i&&this.options.deleteEdge!==!1&&(n===!0&&this._createSeperator(4),this._createDeleteButton(t)));this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this));this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var n=this.options.locales[this.options.locale];this.manipulationDOM={};this._createBackButton(n);this._createSeperator();this._createDescription(n.addDescription||this.options.locales.en.addDescription);this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var i=this,n,t;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),n=this.selectionHandler._getSelectedNode(),void 0!==n){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(n.isCluster!==!0){if(t=r.deepExtend({},n.options,!1),t.x=n.x,t.y=n.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(t,function(n){null!==n&&void 0!==n&&"editNode"===i.inMode&&i.body.data.nodes.getDataSet().update(n);i.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var n=this.options.locales[this.options.locale];this.manipulationDOM={};this._createBackButton(n);this._createSeperator();this._createDescription(n.edgeDescription||this.options.locales.en.edgeDescription);this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this));this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this));this._temporaryBindUI("onDrag",this._dragControlNode.bind(this));this._temporaryBindUI("onRelease",this._finishConnect.bind(this));this._temporaryBindUI("onDragStart",function(){});this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){var n=this,t,i;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"===f.default(this.options.editEdge)&&"function"==typeof this.options.editEdge.editWithoutDrag&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId))return t=this.body.edges[this.edgeBeingEditedId],void this._performEditEdge(t.from,t.to);this.guiEnabled===!0&&(i=this.options.locales[this.options.locale],this.manipulationDOM={},this._createBackButton(i),this._createSeperator(),this._createDescription(i.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)));this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0];void 0!==this.edgeBeingEditedId?!function(){var r=n.body.edges[n.edgeBeingEditedId],t=n._getNewTargetNode(r.from.x,r.from.y),i=n._getNewTargetNode(r.to.x,r.to.y);n.temporaryIds.nodes.push(t.id);n.temporaryIds.nodes.push(i.id);n.body.nodes[t.id]=t;n.body.nodeIndices.push(t.id);n.body.nodes[i.id]=i;n.body.nodeIndices.push(i.id);n._temporaryBindUI("onTouch",n._controlNodeTouch.bind(n));n._temporaryBindUI("onTap",function(){});n._temporaryBindUI("onHold",function(){});n._temporaryBindUI("onDragStart",n._controlNodeDragStart.bind(n));n._temporaryBindUI("onDrag",n._controlNodeDrag.bind(n));n._temporaryBindUI("onDragEnd",n._controlNodeDragEnd.bind(n));n._temporaryBindUI("onMouseMove",function(){});n._temporaryBindEvent("beforeDrawing",function(n){var u=r.edgeType.findBorderPositions(n);t.selected===!1&&(t.x=u.from.x,t.y=u.from.y);i.selected===!1&&(i.x=u.to.x,i.y=u.to.y)});n.body.emitter.emit("_redraw")}():this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var n=this,r,f;this.editMode!==!0&&this.enableEditMode();this._clean();this.inMode="delete";var t=this.selectionHandler.getSelectedNodes(),u=this.selectionHandler.getSelectedEdges(),i=void 0;if(t.length>0){for(r=0;r<t.length;r++)if(this.body.nodes[t[r]].isCluster===!0)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(i=this.options.deleteNode)}else u.length>0&&"function"==typeof this.options.deleteEdge&&(i=this.options.deleteEdge);if("function"==typeof i){if(f={nodes:t,edges:u},2!==i.length)throw new Error("The function for delete does not support two arguments (data, callback)");i(f,function(t){null!==t&&void 0!==t&&"delete"===n.inMode?(n.body.data.edges.getDataSet().remove(t.edges),n.body.data.nodes.getDataSet().remove(t.nodes),n.body.emitter.emit("startSimulation"),n.showManipulatorToolbar()):(n.body.emitter.emit("startSimulation"),n.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(u),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=this.editMode===!0?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv));void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=this.editMode===!0?"none":"block",this.canvas.frame.appendChild(this.editModeDiv));void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(n,t){var i=r.deepExtend({},this.options.controlNodeStyle),u;return i.id="targetNode"+r.randomUUID(),i.hidden=!1,i.physics=!1,i.x=n,i.y=t,u=this.body.functions.createNode(i),u.shape.boundingBox={left:n,right:n,top:t,bottom:t},u}},{key:"_createEditButton",value:function(){this._clean();this.manipulationDOM={};r.recursiveDOMDelete(this.editModeDiv);var t=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-button vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n);this._bindHammerToDiv(n,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1;this.guiEnabled===!0&&(r.recursiveDOMDelete(this.editModeDiv),r.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers());this._cleanupTemporaryNodesAndEdges();this._unbindTemporaryUIs();this._unbindTemporaryEvents();this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var n=0;n<this.manipulationHammers.length;n++)this.manipulationHammers[n].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean();r.recursiveDOMDelete(this.manipulationDiv);r.recursiveDOMDelete(this.editModeDiv);r.recursiveDOMDelete(this.closeDiv);this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv);this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv);this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv);this.manipulationDiv=void 0;this.editModeDiv=void 0;this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+n]=document.createElement("div");this.manipulationDOM["seperatorLineDiv"+n].className="vis-separator-line";this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+n])}},{key:"_createAddNodeButton",value:function(n){var t=this._createButton("addNode","vis-button vis-add",n.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(t);this._bindHammerToDiv(t,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(n){var t=this._createButton("addEdge","vis-button vis-connect",n.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(t);this._bindHammerToDiv(t,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(n){var t=this._createButton("editNode","vis-button vis-edit",n.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(t);this._bindHammerToDiv(t,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(n){var t=this._createButton("editEdge","vis-button vis-edit",n.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(t);this._bindHammerToDiv(t,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(n){var i,t;i=this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete";t=this._createButton("delete",i,n.del||this.options.locales.en.del);this.manipulationDiv.appendChild(t);this._bindHammerToDiv(t,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(n){var t=this._createButton("back","vis-button vis-back",n.back||this.options.locales.en.back);this.manipulationDiv.appendChild(t);this._bindHammerToDiv(t,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(n,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[n+"Div"]=document.createElement("div"),this.manipulationDOM[n+"Div"].className=t,this.manipulationDOM[n+"Label"]=document.createElement("div"),this.manipulationDOM[n+"Label"].className=r,this.manipulationDOM[n+"Label"].innerHTML=i,this.manipulationDOM[n+"Div"].appendChild(this.manipulationDOM[n+"Label"]),this.manipulationDOM[n+"Div"]}},{key:"_createDescription",value:function(n){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",n))}},{key:"_temporaryBindEvent",value:function(n,t){this.temporaryEventFunctions.push({event:n,boundFunction:t});this.body.emitter.on(n,t)}},{key:"_temporaryBindUI",value:function(n,t){if(void 0===this.body.eventListeners[n])throw new Error("This UI function does not exist. Typo? You tried: "+n+" possible are: "+h.default(o.default(this.body.eventListeners)));this.temporaryUIFunctions[n]=this.body.eventListeners[n];this.body.eventListeners[n]=t}},{key:"_unbindTemporaryUIs",value:function(){for(var n in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(n)&&(this.body.eventListeners[n]=this.temporaryUIFunctions[n],delete this.temporaryUIFunctions[n]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t,i,n=0;n<this.temporaryEventFunctions.length;n++)t=this.temporaryEventFunctions[n].event,i=this.temporaryEventFunctions[n].boundFunction,this.body.emitter.off(t,i);this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(n,t){var i=new p(n,{});w.onTouch(i,t);this.manipulationHammers.push(i)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var i,t,r,n=0;n<this.temporaryIds.edges.length;n++)this.body.edges[this.temporaryIds.edges[n]].disconnect(),delete this.body.edges[this.temporaryIds.edges[n]],i=this.body.edgeIndices.indexOf(this.temporaryIds.edges[n]),i!==-1&&this.body.edgeIndices.splice(i,1);for(t=0;t<this.temporaryIds.nodes.length;t++)delete this.body.nodes[this.temporaryIds.nodes[t]],r=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[t]),r!==-1&&this.body.nodeIndices.splice(r,1);this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(n){this.selectionHandler.unselectAll();this.lastTouch=this.body.functions.getPointer(n.center);this.lastTouch.translation=r.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var e=this.lastTouch,i=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],t=this.body.nodes[this.temporaryIds.nodes[1]],r=this.body.edges[this.edgeBeingEditedId],u,f;this.selectedControlNode=void 0;u=n.isOverlappingWith(i);f=t.isOverlappingWith(i);u===!0?(this.selectedControlNode=n,r.edgeType.from=n):f===!0&&(this.selectedControlNode=t,r.edgeType.to=t);void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode);this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(n){var t,i,r,u;this.body.emitter.emit("disablePhysics");t=this.body.functions.getPointer(n.center);i=this.canvas.DOMtoCanvas(t);void 0!==this.selectedControlNode?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):(r=t.x-this.lastTouch.x,u=t.y-this.lastTouch.y,this.body.view.translation={x:this.lastTouch.translation.x+r,y:this.lastTouch.translation.y+u});this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(n){var e=this.body.functions.getPointer(n.center),o=this.selectionHandler._pointerToPositionObject(e),r=this.body.edges[this.edgeBeingEditedId],f;if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var u=this.selectionHandler._getAllNodesOverlappingWith(o),t=void 0,i=u.length-1;i>=0;i--)if(u[i]!==this.selectedControlNode.id){t=this.body.nodes[u[i]];break}void 0!==t&&void 0!==this.selectedControlNode?t.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):(f=this.body.nodes[this.temporaryIds.nodes[0]],this.selectedControlNode.id===f.id?this._performEditEdge(t.id,r.to.id):this._performEditEdge(r.from.id,t.id)):(r.updateEdgeType(),this.body.emitter.emit("restorePhysics"));this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(n){var f,t,i,u;(new Date).valueOf()-this.touchTime>100&&(this.lastTouch=this.body.functions.getPointer(n.center),this.lastTouch.translation=r.extend({},this.body.view.translation),f=this.lastTouch,t=this.selectionHandler.getNodeAt(f),void 0!==t&&(t.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):(i=this._getNewTargetNode(t.x,t.y),this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id),u=this.body.functions.createEdge({id:"connectionEdge"+r.randomUUID(),from:t.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}}),this.body.edges[u.id]=u,this.body.edgeIndices.push(u.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(u.id))),this.touchTime=(new Date).valueOf())}},{key:"_dragControlNode",value:function(n){var t=this.body.functions.getPointer(n.center),i,r,u;void 0!==this.temporaryIds.nodes[0]?(i=this.body.nodes[this.temporaryIds.nodes[0]],i.x=this.canvas._XconvertDOMtoCanvas(t.x),i.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")):(r=t.x-this.lastTouch.x,u=t.y-this.lastTouch.y,this.body.view.translation={x:this.lastTouch.translation.x+r,y:this.lastTouch.translation.y+u})}},{key:"_finishConnect",value:function(n){var f=this.body.functions.getPointer(n.center),e=this.selectionHandler._pointerToPositionObject(f),r=void 0;void 0!==this.temporaryIds.edges[0]&&(r=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var u=this.selectionHandler._getAllNodesOverlappingWith(e),t=void 0,i=u.length-1;i>=0;i--)if(this.temporaryIds.nodes.indexOf(u[i])===-1){t=this.body.nodes[u[i]];break}this._cleanupTemporaryNodesAndEdges();void 0!==t&&(t.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[r]&&void 0!==this.body.nodes[t.id]&&this._performAddEdge(r,t.id));this.body.emitter.emit("_redraw")}},{key:"_performAddNode",value:function(n){var t=this,i={id:r.randomUUID(),x:n.pointer.canvas.x,y:n.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,function(n){null!==n&&void 0!==n&&"addNode"===t.inMode&&(t.body.data.nodes.getDataSet().add(n),t.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(n,t){var i=this,r={from:n,to:t};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(r,function(n){null!==n&&void 0!==n&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(n),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(n,t){var i=this,u={id:this.edgeBeingEditedId,from:n,to:t,label:this.body.data.edges._data[this.edgeBeingEditedId].label},r=this.options.editEdge;if("object"===("undefined"==typeof r?"undefined":f.default(r))&&(r=r.editWithoutDrag),"function"==typeof r){if(2!==r.length)throw new Error("The function for edit does not support two arguments (data, callback)");r(u,function(n){null===n||void 0===n||"editEdge"!==i.inMode?(i.body.edges[u.id].updateEdgeType(),i.body.emitter.emit("_redraw"),i.showManipulatorToolbar()):(i.body.data.edges.getDataSet().update(n),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(u),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),n}();t.default=b},function(n,t){var s;Object.defineProperty(t,"__esModule",{value:!0});var u="string",r="boolean",i="number",o="array",f="object",e={configure:{enabled:{boolean:r},filter:{boolean:r,string:u,array:o,"function":"function"},container:{dom:"dom"},showButton:{boolean:r},__type__:{object:f,boolean:r,string:u,array:o,"function":"function"}},edges:{arrows:{to:{enabled:{boolean:r},scaleFactor:{number:i},type:{string:["arrow","circle"]},__type__:{object:f,boolean:r}},middle:{enabled:{boolean:r},scaleFactor:{number:i},type:{string:["arrow","circle"]},__type__:{object:f,boolean:r}},from:{enabled:{boolean:r},scaleFactor:{number:i},type:{string:["arrow","circle"]},__type__:{object:f,boolean:r}},__type__:{string:["from","to","middle"],object:f}},arrowStrikethrough:{boolean:r},chosen:{label:{boolean:r,"function":"function"},edge:{boolean:r,"function":"function"},__type__:{object:f,boolean:r}},color:{color:{string:u},highlight:{string:u},hover:{string:u},inherit:{string:["from","to","both"],boolean:r},opacity:{number:i},__type__:{object:f,string:u}},dashes:{boolean:r,array:o},font:{color:{string:u},size:{number:i},face:{string:u},background:{string:u},strokeWidth:{number:i},strokeColor:{string:u},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:i},multi:{boolean:r,string:u},bold:{color:{string:u},size:{number:i},face:{string:u},mod:{string:u},vadjust:{number:i},__type__:{object:f,string:u}},boldital:{color:{string:u},size:{number:i},face:{string:u},mod:{string:u},vadjust:{number:i},__type__:{object:f,string:u}},ital:{color:{string:u},size:{number:i},face:{string:u},mod:{string:u},vadjust:{number:i},__type__:{object:f,string:u}},mono:{color:{string:u},size:{number:i},face:{string:u},mod:{string:u},vadjust:{number:i},__type__:{object:f,string:u}},__type__:{object:f,string:u}},hidden:{boolean:r},hoverWidth:{"function":"function",number:i},label:{string:u,undefined:"undefined"},labelHighlightBold:{boolean:r},length:{number:i,undefined:"undefined"},physics:{boolean:r},scaling:{min:{number:i},max:{number:i},label:{enabled:{boolean:r},min:{number:i},max:{number:i},maxVisible:{number:i},drawThreshold:{number:i},__type__:{object:f,boolean:r}},customScalingFunction:{"function":"function"},__type__:{object:f}},selectionWidth:{"function":"function",number:i},selfReferenceSize:{number:i},shadow:{enabled:{boolean:r},color:{string:u},size:{number:i},x:{number:i},y:{number:i},__type__:{object:f,boolean:r}},smooth:{enabled:{boolean:r},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:i},forceDirection:{string:["horizontal","vertical","none"],boolean:r},__type__:{object:f,boolean:r}},title:{string:u,undefined:"undefined"},width:{number:i},widthConstraint:{maximum:{number:i},__type__:{object:f,boolean:r,number:i}},value:{number:i,undefined:"undefined"},__type__:{object:f}},groups:{useDefaultGroups:{boolean:r},__any__:"get from nodes, will be overwritten below",__type__:{object:f}},interaction:{dragNodes:{boolean:r},dragView:{boolean:r},hideEdgesOnDrag:{boolean:r},hideNodesOnDrag:{boolean:r},hover:{boolean:r},keyboard:{enabled:{boolean:r},speed:{x:{number:i},y:{number:i},zoom:{number:i},__type__:{object:f}},bindToWindow:{boolean:r},__type__:{object:f,boolean:r}},multiselect:{boolean:r},navigationButtons:{boolean:r},selectable:{boolean:r},selectConnectedEdges:{boolean:r},hoverConnectedEdges:{boolean:r},tooltipDelay:{number:i},zoomView:{boolean:r},__type__:{object:f}},layout:{randomSeed:{undefined:"undefined",number:i},improvedLayout:{boolean:r},hierarchical:{enabled:{boolean:r},levelSeparation:{number:i},nodeSpacing:{number:i},treeSpacing:{number:i},blockShifting:{boolean:r},edgeMinimization:{boolean:r},parentCentralization:{boolean:r},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:f,boolean:r}},__type__:{object:f}},manipulation:{enabled:{boolean:r},initiallyActive:{boolean:r},addNode:{boolean:r,"function":"function"},addEdge:{boolean:r,"function":"function"},editNode:{"function":"function"},editEdge:{editWithoutDrag:{"function":"function"},__type__:{object:f,boolean:r,"function":"function"}},deleteNode:{boolean:r,"function":"function"},deleteEdge:{boolean:r,"function":"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:f,boolean:r}},nodes:{borderWidth:{number:i},borderWidthSelected:{number:i,undefined:"undefined"},brokenImage:{string:u,undefined:"undefined"},chosen:{label:{boolean:r,"function":"function"},node:{boolean:r,"function":"function"},__type__:{object:f,boolean:r}},color:{border:{string:u},background:{string:u},highlight:{border:{string:u},background:{string:u},__type__:{object:f,string:u}},hover:{border:{string:u},background:{string:u},__type__:{object:f,string:u}},__type__:{object:f,string:u}},fixed:{x:{boolean:r},y:{boolean:r},__type__:{object:f,boolean:r}},font:{align:{string:u},color:{string:u},size:{number:i},face:{string:u},background:{string:u},strokeWidth:{number:i},strokeColor:{string:u},vadjust:{number:i},multi:{boolean:r,string:u},bold:{color:{string:u},size:{number:i},face:{string:u},mod:{string:u},vadjust:{number:i},__type__:{object:f,string:u}},boldital:{color:{string:u},size:{number:i},face:{string:u},mod:{string:u},vadjust:{number:i},__type__:{object:f,string:u}},ital:{color:{string:u},size:{number:i},face:{string:u},mod:{string:u},vadjust:{number:i},__type__:{object:f,string:u}},mono:{color:{string:u},size:{number:i},face:{string:u},mod:{string:u},vadjust:{number:i},__type__:{object:f,string:u}},__type__:{object:f,string:u}},group:{string:u,number:i,undefined:"undefined"},heightConstraint:{minimum:{number:i},valign:{string:u},__type__:{object:f,boolean:r,number:i}},hidden:{boolean:r},icon:{face:{string:u},code:{string:u},size:{number:i},color:{string:u},__type__:{object:f}},id:{string:u,number:i},image:{string:u,undefined:"undefined"},label:{string:u,undefined:"undefined"},labelHighlightBold:{boolean:r},level:{number:i,undefined:"undefined"},margin:{top:{number:i},right:{number:i},bottom:{number:i},left:{number:i},__type__:{object:f,number:i}},mass:{number:i},physics:{boolean:r},scaling:{min:{number:i},max:{number:i},label:{enabled:{boolean:r},min:{number:i},max:{number:i},maxVisible:{number:i},drawThreshold:{number:i},__type__:{object:f,boolean:r}},customScalingFunction:{"function":"function"},__type__:{object:f}},shadow:{enabled:{boolean:r},color:{string:u},size:{number:i},x:{number:i},y:{number:i},__type__:{object:f,boolean:r}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon"]},shapeProperties:{borderDashes:{boolean:r,array:o},borderRadius:{number:i},interpolation:{boolean:r},useImageSize:{boolean:r},useBorderWithImage:{boolean:r},__type__:{object:f}},size:{number:i},title:{string:u,undefined:"undefined"},value:{number:i,undefined:"undefined"},widthConstraint:{minimum:{number:i},maximum:{number:i},__type__:{object:f,boolean:r,number:i}},x:{number:i},y:{number:i},__type__:{object:f}},physics:{enabled:{boolean:r},barnesHut:{gravitationalConstant:{number:i},centralGravity:{number:i},springLength:{number:i},springConstant:{number:i},damping:{number:i},avoidOverlap:{number:i},__type__:{object:f}},forceAtlas2Based:{gravitationalConstant:{number:i},centralGravity:{number:i},springLength:{number:i},springConstant:{number:i},damping:{number:i},avoidOverlap:{number:i},__type__:{object:f}},repulsion:{centralGravity:{number:i},springLength:{number:i},springConstant:{number:i},nodeDistance:{number:i},damping:{number:i},__type__:{object:f}},hierarchicalRepulsion:{centralGravity:{number:i},springLength:{number:i},springConstant:{number:i},nodeDistance:{number:i},damping:{number:i},__type__:{object:f}},maxVelocity:{number:i},minVelocity:{number:i},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:r},iterations:{number:i},updateInterval:{number:i},onlyDynamicEdges:{boolean:r},fit:{boolean:r},__type__:{object:f,boolean:r}},timestep:{number:i},adaptiveTimestep:{boolean:r},__type__:{object:f,boolean:r}},autoResize:{boolean:r},clickToUse:{boolean:r},locale:{string:u},locales:{__any__:{any:"any"},__type__:{object:f}},height:{string:u},width:{string:u},__type__:{object:f}};e.groups.__any__=e.nodes;e.manipulation.controlNodeStyle=e.nodes;s={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}};t.allOptions=e;t.configureOptions=s},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var f=i(161),u=r(f),e=i(115),o=r(e),s=i(116),h=r(s),c=i(222),l=r(c),a=function(){function n(t,i,r){o.default(this,n);this.body=t;this.springLength=i;this.springConstant=r;this.distanceSolver=new l.default}return h.default(n,[{key:"setOptions",value:function(n){n&&(n.springLength&&(this.springLength=n.springLength),n.springConstant&&(this.springConstant=n.springConstant))}},{key:"solve",value:function(n,t){var p=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=this.distanceSolver.getDistances(this.body,n,t),v,i,y,r;this._createL_matrix(l);this._createK_matrix(l);for(var a=0,w=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),f=1e9,e=0,o=0,s=0,h=0,c=0;f>.01&&a<w;)for(a+=1,v=this._getHighestEnergyNode(p),i=u.default(v,4),e=i[0],f=i[1],o=i[2],s=i[3],h=f,c=0;h>1&&c<5;)c+=1,this._moveNode(e,o,s),y=this._getEnergy(e),r=u.default(y,3),h=r[0],o=r[1],s=r[2]}},{key:"_getHighestEnergyNode",value:function(n){for(var t,r=this.body.nodeIndices,i=this.body.nodes,f=0,s=r[0],h=0,c=0,e=0;e<r.length;e++)if(t=r[e],i[t].predefinedPosition===!1||i[t].isCluster===!0&&n===!0||i[t].options.fixed.x===!0||i[t].options.fixed.y===!0){var a=this._getEnergy(t),o=u.default(a,3),l=o[0],v=o[1],y=o[2];f<l&&(f=l,s=t,h=v,c=y)}return[s,f,h,c]}},{key:"_getEnergy",value:function(n){for(var t,a,c=this.body.nodeIndices,i=this.body.nodes,r=i[n].x,u=i[n].y,f=0,e=0,o=0;o<c.length;o++)if(t=c[o],t!==n){var s=i[t].x,h=i[t].y,l=1/Math.sqrt(Math.pow(r-s,2)+Math.pow(u-h,2));f+=this.K_matrix[n][t]*(r-s-this.L_matrix[n][t]*(r-s)*l);e+=this.K_matrix[n][t]*(u-h-this.L_matrix[n][t]*(u-h)*l)}return a=Math.sqrt(Math.pow(f,2)+Math.pow(e,2)),[a,f,e]}},{key:"_moveNode",value:function(n,t,i){for(var r,v=this.body.nodeIndices,u=this.body.nodes,y=0,p=0,w=0,e=u[n].x,o=u[n].y,s=0;s<v.length;s++)if(r=v[s],r!==n){var h=u[r].x,c=u[r].y,l=1/Math.pow(Math.pow(e-h,2)+Math.pow(o-c,2),1.5);y+=this.K_matrix[n][r]*(1-this.L_matrix[n][r]*Math.pow(o-c,2)*l);p+=this.K_matrix[n][r]*this.L_matrix[n][r]*(e-h)*(o-c)*l;w+=this.K_matrix[n][r]*(1-this.L_matrix[n][r]*Math.pow(e-h,2)*l)}var a=y,f=p,b=t,d=w,g=i,k=(b/a+g/f)/(f/a-d/f),nt=-(f*k+b)/a;u[n].x+=nt;u[n].y+=k}},{key:"_createL_matrix",value:function(n){var t=this.body.nodeIndices,u=this.springLength,i,r;for(this.L_matrix=[],i=0;i<t.length;i++)for(this.L_matrix[t[i]]={},r=0;r<t.length;r++)this.L_matrix[t[i]][t[r]]=u*n[t[i]][t[r]]}},{key:"_createK_matrix",value:function(n){var t=this.body.nodeIndices,u=this.springConstant,i,r;for(this.K_matrix=[],i=0;i<t.length;i++)for(this.K_matrix[t[i]]={},r=0;r<t.length;r++)this.K_matrix[t[i]][t[r]]=u*Math.pow(n[t[i]][t[r]],-2)}}]),n}();t.default=a},function(n,t,i){function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(115),f=r(u),e=i(116),o=r(e),s=function(){function n(){f.default(this,n)}return o.default(n,[{key:"getDistances",value:function(n,t,i){for(var s,c,e,l,h,u,o,r={},a=n.edges,f=0;f<t.length;f++)for(r[t[f]]={},r[t[f]]={},s=0;s<t.length;s++)r[t[f]][t[s]]=f==s?0:1e9,r[t[f]][t[s]]=f==s?0:1e9;for(c=0;c<i.length;c++)e=a[i[c]],e.connected===!0&&void 0!==r[e.fromId]&&void 0!==r[e.toId]&&(r[e.fromId][e.toId]=1,r[e.toId][e.fromId]=1);for(l=t.length,h=0;h<l;h++)for(u=0;u<l-1;u++)for(o=u+1;o<l;o++)r[t[u]][t[o]]=Math.min(r[t[u]][t[o]],r[t[u]][t[h]]+r[t[h]][t[o]]),r[t[o]][t[u]]=r[t[u]][t[o]];return r}}]),n}();t.default=s},function(){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(n,t,i){this.beginPath();this.arc(n,t,i,0,2*Math.PI,!1);this.closePath()},CanvasRenderingContext2D.prototype.square=function(n,t,i){this.beginPath();this.rect(n-i,t-i,2*i,2*i);this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(n,t,i){this.beginPath();i*=1.15;t+=.275*i;var r=2*i,u=r/2,f=Math.sqrt(3)/6*r,e=Math.sqrt(r*r-u*u);this.moveTo(n,t-(e-f));this.lineTo(n+u,t+f);this.lineTo(n-u,t+f);this.lineTo(n,t-(e-f));this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(n,t,i){this.beginPath();i*=1.15;t-=.275*i;var r=2*i,u=r/2,f=Math.sqrt(3)/6*r,e=Math.sqrt(r*r-u*u);this.moveTo(n,t+(e-f));this.lineTo(n+u,t-f);this.lineTo(n-u,t-f);this.lineTo(n,t+(e-f));this.closePath()},CanvasRenderingContext2D.prototype.star=function(n,t,i){var r,u;for(this.beginPath(),i*=.82,t+=.1*i,r=0;r<10;r++)u=r%2==0?1.3*i:.5*i,this.lineTo(n+u*Math.sin(2*r*Math.PI/10),t-u*Math.cos(2*r*Math.PI/10));this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(n,t,i){this.beginPath();this.lineTo(n,t+i);this.lineTo(n+i,t);this.lineTo(n,t-i);this.lineTo(n-i,t);this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(n,t,i,r,u){var f=Math.PI/180;i-2*u<0&&(u=i/2);r-2*u<0&&(u=r/2);this.beginPath();this.moveTo(n+u,t);this.lineTo(n+i-u,t);this.arc(n+i-u,t+u,u,270*f,360*f,!1);this.lineTo(n+i,t+r-u);this.arc(n+i-u,t+r-u,u,0,90*f,!1);this.lineTo(n+u,t+r);this.arc(n+u,t+r-u,u,90*f,180*f,!1);this.lineTo(n,t+u);this.arc(n+u,t+u,u,180*f,270*f,!1);this.closePath()},CanvasRenderingContext2D.prototype.ellipse=function(n,t,i,r){var c=.5522848,e=i/2*c,o=r/2*c,s=n+i,h=t+r,f=n+i/2,u=t+r/2;this.beginPath();this.moveTo(n,u);this.bezierCurveTo(n,u-o,f-e,t,f,t);this.bezierCurveTo(f+e,t,s,u-o,s,u);this.bezierCurveTo(s,u+o,f+e,h,f,h);this.bezierCurveTo(f-e,h,n,u+o,n,u);this.closePath()},CanvasRenderingContext2D.prototype.database=function(n,t,i,r){var l=i,h=r*(1/3),y=.5522848,e=l/2*y,o=h/2*y,s=n+l,a=t+h,u=n+l/2,f=t+h/2,c=t+(r-h/2),v=t+r;this.beginPath();this.moveTo(s,f);this.bezierCurveTo(s,f+o,u+e,a,u,a);this.bezierCurveTo(u-e,a,n,f+o,n,f);this.bezierCurveTo(n,f-o,u-e,t,u,t);this.bezierCurveTo(u+e,t,s,f-o,s,f);this.lineTo(s,c);this.bezierCurveTo(s,c+o,u+e,v,u,v);this.bezierCurveTo(u-e,v,n,c+o,n,c);this.lineTo(n,f)},CanvasRenderingContext2D.prototype.arrowEndpoint=function(n,t,i,r){var u=n-r*Math.cos(i),f=t-r*Math.sin(i),e=n-.9*r*Math.cos(i),o=t-.9*r*Math.sin(i),s=u+r/3*Math.cos(i+.5*Math.PI),h=f+r/3*Math.sin(i+.5*Math.PI),c=u+r/3*Math.cos(i-.5*Math.PI),l=f+r/3*Math.sin(i-.5*Math.PI);this.beginPath();this.moveTo(n,t);this.lineTo(s,h);this.lineTo(e,o);this.lineTo(c,l);this.closePath()},CanvasRenderingContext2D.prototype.circleEndpoint=function(n,t,i,r){var u=.4*r,f=n-u*Math.cos(i),e=t-u*Math.sin(i);this.circle(f,e,u)},CanvasRenderingContext2D.prototype.dashedLine=function(n,t,i,r,u){this.beginPath();this.moveTo(n,t);for(var a=u.length,o=i-n,h=r-t,c=h/o,s=Math.sqrt(o*o+h*h),v=0,l=!0,f=0,e=u[0];s>=.1;)e=u[v++%a],e>s&&(e=s),f=Math.sqrt(e*e/(1+c*c)),f=o<0?-f:f,n+=f,t+=c*f,l===!0?this.lineTo(n,t):this.moveTo(n,t),s-=e,l=!l})},function(n,t,i){function ot(n){return n&&n.__esModule?n:{"default":n}}function w(n){return l=n,lt()}function st(){a=0;u=l.charAt(0)}function e(){a++;u=l.charAt(a)}function v(){return l.charAt(a+1)}function b(n){return dt.test(n)}function c(n,t){if(n||(n={}),t)for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function ht(n,t,i){for(var u,f=t.split("."),r=n;f.length;)u=f.shift(),f.length?(r[u]||(r[u]={}),r=r[u]):r[u]=i}function k(n,t){for(var f,i,o,r=null,e=[n],u=n;u.parent;)e.push(u.parent),u=u.parent;if(u.nodes)for(i=0,o=u.nodes.length;i<o;i++)if(t.id===u.nodes[i].id){r=u.nodes[i];break}for(r||(r={id:t.id},n.node&&(r.attr=c(r.attr,n.node))),i=e.length-1;i>=0;i--)f=e[i],f.nodes||(f.nodes=[]),f.nodes.indexOf(r)===-1&&f.nodes.push(r);t.attr&&(r.attr=c(r.attr,t.attr))}function ct(n,t){if(n.edges||(n.edges=[]),n.edges.push(t),n.edge){var i=c({},n.edge);t.attr=c(i,t.attr)}}function d(n,t,i,r,u){var f={from:t,to:i,type:r};return n.edge&&(f.attr=c({},n.edge)),f.attr=c(f.attr||{},u),f}function f(){var t,n,i;for(s=o.NULL,r="";" "===u||"\t"===u||"\n"===u||"\r"===u;)e();do{if(t=!1,"#"===u){for(n=a-1;" "===l.charAt(n)||"\t"===l.charAt(n);)n--;if("\n"===l.charAt(n)||""===l.charAt(n)){for(;""!=u&&"\n"!=u;)e();t=!0}}if("/"===u&&"/"===v()){for(;""!=u&&"\n"!=u;)e();t=!0}if("/"===u&&"*"===v()){for(;""!=u;){if("*"===u&&"/"===v()){e();e();break}e()}t=!0}for(;" "===u||"\t"===u||"\n"===u||"\r"===u;)e()}while(t);if(""===u)return void(s=o.DELIMITER);if(i=u+v(),et[i])return s=o.DELIMITER,r=i,e(),void e();if(et[u])return s=o.DELIMITER,r=u,void e();if(b(u)||"-"===u){for(r+=u,e();b(u);)r+=u,e();return"false"===r?r=!1:"true"===r?r=!0:isNaN(Number(r))||(r=Number(r)),void(s=o.IDENTIFIER)}if('"'===u){for(e();""!=u&&('"'!=u||'"'===u&&'"'===v());)r+=u,'"'===u&&e(),e();if('"'!=u)throw h('End of string " expected');return e(),void(s=o.IDENTIFIER)}for(s=o.UNKNOWN;""!=u;)r+=u,e();throw new SyntaxError('Syntax error in part "'+it(r,30)+'"');}function lt(){var n={};if(st(),f(),"strict"===r&&(n.strict=!0,f()),"graph"!==r&&"digraph"!==r||(n.type=r,f()),s===o.IDENTIFIER&&(n.id=r,f()),"{"!=r)throw h("Angle bracket { expected");if(f(),g(n),"}"!=r)throw h("Angle bracket } expected");if(f(),""!==r)throw h("End of file expected");return f(),delete n.node,delete n.edge,delete n.graph,n}function g(n){for(;""!==r&&"}"!=r;)at(n),";"===r&&f()}function at(n){var i=nt(n),u,t;if(i)return void tt(n,i);if(u=vt(n),!u){if(s!=o.IDENTIFIER)throw h("Identifier expected");if(t=r,f(),"="===r){if(f(),s!=o.IDENTIFIER)throw h("Identifier expected");n[t]=r;f()}else yt(n,t)}}function nt(n){var t=null;if("subgraph"===r&&(t={},t.type="subgraph",f(),s===o.IDENTIFIER&&(t.id=r,f())),"{"===r){if(f(),t||(t={}),t.parent=n,t.node=n.node,t.edge=n.edge,t.graph=n.graph,g(t),"}"!=r)throw h("Angle bracket } expected");f();delete t.node;delete t.edge;delete t.graph;delete t.parent;n.subgraphs||(n.subgraphs=[]);n.subgraphs.push(t)}return t}function vt(n){return"node"===r?(f(),n.node=y(),"node"):"edge"===r?(f(),n.edge=y(),"edge"):"graph"===r?(f(),n.graph=y(),"graph"):null}function yt(n,t){var i={id:t},r=y();r&&(i.attr=r);k(n,i);tt(n,t)}function tt(n,t){for(var i,e,u,c,l;"->"===r||"--"===r;){if(e=r,f(),u=nt(n),u)i=u;else{if(s!=o.IDENTIFIER)throw h("Identifier or subgraph expected");i=r;k(n,{id:i});f()}c=y();l=d(n,t,i,e,c);ct(n,l);t=i}}function y(){for(var t,i,n=null;"["===r;){for(f(),n={};""!==r&&"]"!=r;){if(s!=o.IDENTIFIER)throw h("Attribute name expected");if(t=r,f(),"="!=r)throw h("Equal sign = expected");if(f(),s!=o.IDENTIFIER)throw h("Attribute value expected");i=r;ht(n,t,i);f();","==r&&f()}if("]"!=r)throw h("Bracket ] expected");f()}return n}function h(n){return new SyntaxError(n+', got "'+it(r,30)+'" (char '+a+")")}function it(n,t){return n.length<=t?n:n.substr(0,27)+"..."}function pt(n,t,i){Array.isArray(n)?n.forEach(function(n){Array.isArray(t)?t.forEach(function(t){i(n,t)}):i(n,t)}):Array.isArray(t)?t.forEach(function(t){i(n,t)}):i(n,t)}function p(n,t,i){for(var u,f=t.split("."),o=f.pop(),r=n,e=0;e<f.length;e++)u=f[e],u in r||(r[u]={}),r=r[u];return r[o]=i,n}function rt(n,t){var u={},i,r;for(i in n)n.hasOwnProperty(i)&&(r=t[i],Array.isArray(r)?r.forEach(function(t){p(u,t,n[i])}):"string"==typeof r?p(u,r,n[i]):p(u,i,n[i]));return u}function wt(n){var i=w(n),t={nodes:[],edges:[],options:{}},r;return(i.nodes&&i.nodes.forEach(function(n){var i={id:n.id,label:String(n.label||n.id)};c(i,rt(n.attr,ut));i.image&&(i.shape="image");t.nodes.push(i)}),i.edges)&&(r=function(n){var t={from:n.from,to:n.to};return c(t,rt(n.attr,ft)),t.arrows="->"===n.type?"to":void 0,t},i.edges.forEach(function(n){var i,u;i=n.from instanceof Object?n.from.nodes:{id:n.from};u=n.to instanceof Object?n.to.nodes:{id:n.to};n.from instanceof Object&&n.from.edges&&n.from.edges.forEach(function(n){var i=r(n);t.edges.push(i)});pt(i,u,function(i,u){var f=d(t,i.id,u.id,n.type,n.attr),e=r(f);t.edges.push(e)});n.to instanceof Object&&n.to.edges&&n.to.edges.forEach(function(n){var i=r(n);t.edges.push(i)})})),i.attr&&(t.options=i.attr),t}var bt=i(55),kt=ot(bt),ut={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},ft=kt.default(ut);ft.color="color.color";var o={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},et={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},l="",a=0,u="",r="",s=o.NULL,dt=/[a-zA-Z_0-9.:#]/;t.parseDOT=w;t.DOTToGraph=wt},function(n,t){function i(n,t){var s=[],h=[],o={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}},f,u,e,r,i;void 0!==t&&(void 0!==t.fixed&&(o.nodes.fixed=t.fixed),void 0!==t.parseColor&&(o.nodes.parseColor=t.parseColor),void 0!==t.inheritColor&&(o.edges.inheritColor=t.inheritColor));for(var c=n.edges,l=n.nodes,e=0;e<c.length;e++)f={},u=c[e],f.id=u.id,f.from=u.source,f.to=u.target,f.attributes=u.attributes,f.label=u.label,f.title=void 0!==u.attributes?u.attributes.title:void 0,"Directed"===u.type&&(f.arrows="to"),u.color&&o.inheritColor===!1&&(f.color=u.color),s.push(f);for(e=0;e<l.length;e++)r={},i=l[e],r.id=i.id,r.attributes=i.attributes,r.title=i.title,r.x=i.x,r.y=i.y,r.label=i.label,r.title=void 0!==i.attributes?i.attributes.title:void 0,r.color=o.nodes.parseColor===!0?i.color:void 0!==i.color?{background:i.color,border:i.color,highlight:{background:i.color,border:i.color},hover:{background:i.color,border:i.color}}:void 0,r.size=i.size,r.fixed=o.nodes.fixed&&void 0!==i.x&&void 0!==i.y,h.push(r);return{nodes:h,edges:s}}t.parseGephi=i},function(n,t){t.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."};t.en_EN=t.en;t.en_US=t.en;t.de={edit:"Editieren",del:"Lösche Auswahl",back:"Zurück",addNode:"Knoten hinzufügen",addEdge:"Kante hinzufügen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster können nicht gelöscht werden.",editClusterError:"Cluster können nicht editiert werden."};t.de_DE=t.de;t.es={edit:"Editar",del:"Eliminar selección",back:"Átras",addNode:"Añadir nodo",addEdge:"Añadir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."};t.es_ES=t.es;t.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."};t.it_IT=t.it;t.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."};t.nl_NL=t.nl;t.nl_BE=t.nl;t["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar nó",addEdge:"Adicionar aresta",editNode:"Editar nó",editEdge:"Editar aresta",addDescription:"Clique em um espaço em branco para adicionar um novo nó",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",createEdgeError:"Não foi possível linkar arestas a um cluster.",deleteClusterError:"Clusters não puderam ser removidos.",editClusterError:"Clusters não puderam ser editados."};t["pt-BR"]=t["pt-br"];t.pt_BR=t["pt-br"];t.pt_br=t["pt-br"];t.ru={edit:"Редактировать",del:"Удалить выбранное",back:"Назад",addNode:"Добавить узел",addEdge:"Добавить ребро",editNode:"Редактировать узел",editEdge:"Редактировать ребро",addDescription:"Кликните в свободное место, чтобы добавить новый узел.",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",createEdgeError:"Невозможно соединить ребра в кластер.",deleteClusterError:"Кластеры не могут быть удалены",editClusterError:"Кластеры недоступны для редактирования."};t.ru_RU=t.ru}])});$(function(){var u=document.getElementById("viz"),t,n;if(u!=null){t={nodes:{shape:"dot",scaling:{min:20,max:90,label:{min:12,max:20}},font:{align:"left"},borderWidth:2,shadow:!0},interaction:{},layout:{improvedLayout:!0},edges:{smooth:{enabled:!0,type:"dynamic"},font:{size:8,color:"#c0c0c0"},scaling:{label:{drawThreshold:16}},arrows:{to:{enabled:!0}}},physics:{adaptiveTimestep:!0,barnesHut:{gravitationalConstant:-5e4},stabilization:{fit:!0,iterations:1e3,updateInterval:10}}};n=new vis.Network(u,data,t);n.on("click",function(){});n.on("doubleClick",function(n){var i,t,r;(console.log(n),n.nodes.length!=0)&&(i=n.nodes[0],t=$.grep(data.nodes,function(n){return n.id==i}),t.length>=0&&(r=t[0].url),window.location=r)});n.once("startStabilizing",function(){$("#spinner").show()});n.on("stabilizationProgress",function(n){var t=n.iterations/3%100;$("#spinner .progress-bar").css("width",t+"%");n.iterations>n.total-50&&$("#spinner").hide()});n.on("stabilized",function(){$("#spinner").hide()});var i=null,r=!0;$(window).scroll(function(){clearTimeout(i);r&&(t.interaction.zoomView=!1,n.setOptions(t),r=!1);i=setTimeout(function(){console.log("scroll stop");t.interaction.zoomView=!0;n.setOptions(t);r=!0;clearTimeout(i);i=null},1e3)})}});$(function(){function n(){$("#flash").animate({height:"0",speed:500},{always:function(){var n=$("#flash .message");n.html("")}})}$("[data-send=json]").click(function(){var t=$(this),r=t.data("name"),u=t.data("value"),i=$("#flash"),f=$("#flash .message"),e=$(".top-nav"),o=e.height(),s=$.ajax({url:"/data/"+r,cache:!1,data:{id:u}}).done(function(t){console.log("success");var r=JSON.parse(t);i.addClass("alert-success");i.animate({height:"71px",speed:500});console.log(r);f.html(r.html);setTimeout(function(){n()},3e3)}).fail(function(){console.log("error")}).always(function(){console.log("complete")})});$("#flash .close").click(function(){n()})});$(function(){Highcharts.theme={colors:["#058DC7","#64E572","#FF9655","#FFF263","#6AF9C4","#50B432","#ED561B","#DDDF00"],chart:{backgroundColor:null,borderWidth:0,style:{overflow:"visible"},skipClone:!0},lang:{thousandsSep:","},title:{text:""},credits:{enabled:!1},xAxis:{lineWidth:0,gridLineWidth:0,gridLineColor:"#eeeeee",type:"datetime",labels:{enabled:!1},title:{text:null},startOnTick:!1,endOnTick:!1,maxPadding:0,minPadding:0,tickPositions:[]},yAxis:[{gridLineWidth:0,gridLineColor:"#eeeeee",endOnTick:!1,startOnTick:!1,labels:{enabled:!1},title:{text:null},tickPositions:[]},{id:"annotations",reversed:!0,visible:!1}],legend:{enabled:!0,layout:"horizontal",itemWidth:200,itemStyle:{fontWeight:"bold",width:"180%",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},useHTML:!0},plotOptions:{pie:{dataLabels:{enabled:!1},showInLegend:!0},areaspline:{pointPlacement:null,marker:{radius:0},tooltip:{pointFormat:"<b>{point.y:,.0f}<br/>{point.x:%b %e %Y}"}},column:{pointPadding:0},line:{},scatter:{marker:{enabled:!0,symbol:"circle",radius:5},tooltip:{pointFormat:"<b>{point.name}<\/b><br/>{point.x:%b %e %Y}"}},series:{enabledMouseTracking:!1,animation:{duration:1750},lineWidth:2,shadow:!1,states:{hover:{lineWidth:2}},marker:{symbol:"circle",states:{hover:{radius:5}}},fillOpacity:.25}}};Highcharts.setOptions(Highcharts.theme);var t=null,n=!1;$("body").on("mouseenter",".lineitem-cell,.lineitem-sparkline",function(){if(!n){t=this;var i=this;n=!0;setTimeout(function(){if(t===i){if($(i).find(".lineitem-sparkline").exists()){$(i).find(".lineitem-sparkline").fadeIn();return}var r=$(i).data("series"),n=document.createElement("div");n.className="lineitem-sparkline";$(n).data("series",r);$(i).prepend(n);$(n).highcharts("SparkLine",{plotOptions:{series:{animation:{duration:750}}}})}},200)}});$("body").on("mouseleave",".lineitem-cell",function(){n=!1;var t=this;setTimeout(function(){$(t).find(".lineitem-sparkline").fadeOut()},500)})});$(function(){renderCharts()});jQuery.fn.exists=function(){return this.length>0};Highcharts.SparkLine=function(n,t,i){var u=typeof n=="string"||n.nodeName,r=arguments[u?1:0],f={chart:{renderTo:r.chart&&r.chart.renderTo||this,margin:[0,0,0,0]},tooltip:{enabled:!1},legend:{enabled:!1},series:[]};return DefaultChart(n,t,i,f)};Highcharts.Combo=function(n,t,i){var u=$(n).data("highchartsChart"),o=$(n).attr("id");if(!(u>-1)){var f=typeof n=="string"||n.nodeName,r=arguments[f?1:0],e={chart:{renderTo:r.chart&&r.chart.renderTo||this},series:[],xAxis:{plotLines:[]}};return DefaultChart(n,t,i,e)}};